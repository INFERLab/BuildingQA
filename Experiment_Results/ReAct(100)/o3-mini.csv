query_id,question_number,source,question,model,ground_truth_sparql,generated_sparql,syntax_ok,returns_results,perfect_match,gt_num_rows,gt_num_cols,gen_num_rows,gen_num_cols,exact_match_f1,prompt_tokens,completion_tokens,total_tokens,entity_set_f1,row_matching_f1,less_columns_flag,exact_match_precision,exact_match_recall,approach,building,model_name
DFLEXLIBS_001,1,human,"For each HVAC zone in the building, what are the timeseries IDs for the available zone temperature sensor' points, min and max temperature setpoints, temperature setpoints (single, heating/cooling or occupied/unoccupied), occupancy sensors and commands, and any related VAV damper, discharge temperature, and reheat command points?",openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
SELECT ?zone_name ?zone_temp_point ?set_temp_min_point ?set_temp_max_point ?occ_sensor_point ?occ_cmd_point
?zone_set_temp_heat_point ?zone_set_temp_cool_point ?unocc_zone_set_temp_heat_point ?unocc_zone_set_temp_cool_point
?occ_zone_set_temp_heat_point ?occ_zone_set_temp_cool_point ?zone_set_temp_point ?vav_damper_set_point ?vav_discharge_temp_point
?vav_reheat_command_point
WHERE {
    ?zone a brick:HVAC_Zone ; rdfs:label ?zone_name.
    OPTIONAL { ?zone brick:hasPoint ?TZon. ?TZon a brick:Zone_Air_Temperature_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?zone_temp_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetMin . ?TSetMin a brick:Min_Air_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?set_temp_min_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetMax . ?TSetMax a brick:Max_Air_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?set_temp_max_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetHeaZon . ?TSetHeaZon a brick:Zone_Air_Heating_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_heat_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetCooZon . ?TSetCooZon a brick:Zone_Air_Cooling_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_cool_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccSensor. ?OccSensor a brick:Occupancy_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_sensor_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccCmd . ?OccCmd a brick:Occupancy_Command ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_cmd_point .}
    OPTIONAL { ?zone brick:hasPoint ?UnOccTSetCooZon. ?UnOccTSetCooZon a brick:Unoccupied_Cooling_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?unocc_zone_set_temp_cool_point . }
    OPTIONAL { ?zone brick:hasPoint ?UnOccTSetHeaZon . ?UnOccTSetHeaZon a brick:Unoccupied_Heating_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?unocc_zone_set_temp_heat_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccTSetCooZon . ?OccTSetCooZon a brick:Occupied_Cooling_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?occ_zone_set_temp_cool_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccTSetHeaZon . ?OccTSetHeaZon a brick:Occupied_Heating_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_zone_set_temp_heat_point . }
    OPTIONAL { ?zone brick:hasPoint ?TSetZon . ?TSetZon a brick:Zone_Air_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_DamSet . ?Vav_DamSet a brick:Damper_Position_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?vav_damper_set_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_DisTemp . ?Vav_DisTemp a brick:Discharge_Air_Temperature_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?vav_discharge_temp_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_ReheatCmd . ?Vav_ReheatCmd a brick:Valve_Command; ref:hasExternalReference/ref:hasTimeseriesId ?vav_reheat_command_point .}
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT ?zone (GROUP_CONCAT(CONCAT(?pointType, "" ("", STR(?point), ""):"", ?timeseriesid) ; separator="", "") AS ?points)
WHERE {
  ?zone a brick:HVAC_Zone .
  {
    # 1. Zone air temperature sensor points
    ?zone brick:hasPoint ?point .
    ?point a brick:Zone_Air_Temperature_Sensor .
    ?point ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?timeseriesid .
    BIND(""Zone_Air_Temperature_Sensor"" AS ?pointType)
  }
  UNION
  {
    # 2. Single/general zone air temperature setpoint points
    ?zone brick:hasPoint ?point .
    ?point a brick:Zone_Air_Temperature_Setpoint .
    ?point ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?timeseriesid .
    BIND(""Zone_Air_Temperature_Setpoint"" AS ?pointType)
  }
  UNION
  {
    # 3. Heating temperature setpoints (which may include occupied/unoccupied distinctions)
    ?zone brick:hasPoint ?point .
    ?point a brick:Zone_Air_Heating_Temperature_Setpoint .
    ?point ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?timeseriesid .
    BIND(""Zone_Air_Heating_Temperature_Setpoint"" AS ?pointType)
  }
  UNION
  {
    # 4. Cooling temperature setpoints (which may include occupied/unoccupied distinctions)
    ?zone brick:hasPoint ?point .
    ?point a brick:Zone_Air_Cooling_Temperature_Setpoint .
    ?point ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?timeseriesid .
    BIND(""Zone_Air_Cooling_Temperature_Setpoint"" AS ?pointType)
  }
  UNION
  {
    # 5. Minimum air temperature setpoints
    ?zone brick:hasPoint ?point .
    ?point a brick:Min_Air_Temperature_Setpoint .
    ?point ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?timeseriesid .
    BIND(""Min_Air_Temperature_Setpoint"" AS ?pointType)
  }
  UNION
  {
    # 6. Maximum air temperature setpoints
    ?zone brick:hasPoint ?point .
    ?point a brick:Max_Air_Temperature_Setpoint .
    ?point ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?timeseriesid .
    BIND(""Max_Air_Temperature_Setpoint"" AS ?pointType)
  }
  UNION
  {
    # 7. Occupancy sensor points
    ?zone brick:hasPoint ?point .
    ?point a brick:Occupancy_Sensor .
    ?point ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?timeseriesid .
    BIND(""Occupancy_Sensor"" AS ?pointType)
  }
  UNION
  {
    # 8. Occupancy command points (if an explicit Brick class exists)
    ?zone brick:hasPoint ?point .
    ?point a brick:Occupancy_Command .
    ?point ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?timeseriesid .
    BIND(""Occupancy_Command"" AS ?pointType)
  }
  UNION
  {
    # 9. VAV damper control points (damper position setpoints)
    ?zone brick:hasPoint ?point .
    ?point a brick:Damper_Position_Setpoint .
    ?point ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?timeseriesid .
    BIND(""Damper_Position_Setpoint"" AS ?pointType)
  }
  UNION
  {
    # 10. Discharge air temperature sensor points
    ?zone brick:hasPoint ?point .
    ?point a brick:Discharge_Air_Temperature_Sensor .
    ?point ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?timeseriesid .
    BIND(""Discharge_Air_Temperature_Sensor"" AS ?pointType)
  }
  UNION
  {
    # 11. Reheat command points: if an explicit Brick class is not available, we use known naming conventions from the Brick instances.
    ?zone brick:hasPoint ?point .
    ?point a brick:Valve_Command .
    FILTER(CONTAINS(STR(?point), ""ReaHea""))
    ?point ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?timeseriesid .
    BIND(""Reheat_Command"" AS ?pointType)
  }
}
GROUP BY ?zone
ORDER BY ?zone",True,True,False,1080,16,5,2,0.0,15261,18908,34169,0.0,0.0,True,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_001,2,LLM_1,"For each HVAC zone, what is the zone name and the timeseries ID for each point that the zone has, including the zone air temperature sensor point, the minimum air temperature setpoint point, the maximum air temperature setpoint point, the zone air heating temperature setpoint point, the zone air cooling temperature setpoint point, the occupancy sensor point, the occupancy command point, the unoccupied cooling temperature setpoint point, the unoccupied heating temperature setpoint point, the occupied cooling temperature setpoint point, the occupied heating temperature setpoint point, the general zone air temperature setpoint point, and for the VAV feeding that zone the damper position setpoint point, the discharge air temperature sensor point, and the valve reheat command point?",openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
SELECT ?zone_name ?zone_temp_point ?set_temp_min_point ?set_temp_max_point ?occ_sensor_point ?occ_cmd_point
?zone_set_temp_heat_point ?zone_set_temp_cool_point ?unocc_zone_set_temp_heat_point ?unocc_zone_set_temp_cool_point
?occ_zone_set_temp_heat_point ?occ_zone_set_temp_cool_point ?zone_set_temp_point ?vav_damper_set_point ?vav_discharge_temp_point
?vav_reheat_command_point
WHERE {
    ?zone a brick:HVAC_Zone ; rdfs:label ?zone_name.
    OPTIONAL { ?zone brick:hasPoint ?TZon. ?TZon a brick:Zone_Air_Temperature_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?zone_temp_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetMin . ?TSetMin a brick:Min_Air_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?set_temp_min_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetMax . ?TSetMax a brick:Max_Air_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?set_temp_max_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetHeaZon . ?TSetHeaZon a brick:Zone_Air_Heating_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_heat_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetCooZon . ?TSetCooZon a brick:Zone_Air_Cooling_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_cool_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccSensor. ?OccSensor a brick:Occupancy_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_sensor_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccCmd . ?OccCmd a brick:Occupancy_Command ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_cmd_point .}
    OPTIONAL { ?zone brick:hasPoint ?UnOccTSetCooZon. ?UnOccTSetCooZon a brick:Unoccupied_Cooling_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?unocc_zone_set_temp_cool_point . }
    OPTIONAL { ?zone brick:hasPoint ?UnOccTSetHeaZon . ?UnOccTSetHeaZon a brick:Unoccupied_Heating_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?unocc_zone_set_temp_heat_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccTSetCooZon . ?OccTSetCooZon a brick:Occupied_Cooling_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?occ_zone_set_temp_cool_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccTSetHeaZon . ?OccTSetHeaZon a brick:Occupied_Heating_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_zone_set_temp_heat_point . }
    OPTIONAL { ?zone brick:hasPoint ?TSetZon . ?TSetZon a brick:Zone_Air_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_DamSet . ?Vav_DamSet a brick:Damper_Position_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?vav_damper_set_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_DisTemp . ?Vav_DisTemp a brick:Discharge_Air_Temperature_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?vav_discharge_temp_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_ReheatCmd . ?Vav_ReheatCmd a brick:Valve_Command; ref:hasExternalReference/ref:hasTimeseriesId ?vav_reheat_command_point .}
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

# This query produces, for every HVAC_Zone, the zone name and timeseries ID for each required point type. 
# The required zone point types (directly attached to the zone) are:
#   1. Zone air temperature sensor
#   2. Minimum air temperature setpoint
#   3. Maximum air temperature setpoint
#   4. Zone air heating temperature setpoint
#   5. Zone air cooling temperature setpoint
#   6. Occupancy sensor
#   7. Occupancy command (heuristic: a point whose IRI contains 'occ' but is not an Occupancy_Sensor)
#   8. Unoccupied cooling temperature setpoint (heuristic: IRI contains 'SupNor_TZonCooSet_u')
#   9. Unoccupied heating temperature setpoint (heuristic: IRI contains 'SupNor_TZonHeaSet_u')
#  10. Occupied cooling temperature setpoint (heuristic: IRI contains 'SupWes_TZonCooSet_u')
#  11. Occupied heating temperature setpoint (heuristic: IRI contains 'SupEas_TZonHeaSet_u')
#  12. General zone air temperature setpoint (fallback: any point with 'Setp' that is not one of the above)
# And for the VAV feeding the zone (derived by naming convention from the zone IRI) we handle:
#  13. Damper position setpoint (type: brick:Damper_Position_Setpoint)
#  14. Discharge air temperature sensor (heuristic: IRI contains 'Discharge_Air_Temperature_Sensor')
#  15. Valve reheat command (type: brick:Valve_Command with IRI containing 'ReaHea')

SELECT ?zoneName ?pointCategory ?tsid
WHERE {
  {
    # 1. Zone air temperature sensor
    ?zone a brick:HVAC_Zone .
    BIND(STRAFTER(STR(?zone), ""urn:bldg/"") AS ?zoneName) .
    ?zone brick:hasPoint ?point .
    ?point a brick:Zone_Air_Temperature_Sensor .
    OPTIONAL { ?point ref:hasExternalReference ?ref . ?ref ref:hasTimeseriesId ?tsid . }
    BIND(""Zone_Air_Temperature_Sensor"" AS ?pointCategory)
  } UNION {
    # 2. Minimum air temperature setpoint
    ?zone a brick:HVAC_Zone .
    BIND(STRAFTER(STR(?zone), ""urn:bldg/"") AS ?zoneName) .
    ?zone brick:hasPoint ?point .
    ?point a brick:Min_Air_Temperature_Setpoint .
    OPTIONAL { ?point ref:hasExternalReference ?ref . ?ref ref:hasTimeseriesId ?tsid . }
    BIND(""Min_Air_Temperature_Setpoint"" AS ?pointCategory)
  } UNION {
    # 3. Maximum air temperature setpoint
    ?zone a brick:HVAC_Zone .
    BIND(STRAFTER(STR(?zone), ""urn:bldg/"") AS ?zoneName) .
    ?zone brick:hasPoint ?point .
    ?point a brick:Max_Air_Temperature_Setpoint .
    OPTIONAL { ?point ref:hasExternalReference ?ref . ?ref ref:hasTimeseriesId ?tsid . }
    BIND(""Max_Air_Temperature_Setpoint"" AS ?pointCategory)
  } UNION {
    # 4. Zone air heating temperature setpoint
    ?zone a brick:HVAC_Zone .
    BIND(STRAFTER(STR(?zone), ""urn:bldg/"") AS ?zoneName) .
    ?zone brick:hasPoint ?point .
    ?point a brick:Zone_Air_Heating_Temperature_Setpoint .
    OPTIONAL { ?point ref:hasExternalReference ?ref . ?ref ref:hasTimeseriesId ?tsid . }
    BIND(""Zone_Air_Heating_Temperature_Setpoint"" AS ?pointCategory)
  } UNION {
    # 5. Zone air cooling temperature setpoint
    ?zone a brick:HVAC_Zone .
    BIND(STRAFTER(STR(?zone), ""urn:bldg/"") AS ?zoneName) .
    ?zone brick:hasPoint ?point .
    ?point a brick:Zone_Air_Cooling_Temperature_Setpoint .
    OPTIONAL { ?point ref:hasExternalReference ?ref . ?ref ref:hasTimeseriesId ?tsid . }
    BIND(""Zone_Air_Cooling_Temperature_Setpoint"" AS ?pointCategory)
  } UNION {
    # 6. Occupancy sensor
    ?zone a brick:HVAC_Zone .
    BIND(STRAFTER(STR(?zone), ""urn:bldg/"") AS ?zoneName) .
    ?zone brick:hasPoint ?point .
    ?point a brick:Occupancy_Sensor .
    OPTIONAL { ?point ref:hasExternalReference ?ref . ?ref ref:hasTimeseriesId ?tsid . }
    BIND(""Occupancy_Sensor"" AS ?pointCategory)
  } UNION {
    # 7. Occupancy command (heuristic: has 'occ' in IRI but not an Occupancy_Sensor type)
    ?zone a brick:HVAC_Zone .
    BIND(STRAFTER(STR(?zone), ""urn:bldg/"") AS ?zoneName) .
    ?zone brick:hasPoint ?point .
    FILTER(REGEX(STR(?point), ""occ"", ""i""))
    FILTER( !bound(?dummy) )
    FILTER( NOT EXISTS { ?point a brick:Occupancy_Sensor } )
    OPTIONAL { ?point ref:hasExternalReference ?ref . ?ref ref:hasTimeseriesId ?tsid . }
    BIND(""Occupancy_Command"" AS ?pointCategory)
  } UNION {
    # 8. Unoccupied cooling temperature setpoint (heuristic via IRI pattern)
    ?zone a brick:HVAC_Zone .
    BIND(STRAFTER(STR(?zone), ""urn:bldg/"") AS ?zoneName) .
    ?zone brick:hasPoint ?point .
    FILTER(REGEX(STR(?point), ""SupNor_TZonCooSet_u"", ""i""))
    OPTIONAL { ?point ref:hasExternalReference ?ref . ?ref ref:hasTimeseriesId ?tsid . }
    BIND(""Unoccupied_Cooling_Temperature_Setpoint"" AS ?pointCategory)
  } UNION {
    # 9. Unoccupied heating temperature setpoint (heuristic via IRI pattern)
    ?zone a brick:HVAC_Zone .
    BIND(STRAFTER(STR(?zone), ""urn:bldg/"") AS ?zoneName) .
    ?zone brick:hasPoint ?point .
    FILTER(REGEX(STR(?point), ""SupNor_TZonHeaSet_u"", ""i""))
    OPTIONAL { ?point ref:hasExternalReference ?ref . ?ref ref:hasTimeseriesId ?tsid . }
    BIND(""Unoccupied_Heating_Temperature_Setpoint"" AS ?pointCategory)
  } UNION {
    # 10. Occupied cooling temperature setpoint (heuristic via IRI pattern)
    ?zone a brick:HVAC_Zone .
    BIND(STRAFTER(STR(?zone), ""urn:bldg/"") AS ?zoneName) .
    ?zone brick:hasPoint ?point .
    FILTER(REGEX(STR(?point), ""SupWes_TZonCooSet_u"", ""i""))
    OPTIONAL { ?point ref:hasExternalReference ?ref . ?ref ref:hasTimeseriesId ?tsid . }
    BIND(""Occupied_Cooling_Temperature_Setpoint"" AS ?pointCategory)
  } UNION {
    # 11. Occupied heating temperature setpoint (heuristic via IRI pattern)
    ?zone a brick:HVAC_Zone .
    BIND(STRAFTER(STR(?zone), ""urn:bldg/"") AS ?zoneName) .
    ?zone brick:hasPoint ?point .
    FILTER(REGEX(STR(?point), ""SupEas_TZonHeaSet_u"", ""i""))
    OPTIONAL { ?point ref:hasExternalReference ?ref . ?ref ref:hasTimeseriesId ?tsid . }
    BIND(""Occupied_Heating_Temperature_Setpoint"" AS ?pointCategory)
  } UNION {
    # 12. General zone air temperature setpoint (fallback: any point with 'Setp' in IRI not already captured)
    ?zone a brick:HVAC_Zone .
    BIND(STRAFTER(STR(?zone), ""urn:bldg/"") AS ?zoneName) .
    ?zone brick:hasPoint ?point .
    FILTER(REGEX(STR(?point), ""Setp"", ""i""))
    FILTER( NOT EXISTS { ?point a brick:Min_Air_Temperature_Setpoint } )
    FILTER( NOT EXISTS { ?point a brick:Max_Air_Temperature_Setpoint } )
    FILTER( NOT EXISTS { ?point a brick:Zone_Air_Heating_Temperature_Setpoint } )
    FILTER( NOT EXISTS { ?point a brick:Zone_Air_Cooling_Temperature_Setpoint } )
    OPTIONAL { ?point ref:hasExternalReference ?ref . ?ref ref:hasTimeseriesId ?tsid . }
    BIND(""General_Zone_Air_Temperature_Setpoint"" AS ?pointCategory)
  } UNION {
    # VAV feeding the zone: derive VAV IRI via naming convention. Assume zone IRI is of the form urn:bldg/hvac_<code>_zone and VAV is urn:bldg/vav_<code>
    ?zone a brick:HVAC_Zone .
    BIND(STRAFTER(STR(?zone), ""urn:bldg/"") AS ?zoneName) .
    BIND(IRI(CONCAT(""urn:bldg/vav_"", STRBEFORE(STRAFTER(?zoneName, ""hvac_""), ""_zone""))) AS ?vav) .
    ?vav brick:hasPoint ?point .
    ?point a brick:Damper_Position_Setpoint .
    OPTIONAL { ?point ref:hasExternalReference ?ref . ?ref ref:hasTimeseriesId ?tsid . }
    BIND(""Damper_Position_Setpoint"" AS ?pointCategory)
  } UNION {
    # VAV: Discharge air temperature sensor (heuristic: point IRI contains 'Discharge_Air_Temperature_Sensor')
    ?zone a brick:HVAC_Zone .
    BIND(STRAFTER(STR(?zone), ""urn:bldg/"") AS ?zoneName) .
    BIND(IRI(CONCAT(""urn:bldg/vav_"", STRBEFORE(STRAFTER(?zoneName, ""hvac_""), ""_zone""))) AS ?vav) .
    ?vav brick:hasPoint ?point .
    FILTER(REGEX(STR(?point), ""Discharge_Air_Temperature_Sensor"", ""i""))
    OPTIONAL { ?point ref:hasExternalReference ?ref . ?ref ref:hasTimeseriesId ?tsid . }
    BIND(""Discharge_Air_Temperature_Sensor"" AS ?pointCategory)
  } UNION {
    # VAV: Valve reheat command (requires type Valve_Command and IRI containing 'ReaHea')
    ?zone a brick:HVAC_Zone .
    BIND(STRAFTER(STR(?zone), ""urn:bldg/"") AS ?zoneName) .
    BIND(IRI(CONCAT(""urn:bldg/vav_"", STRBEFORE(STRAFTER(?zoneName, ""hvac_""), ""_zone""))) AS ?vav) .
    ?vav brick:hasPoint ?point .
    ?point a brick:Valve_Command .
    FILTER(CONTAINS(STR(?point), ""ReaHea""))
    OPTIONAL { ?point ref:hasExternalReference ?ref . ?ref ref:hasTimeseriesId ?tsid . }
    BIND(""Valve_Reheat_Command"" AS ?pointCategory)
  }
}
ORDER BY ?zoneName ?pointCategory",True,True,False,1080,16,97,3,0.0,14926,26815,41741,0.0,0.0,True,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_001,3,LLM_2,"For each labeled HVAC zone, list its name and all associated timeseries identifiers for temperature measurements, various setpoint targets (min, max, heating, cooling, occupied and unoccupied), occupancy sensing and command, as well as the VAV unit’s damper position, discharge temperature, and reheat control signals.",openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
SELECT ?zone_name ?zone_temp_point ?set_temp_min_point ?set_temp_max_point ?occ_sensor_point ?occ_cmd_point
?zone_set_temp_heat_point ?zone_set_temp_cool_point ?unocc_zone_set_temp_heat_point ?unocc_zone_set_temp_cool_point
?occ_zone_set_temp_heat_point ?occ_zone_set_temp_cool_point ?zone_set_temp_point ?vav_damper_set_point ?vav_discharge_temp_point
?vav_reheat_command_point
WHERE {
    ?zone a brick:HVAC_Zone ; rdfs:label ?zone_name.
    OPTIONAL { ?zone brick:hasPoint ?TZon. ?TZon a brick:Zone_Air_Temperature_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?zone_temp_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetMin . ?TSetMin a brick:Min_Air_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?set_temp_min_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetMax . ?TSetMax a brick:Max_Air_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?set_temp_max_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetHeaZon . ?TSetHeaZon a brick:Zone_Air_Heating_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_heat_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetCooZon . ?TSetCooZon a brick:Zone_Air_Cooling_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_cool_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccSensor. ?OccSensor a brick:Occupancy_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_sensor_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccCmd . ?OccCmd a brick:Occupancy_Command ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_cmd_point .}
    OPTIONAL { ?zone brick:hasPoint ?UnOccTSetCooZon. ?UnOccTSetCooZon a brick:Unoccupied_Cooling_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?unocc_zone_set_temp_cool_point . }
    OPTIONAL { ?zone brick:hasPoint ?UnOccTSetHeaZon . ?UnOccTSetHeaZon a brick:Unoccupied_Heating_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?unocc_zone_set_temp_heat_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccTSetCooZon . ?OccTSetCooZon a brick:Occupied_Cooling_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?occ_zone_set_temp_cool_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccTSetHeaZon . ?OccTSetHeaZon a brick:Occupied_Heating_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_zone_set_temp_heat_point . }
    OPTIONAL { ?zone brick:hasPoint ?TSetZon . ?TSetZon a brick:Zone_Air_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_DamSet . ?Vav_DamSet a brick:Damper_Position_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?vav_damper_set_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_DisTemp . ?Vav_DisTemp a brick:Discharge_Air_Temperature_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?vav_discharge_temp_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_ReheatCmd . ?Vav_ReheatCmd a brick:Valve_Command; ref:hasExternalReference/ref:hasTimeseriesId ?vav_reheat_command_point .}
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?zoneName (GROUP_CONCAT(DISTINCT ?tsId; separator="", "") AS ?timeseriesIds)
WHERE {
  ?zone a brick:HVAC_Zone .
  OPTIONAL { ?zone rdfs:label ?zoneLabel . }
  BIND(COALESCE(?zoneLabel, STRAFTER(STR(?zone), ""urn:bldg/"")) AS ?zoneName) .
  
  ?zone brick:hasPoint ?point .
  ?point a ?ptType .
  
  # Include only the exact Brick classes that relate to:
  # 1. Temperature measurements
  # 2. Temperature setpoints (min, max, heating, cooling, occupied, unoccupied)
  # 3. Occupancy sensing and command
  # 4. VAV unit signals (damper position sensor, discharge temperature sensor, and reheat command)
  VALUES ?ptType {
    brick:Zone_Air_Temperature_Sensor
    brick:Min_Air_Temperature_Setpoint
    brick:Max_Air_Temperature_Setpoint
    brick:Zone_Air_Heating_Temperature_Setpoint
    brick:Zone_Air_Cooling_Temperature_Setpoint
    brick:Occupied_Setpoint
    brick:Unoccupied_Setpoint
    brick:Occupancy_Sensor
    brick:Occupancy_Command
    brick:Damper_Position_Sensor
    brick:Discharge_Air_Temperature_Sensor
    brick:Reheat_Command
  } .
  
  ?point ref:hasExternalReference ?ext .
  ?ext ref:hasTimeseriesId ?tsId .
}
GROUP BY ?zoneName
ORDER BY ?zoneName",True,True,False,1080,16,5,2,0.0,9750,11327,21077,0.0,0.0,True,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_001,4,LLM_3,"How can I obtain the zone labels along with every temperature reading, setpoint value, and occupancy signal for each zone and its supply air VAV device?",openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
SELECT ?zone_name ?zone_temp_point ?set_temp_min_point ?set_temp_max_point ?occ_sensor_point ?occ_cmd_point
?zone_set_temp_heat_point ?zone_set_temp_cool_point ?unocc_zone_set_temp_heat_point ?unocc_zone_set_temp_cool_point
?occ_zone_set_temp_heat_point ?occ_zone_set_temp_cool_point ?zone_set_temp_point ?vav_damper_set_point ?vav_discharge_temp_point
?vav_reheat_command_point
WHERE {
    ?zone a brick:HVAC_Zone ; rdfs:label ?zone_name.
    OPTIONAL { ?zone brick:hasPoint ?TZon. ?TZon a brick:Zone_Air_Temperature_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?zone_temp_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetMin . ?TSetMin a brick:Min_Air_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?set_temp_min_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetMax . ?TSetMax a brick:Max_Air_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?set_temp_max_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetHeaZon . ?TSetHeaZon a brick:Zone_Air_Heating_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_heat_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetCooZon . ?TSetCooZon a brick:Zone_Air_Cooling_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_cool_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccSensor. ?OccSensor a brick:Occupancy_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_sensor_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccCmd . ?OccCmd a brick:Occupancy_Command ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_cmd_point .}
    OPTIONAL { ?zone brick:hasPoint ?UnOccTSetCooZon. ?UnOccTSetCooZon a brick:Unoccupied_Cooling_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?unocc_zone_set_temp_cool_point . }
    OPTIONAL { ?zone brick:hasPoint ?UnOccTSetHeaZon . ?UnOccTSetHeaZon a brick:Unoccupied_Heating_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?unocc_zone_set_temp_heat_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccTSetCooZon . ?OccTSetCooZon a brick:Occupied_Cooling_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?occ_zone_set_temp_cool_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccTSetHeaZon . ?OccTSetHeaZon a brick:Occupied_Heating_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_zone_set_temp_heat_point . }
    OPTIONAL { ?zone brick:hasPoint ?TSetZon . ?TSetZon a brick:Zone_Air_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_DamSet . ?Vav_DamSet a brick:Damper_Position_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?vav_damper_set_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_DisTemp . ?Vav_DisTemp a brick:Discharge_Air_Temperature_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?vav_discharge_temp_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_ReheatCmd . ?Vav_ReheatCmd a brick:Valve_Command; ref:hasExternalReference/ref:hasTimeseriesId ?vav_reheat_command_point .}
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref:   <https://brickschema.org/schema/Brick/ref#>
PREFIX bldg1: <urn:bldg/>

# This query returns each HVAC zone (its label is extracted from the IRI) along with any points that are
# temperature sensors, setpoints (minimum, maximum, heating or cooling setpoints), occupancy sensors,
# and the supply air VAV device associated with the zone. In the absence of explicit relationships between
# zones and points of interest, we use two approaches: (1) if the zone directly lists a point via brick:hasPoint
# and (2) if the point’s IRI contains the (short) zone name. For the VAV device we also require that the
# device IRI contains the token ""vav"" so that, for example, bldg1:vav_nor is picked up for the nor zone.

SELECT DISTINCT ?zone ?zoneLabel ?tempReading ?setpoint ?occupancy ?supplyVAV
WHERE {
  # Get all zones
  ?zone a brick:HVAC_Zone .
  # extract a label from the zone IRI (everything after the last slash or hash)
  BIND(REPLACE(STR(?zone), "".*[#/](.*)$"", ""$1"") AS ?zoneLabel) .

  ##############################
  # Temperature Sensor Readings
  ##############################
  OPTIONAL {
    { ?zone brick:hasPoint ?tempReading .
      ?tempReading a brick:Zone_Air_Temperature_Sensor . }
    UNION
    { ?tempReading a brick:Zone_Air_Temperature_Sensor .
      # if not directly attached, filter by IRI substring matching the zone label
      FILTER(CONTAINS(STR(?tempReading), ?zoneLabel)) }
  }

  ##############################
  # Temperature Setpoints
  ##############################
  OPTIONAL {
    { ?zone brick:hasPoint ?setpoint .
      ?setpoint a ?setpointType .
      FILTER(?setpointType IN (brick:Min_Air_Temperature_Setpoint, brick:Max_Air_Temperature_Setpoint,
                                brick:Zone_Air_Heating_Temperature_Setpoint, brick:Zone_Air_Cooling_Temperature_Setpoint)) }
    UNION
    { ?setpoint a ?setpointType2 .
      FILTER(?setpointType2 IN (brick:Min_Air_Temperature_Setpoint, brick:Max_Air_Temperature_Setpoint,
                                 brick:Zone_Air_Heating_Temperature_Setpoint, brick:Zone_Air_Cooling_Temperature_Setpoint)) .
      FILTER(CONTAINS(STR(?setpoint), ?zoneLabel)) }
  }

  ##############################
  # Occupancy Signals
  ##############################
  OPTIONAL {
    { ?zone brick:hasPoint ?occupancy .
      ?occupancy a brick:Occupancy_Sensor . }
    UNION
    { ?occupancy a brick:Occupancy_Sensor .
      FILTER(CONTAINS(STR(?occupancy), ?zoneLabel)) }
  }

  ##############################
  # Supply Air VAV Device
  ##############################
  OPTIONAL {
    ?supplyVAV brick:hasPoint ?vavPoint .
    # to associate a VAV device with its corresponding zone we require that the device IRI contains both
    # the token ""vav"" and the zone label (for example, zone ""nor"" gets bldg1:vav_nor)
    FILTER(CONTAINS(STR(?supplyVAV), ""vav""))
    FILTER(CONTAINS(STR(?supplyVAV), ?zoneLabel))
  }

}
ORDER BY ?zoneLabel ?tempReading ?setpoint ?occupancy ?supplyVAV",True,True,False,1080,16,20,6,0.0,2936,6853,9789,0.0,0.0,True,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_001,5,LLM_4,"What are all of the monitoring and control data streams temperature, setpoints, occupancy and VAV controls available for each zone in the system?",openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
SELECT ?zone_name ?zone_temp_point ?set_temp_min_point ?set_temp_max_point ?occ_sensor_point ?occ_cmd_point
?zone_set_temp_heat_point ?zone_set_temp_cool_point ?unocc_zone_set_temp_heat_point ?unocc_zone_set_temp_cool_point
?occ_zone_set_temp_heat_point ?occ_zone_set_temp_cool_point ?zone_set_temp_point ?vav_damper_set_point ?vav_discharge_temp_point
?vav_reheat_command_point
WHERE {
    ?zone a brick:HVAC_Zone ; rdfs:label ?zone_name.
    OPTIONAL { ?zone brick:hasPoint ?TZon. ?TZon a brick:Zone_Air_Temperature_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?zone_temp_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetMin . ?TSetMin a brick:Min_Air_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?set_temp_min_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetMax . ?TSetMax a brick:Max_Air_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?set_temp_max_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetHeaZon . ?TSetHeaZon a brick:Zone_Air_Heating_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_heat_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetCooZon . ?TSetCooZon a brick:Zone_Air_Cooling_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_cool_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccSensor. ?OccSensor a brick:Occupancy_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_sensor_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccCmd . ?OccCmd a brick:Occupancy_Command ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_cmd_point .}
    OPTIONAL { ?zone brick:hasPoint ?UnOccTSetCooZon. ?UnOccTSetCooZon a brick:Unoccupied_Cooling_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?unocc_zone_set_temp_cool_point . }
    OPTIONAL { ?zone brick:hasPoint ?UnOccTSetHeaZon . ?UnOccTSetHeaZon a brick:Unoccupied_Heating_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?unocc_zone_set_temp_heat_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccTSetCooZon . ?OccTSetCooZon a brick:Occupied_Cooling_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?occ_zone_set_temp_cool_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccTSetHeaZon . ?OccTSetHeaZon a brick:Occupied_Heating_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_zone_set_temp_heat_point . }
    OPTIONAL { ?zone brick:hasPoint ?TSetZon . ?TSetZon a brick:Zone_Air_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_DamSet . ?Vav_DamSet a brick:Damper_Position_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?vav_damper_set_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_DisTemp . ?Vav_DisTemp a brick:Discharge_Air_Temperature_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?vav_discharge_temp_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_ReheatCmd . ?Vav_ReheatCmd a brick:Valve_Command; ref:hasExternalReference/ref:hasTimeseriesId ?vav_reheat_command_point .}
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

# This query returns for each HVAC zone in the system all monitoring and control data streams
# related to temperature sensors, temperature setpoints, occupancy sensors and VAV control signals.
# It does so by retrieving points attached directly to the zone (via brick:hasPoint) and, when available,
# points attached to related equipment (via a relationship such as brick:hasEquipment) that serves the zone.
# The query uses VALUES to consolidate the point type filters, and obtains the external timeseries identifier
# when available.

SELECT ?zone ?point ?pointType ?timeseriesID
WHERE {
  ?zone a brick:HVAC_Zone .

  # Get points either directly attached to the zone, or via equipment related to the zone.
  {
    ?zone brick:hasPoint ?point .
  } UNION {
    ?zone brick:hasEquipment ?equip .
    ?equip brick:hasPoint ?point .
  }

  ?point a ?pointType .

  # Filter to the relevant types
  VALUES ?relevantType {
    brick:Zone_Air_Temperature_Sensor
    brick:Min_Air_Temperature_Setpoint
    brick:Max_Air_Temperature_Setpoint
    brick:Zone_Air_Heating_Temperature_Setpoint
    brick:Zone_Air_Cooling_Temperature_Setpoint
    brick:Occupancy_Sensor
    brick:Valve_Command
    brick:Damper_Position_Setpoint
  }
  FILTER(?pointType = ?relevantType)

  OPTIONAL {
    ?point ref:hasExternalReference ?ref .
    ?ref ref:hasTimeseriesId ?timeseriesID .
  }
}
ORDER BY ?zone ?point",True,True,False,1080,16,75,4,0.0,5968,11617,17585,0.0,0.0,True,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_001,6,LLM_5,Which time series should I pull to see how each zone and its VAV are performing in terms of temperature control and occupancy?   ,openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
SELECT ?zone_name ?zone_temp_point ?set_temp_min_point ?set_temp_max_point ?occ_sensor_point ?occ_cmd_point
?zone_set_temp_heat_point ?zone_set_temp_cool_point ?unocc_zone_set_temp_heat_point ?unocc_zone_set_temp_cool_point
?occ_zone_set_temp_heat_point ?occ_zone_set_temp_cool_point ?zone_set_temp_point ?vav_damper_set_point ?vav_discharge_temp_point
?vav_reheat_command_point
WHERE {
    ?zone a brick:HVAC_Zone ; rdfs:label ?zone_name.
    OPTIONAL { ?zone brick:hasPoint ?TZon. ?TZon a brick:Zone_Air_Temperature_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?zone_temp_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetMin . ?TSetMin a brick:Min_Air_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?set_temp_min_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetMax . ?TSetMax a brick:Max_Air_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?set_temp_max_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetHeaZon . ?TSetHeaZon a brick:Zone_Air_Heating_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_heat_point .}
    OPTIONAL { ?zone brick:hasPoint ?TSetCooZon . ?TSetCooZon a brick:Zone_Air_Cooling_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_cool_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccSensor. ?OccSensor a brick:Occupancy_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_sensor_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccCmd . ?OccCmd a brick:Occupancy_Command ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_cmd_point .}
    OPTIONAL { ?zone brick:hasPoint ?UnOccTSetCooZon. ?UnOccTSetCooZon a brick:Unoccupied_Cooling_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?unocc_zone_set_temp_cool_point . }
    OPTIONAL { ?zone brick:hasPoint ?UnOccTSetHeaZon . ?UnOccTSetHeaZon a brick:Unoccupied_Heating_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?unocc_zone_set_temp_heat_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccTSetCooZon . ?OccTSetCooZon a brick:Occupied_Cooling_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?occ_zone_set_temp_cool_point .}
    OPTIONAL { ?zone brick:hasPoint ?OccTSetHeaZon . ?OccTSetHeaZon a brick:Occupied_Heating_Temperature_Setpoint ; ref:hasExternalReference/ref:hasTimeseriesId ?occ_zone_set_temp_heat_point . }
    OPTIONAL { ?zone brick:hasPoint ?TSetZon . ?TSetZon a brick:Zone_Air_Temperature_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?zone_set_temp_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_DamSet . ?Vav_DamSet a brick:Damper_Position_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?vav_damper_set_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_DisTemp . ?Vav_DisTemp a brick:Discharge_Air_Temperature_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?vav_discharge_temp_point .}
    OPTIONAL { ?vav brick:feeds ?zone ; brick:hasPoint ?Vav_ReheatCmd . ?Vav_ReheatCmd a brick:Valve_Command; ref:hasExternalReference/ref:hasTimeseriesId ?vav_reheat_command_point .}
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT ?zone
       (GROUP_CONCAT(DISTINCT ?tempTS; SEPARATOR="", "") AS ?temperatureTimeSeries)
       (GROUP_CONCAT(DISTINCT ?occTS; SEPARATOR="", "") AS ?occupancyTimeSeries)
       (GROUP_CONCAT(DISTINCT ?vavTS; SEPARATOR="", "") AS ?vavTimeSeries)
WHERE {
  ?zone a brick:HVAC_Zone .

  # Temperature-related timeseries for the zone
  OPTIONAL {
    ?zone brick:hasPoint ?tempPoint .
    ?tempPoint a ?tempType .
    FILTER(?tempType IN (brick:Zone_Air_Temperature_Sensor,
                           brick:Zone_Air_Cooling_Temperature_Setpoint,
                           brick:Zone_Air_Heating_Temperature_Setpoint))
    ?tempPoint ref:hasExternalReference ?tempExt .
    ?tempExt ref:hasTimeseriesId ?tempTS .
  }

  # Occupancy sensor timeseries for the zone
  OPTIONAL {
    ?zone brick:hasPoint ?occPoint .
    ?occPoint a brick:Occupancy_Sensor .
    ?occPoint ref:hasExternalReference ?occExt .
    ?occExt ref:hasTimeseriesId ?occTS .
  }

  # VAV equipment timeseries for the zone
  # Here we assume that a zone is linked to its VAV equipment via brick:hasEquipment
  OPTIONAL {
    ?zone brick:hasEquipment ?vav .
    {
      ?vav brick:hasPoint ?vavPoint .
      ?vavPoint a brick:Valve_Command .
      ?vavPoint ref:hasExternalReference ?vavExt .
      ?vavExt ref:hasTimeseriesId ?vavTS .
    } UNION {
      ?vav brick:hasPoint ?vavPoint .
      ?vavPoint a brick:Damper_Position_Setpoint .
      ?vavPoint ref:hasExternalReference ?vavExt .
      ?vavExt ref:hasTimeseriesId ?vavTS .
    }
  }
}
GROUP BY ?zone",False,False,False,1080,16,0,0,0.0,10370,11341,21711,0.0,0.0,False,1.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_002,1,human,"For each AHU that supplies a zone, what are the timeseries IDs for all available points for supply air temperature, supply air flow, and supply air flow setpoint?",openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT ?ahu_supply_temp_point ?ahu_supply_flow_point ?ahu_supply_flow_set_point
WHERE {
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_TSup . ?Ahu_TSup a brick:Supply_Air_Temperature_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_temp_point .}
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_flowSup . ?Ahu_flowSup a brick:Supply_Air_Flow_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_flow_point .}
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_flowSupSet . ?Ahu_flowSupSet a brick:Supply_Air_Flow_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_flow_set_point .}
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

# In this improved query we avoid hard‐coding AHUs and zones and we allow for dual directions
# of a supplies relationship. We also use UNION blocks so that if a point does not carry an
# expected Brick class we can try a secondary pattern (e.g. checking that its timeseries
# identifier contains an indicative string). In a well‐modeled Brick/ASHRAE 223p instance,
# the following classes/properties would be used:
#   Supply air temperature sensor on the AHU (class brick:Supply_Air_Temperature_Sensor)
#   Supply air flow sensor on the zone (ideally brick:Supply_Air_Flow_Rate_Sensor, with a fallback to brick:Discharge_Air_Flow_Sensor)
#   Supply air flow setpoint on the zone (ideally brick:Supply_Air_Flow_Setpoint, with a fallback to brick:Damper_Position_Setpoint)
# Similarly, timeseries are assumed to be attached via an external reference using ref:hasTimeseriesId.

SELECT ?ahu
       (GROUP_CONCAT(DISTINCT ?tempTSID; SEPARATOR="", "") AS ?SupplyAirTemperatureTSIDs)
       (GROUP_CONCAT(DISTINCT ?flowTSID; SEPARATOR="", "") AS ?SupplyAirFlowTSIDs)
       (GROUP_CONCAT(DISTINCT ?flowSetpointTSID; SEPARATOR="", "") AS ?SupplyAirFlowSetpointTSIDs)
WHERE {
  # Dynamically identify AHU-zone relationships. The supplies relationship may be defined in one direction
  # or the reverse, so we allow for both patterns.
  { ?ahu brick:suppliesZone ?zone } UNION { ?zone brick:isFedBy ?ahu } .

  # 1. Supply Air Temperature point on the AHU
  OPTIONAL {
    ?ahu brick:hasPoint ?tempPoint .
    {
      ?tempPoint a brick:Supply_Air_Temperature_Sensor .
      ?tempPoint ref:hasExternalReference ?tempExt .
      ?tempExt ref:hasTimeseriesId ?tempTSID .
    }
    UNION
    {  
      # Fallback: if the point is not explicitly typed, check that its timeseries ID contains an indicative string
      ?tempPoint ref:hasExternalReference ?tempExt2 .
      ?tempExt2 ref:hasTimeseriesId ?tempTSID .
      FILTER(CONTAINS(LCASE(STR(?tempTSID)), ""tsup""))
    }
  }

  # 2. Supply Air Flow point on the zone
  OPTIONAL {
    ?zone brick:hasPoint ?flowPoint .
    {
      ?flowPoint a brick:Supply_Air_Flow_Rate_Sensor .
      ?flowPoint ref:hasExternalReference ?flowExt .
      ?flowExt ref:hasTimeseriesId ?flowTSID .
    }
    UNION
    {
      ?flowPoint a brick:Discharge_Air_Flow_Sensor .
      ?flowPoint ref:hasExternalReference ?flowExt2 .
      ?flowExt2 ref:hasTimeseriesId ?flowTSID .
    }
  }

  # 3. Supply Air Flow Setpoint on the zone
  OPTIONAL {
    ?zone brick:hasPoint ?flowSetpointPoint .
    {
      ?flowSetpointPoint a brick:Supply_Air_Flow_Setpoint .
      ?flowSetpointPoint ref:hasExternalReference ?flowSetpointExt .
      ?flowSetpointExt ref:hasTimeseriesId ?flowSetpointTSID .
    }
    UNION
    {
      ?flowSetpointPoint a brick:Damper_Position_Setpoint .
      ?flowSetpointPoint ref:hasExternalReference ?flowSetpointExt2 .
      ?flowSetpointExt2 ref:hasTimeseriesId ?flowSetpointTSID .
    }
  }
}
GROUP BY ?ahu",False,False,False,5,3,0,0,0.0,11225,25274,36499,0.0,0.0,False,1.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_002,2,LLM_1,"For the air handling unit that feeds a zone, what are the timeseries IDs of its supply air temperature sensor, supply air flow sensor, and supply air flow setpoint?",openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT ?ahu_supply_temp_point ?ahu_supply_flow_point ?ahu_supply_flow_set_point
WHERE {
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_TSup . ?Ahu_TSup a brick:Supply_Air_Temperature_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_temp_point .}
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_flowSup . ?Ahu_flowSup a brick:Supply_Air_Flow_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_flow_point .}
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_flowSupSet . ?Ahu_flowSupSet a brick:Supply_Air_Flow_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_flow_set_point .}
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

# This query navigates the Brick topology from the air handling unit (AHU) to its served zone.
# It retrieves the timeseries IDs for (i) the supply air temperature sensor on the AHU,
# (ii) the supply air flow sensor on the served zone, and (iii) the supply air flow setpoint on that zone.
# In both sensor and setpoint cases, we allow for the possibility that the instance may have one
# of several types (or even be referenced by its known identifier) to work around potential modeling
# variations.

SELECT ?ts_temp ?ts_flow ?ts_setpoint
WHERE {
  # Identify the AHU; here we assume bldg1:hvac_ahu is the air handling unit
  BIND(bldg1:hvac_ahu AS ?ahu) .

  # Retrieve the supply air temperature sensor from the AHU by navigating its points.
  {
    ?ahu brick:hasPoint ?tempSensor .
    ?tempSensor ref:hasExternalReference ?tempExt .
    ?tempExt ref:hasTimeseriesId ?ts_temp .
    # Accept if the sensor is explicitly typed as a Temperature Sensor or is the known point
    { ?tempSensor a brick:Temperature_Sensor } UNION { FILTER(?tempSensor = bldg1:hvac_reaAhu_TSup_y) }.
  }

  # Find the zone that is served (fed) by this AHU. In Brick, an AHU serves a zone via a topology edge.
  ?zone brick:isFedBy ?ahu .

  # From the zone, identify the sensor responsible for measuring supply (or discharge) air flow.
  {
    ?zone brick:hasPoint ?flowSensor .
    # The sensor may be modeled as a Supply_Air_Flow_Sensor or, alternatively, as a Discharge_Air_Flow_Sensor
    { ?flowSensor a brick:Supply_Air_Flow_Sensor }
    UNION
    { ?flowSensor a brick:Discharge_Air_Flow_Sensor }
    UNION
    { FILTER(?flowSensor = bldg1:hvac_reaZonEas_V_flow_y) }.
    ?flowSensor ref:hasExternalReference ?flowExt .
    ?flowExt ref:hasTimeseriesId ?ts_flow .
  }

  # Also from the zone, identify the setpoint controlling supply air flow. It may be modeled as a
  # Supply_Air_Flow_Setpoint or, in some cases, as a damper position setpoint.
  {
    ?zone brick:hasPoint ?flowSP .
    { ?flowSP a brick:Supply_Air_Flow_Setpoint }
    UNION
    { ?flowSP a brick:Damper_Position_Setpoint }
    UNION
    { FILTER(?flowSP = bldg1:hvac_oveZonActSou_yDam_u) }.
    ?flowSP ref:hasExternalReference ?spExt .
    ?spExt ref:hasTimeseriesId ?ts_setpoint .
  }
}
",True,False,False,5,3,0,3,0.0,10449,24186,34635,0.0,0.0,False,1.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_002,3,LLM_2,"Which timeseries identifiers correspond to the supply air temperature measurement, supply air flow measurement, and flow setpoint of the AHU supplying air to a space?",openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT ?ahu_supply_temp_point ?ahu_supply_flow_point ?ahu_supply_flow_set_point
WHERE {
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_TSup . ?Ahu_TSup a brick:Supply_Air_Temperature_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_temp_point .}
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_flowSup . ?Ahu_flowSup a brick:Supply_Air_Flow_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_flow_point .}
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_flowSupSet . ?Ahu_flowSupSet a brick:Supply_Air_Flow_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_flow_set_point .}
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT DISTINCT ?ahu ?supplyAirTempTS ?supplyAirFlowTS ?flowSetpointTS
WHERE {
  # Identify an AHU that is explicitly modeled as an Air_Handler and that supplies a space (or zone)
  ?ahu a brick:Air_Handler .
  ?ahu brick:feeds ?servedSpace .
  # Optionally, require that the served space is modeled as a zone
  ?servedSpace a brick:HVAC_Zone .
  
  # 1. Find the supply air temperature measurement on the AHU
  ?ahu brick:hasPoint ?tempPoint .
  ?tempPoint a brick:Supply_Air_Temperature_Sensor .
  ?tempPoint ref:hasExternalReference ?tempExt .
  ?tempExt ref:hasTimeseriesId ?supplyAirTempTS .
  
  # 2. Find the supply air flow measurement on the AHU
  ?ahu brick:hasPoint ?flowPoint .
  ?flowPoint a brick:Supply_Air_Flow_Sensor .
  ?flowPoint ref:hasExternalReference ?flowExt .
  ?flowExt ref:hasTimeseriesId ?supplyAirFlowTS .
  
  # 3. Find the flow setpoint on the AHU (i.e. the setpoint that controls the supply air flow)
  ?ahu brick:hasPoint ?setpointPoint .
  ?setpointPoint a brick:Supply_Air_Flow_Setpoint .
  ?setpointPoint ref:hasExternalReference ?setpointExt .
  ?setpointExt ref:hasTimeseriesId ?flowSetpointTS .
}
LIMIT 1",True,False,False,5,3,0,4,0.0,10300,22167,32467,0.0,0.0,False,1.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_002,4,LLM_3,"How can I retrieve the timeseries IDs for an AHU’s supply air temperature, airflow rate readings, and its airflow setpoint?",openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT ?ahu_supply_temp_point ?ahu_supply_flow_point ?ahu_supply_flow_set_point
WHERE {
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_TSup . ?Ahu_TSup a brick:Supply_Air_Temperature_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_temp_point .}
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_flowSup . ?Ahu_flowSup a brick:Supply_Air_Flow_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_flow_point .}
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_flowSupSet . ?Ahu_flowSupSet a brick:Supply_Air_Flow_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_flow_set_point .}
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

# This query uses Brick’s semantics to fetch three kinds of timeseries IDs associated with an AHU. 
# It assumes that the AHU (bldg1:hvac_ahu) is linked via brick:hasPoint to its measurement points and that each point 
# is explicitly typed using Brick classes. In particular, we assume the following types exist in the dataset:
#   • brick:Supply_Air_Temperature_Sensor for the AHU’s supply air temperature sensor,
#   • brick:Supply_Air_Flow_Sensor for the AHU’s airflow rate sensor, and
#   • brick:Supply_Air_Flow_Setpoint for the AHU’s airflow setpoint control.
# Each of these points carries an external reference (using ref:hasExternalReference) that in turn provides the 
# timeseries ID via ref:hasTimeseriesId. This structure avoids brittle IRI string matching and leverages the 
# explicit typing in Brick Schema and ASHRAE 223P.

SELECT ?measurement ?timeseriesId
WHERE {
  {
    # Retrieve the AHU supply air temperature timeseries ID
    bldg1:hvac_ahu brick:hasPoint ?tempPoint .
    ?tempPoint a brick:Supply_Air_Temperature_Sensor .
    ?tempPoint ref:hasExternalReference ?tempExt .
    ?tempExt ref:hasTimeseriesId ?timeseriesId .
    BIND(""AHU Supply Air Temperature"" AS ?measurement)
  }
  UNION
  {
    # Retrieve the AHU airflow rate sensor timeseries ID
    bldg1:hvac_ahu brick:hasPoint ?airflowPoint .
    ?airflowPoint a brick:Supply_Air_Flow_Sensor .
    ?airflowPoint ref:hasExternalReference ?afExt .
    ?afExt ref:hasTimeseriesId ?timeseriesId .
    BIND(""AHU Airflow Rate Reading"" AS ?measurement)
  }
  UNION
  {
    # Retrieve the AHU airflow setpoint timeseries ID
    bldg1:hvac_ahu brick:hasPoint ?afSetpoint .
    ?afSetpoint a brick:Supply_Air_Flow_Setpoint .
    ?afSetpoint ref:hasExternalReference ?afSetExt .
    ?afSetExt ref:hasTimeseriesId ?timeseriesId .
    BIND(""AHU Airflow Setpoint"" AS ?measurement)
  }
}
",True,True,False,5,3,2,2,0.0,10208,20973,31181,0.3333333333333333,0.0,False,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_002,5,LLM_4,Where can I find the timeseries IDs for an air handling unit’s supply-side measurements?,openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT ?ahu_supply_temp_point ?ahu_supply_flow_point ?ahu_supply_flow_set_point
WHERE {
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_TSup . ?Ahu_TSup a brick:Supply_Air_Temperature_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_temp_point .}
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_flowSup . ?Ahu_flowSup a brick:Supply_Air_Flow_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_flow_point .}
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_flowSupSet . ?Ahu_flowSupSet a brick:Supply_Air_Flow_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_flow_set_point .}
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

# This query finds timeseries IDs for supply‐side measurements associated with an air handling unit.
# It does so in a flexible manner by (a) allowing any air handling unit (i.e. any entity that has measurement points)
# and (b) considering two cases for a point to be treated as supply‐side: 
#    1. It is explicitly typed as a supply‐side sensor (for example, brick:Supply_Fan is used in the model), or
#    2. Its external timeseries ID contains an explicit supply‐side indicator (such as the substring ""TSup"").

SELECT DISTINCT ?ahu ?point ?tsId
WHERE {
  # Instead of hard‐coding the AHU, we allow any entity with measurement points to be considered.
  ?ahu brick:hasPoint ?point .
  {
    # Case 1: The point is explicitly classified as a known supply‐side sensor type
    ?point a brick:Supply_Fan .
    ?point ref:hasExternalReference ?extRef .
    ?extRef ref:hasTimeseriesId ?tsId .
  } UNION {
    # Case 2: The point isn’t explicitly typed but its timeseries ID contains a supply‐side indicator (e.g., ""TSup"")
    ?point ref:hasExternalReference ?extRef .
    ?extRef ref:hasTimeseriesId ?tsId .
    FILTER(CONTAINS(?tsId, ""TSup""))
  }
}
",True,True,False,5,3,8,3,0.0,8278,13380,21658,0.1111111111111111,0.0,False,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_002,6,LLM_5,How do I access the supply air measurement data for an AHU?,openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT ?ahu_supply_temp_point ?ahu_supply_flow_point ?ahu_supply_flow_set_point
WHERE {
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_TSup . ?Ahu_TSup a brick:Supply_Air_Temperature_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_temp_point .}
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_flowSup . ?Ahu_flowSup a brick:Supply_Air_Flow_Sensor; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_flow_point .}
    OPTIONAL { ?ahu brick:feeds/brick:feeds ?zone ; brick:hasPoint ?Ahu_flowSupSet . ?Ahu_flowSupSet a brick:Supply_Air_Flow_Setpoint; ref:hasExternalReference/ref:hasTimeseriesId ?ahu_supply_flow_set_point .}
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT DISTINCT ?ahu ?supplyAirPoint ?timeseriesID
WHERE {
  # Match AHU instances explicitly typed as AirHandlingUnit
  ?ahu a brick:AirHandlingUnit .

  # Get the point that measures the supply air condition; we assume this point is typed as a Supply_Air_Temperature_Sensor
  ?ahu brick:hasPoint ?supplyAirPoint .
  ?supplyAirPoint a brick:Supply_Air_Temperature_Sensor .

  # Optionally retrieve timeseries information if available
  OPTIONAL {
    ?supplyAirPoint ref:hasExternalReference ?extRef .
    ?extRef ref:hasTimeseriesId ?timeseriesID .
  }
}
",True,False,False,5,3,0,3,0.0,8058,7028,15086,0.0,0.0,False,1.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_003,1,human,What are the timeseries IDs for the available electric power sensors and thermal power sensors in the building?,openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ele_pow_point ?therm_pow_point
WHERE {
    OPTIONAL { ?Epower a brick:Electric_Power_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?ele_pow_point .}
    OPTIONAL { ?Tpower a brick:Thermal_Power_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?therm_pow_point .}
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX bldg1: <urn:bldg/>

SELECT DISTINCT ?timeseriesID
WHERE {
  { ?sensor a brick:Electric_Power_Sensor .
    # Ensure the sensor is part of the building by checking its IRI namespace
    FILTER(STRSTARTS(STR(?sensor), ""urn:bldg/"")) .
    ?sensor ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?timeseriesID .
  } UNION {
    ?sensor a brick:Thermal_Power_Sensor .
    FILTER(STRSTARTS(STR(?sensor), ""urn:bldg/"")) .
    ?sensor ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?timeseriesID .
  }
}
",True,True,False,7,2,7,1,0.0,4910,5243,10153,1.0,1.0,False,1.0,1.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_003,2,LLM_1,What are the external reference timeseries IDs for each electric power sensor and each thermal power sensor?,openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ele_pow_point ?therm_pow_point
WHERE {
    OPTIONAL { ?Epower a brick:Electric_Power_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?ele_pow_point .}
    OPTIONAL { ?Tpower a brick:Thermal_Power_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?therm_pow_point .}
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX bldg1: <urn:bldg/>

SELECT ?sensor ?tsid
WHERE {
  {
    ?sensor a brick:Electric_Power_Sensor .
  } UNION {
    ?sensor a brick:Thermal_Power_Sensor .
  }
  ?sensor ref:hasExternalReference ?extRef .
  ?extRef ref:hasTimeseriesId ?tsid .
}
",True,True,False,7,2,21,2,0.0,2227,3046,5273,1.0,0.5,False,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_003,3,LLM_2,Which timeseries IDs are associated with the electric power sensors and which with the thermal power sensors?,openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ele_pow_point ?therm_pow_point
WHERE {
    OPTIONAL { ?Epower a brick:Electric_Power_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?ele_pow_point .}
    OPTIONAL { ?Tpower a brick:Thermal_Power_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?therm_pow_point .}
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX bldg1: <urn:bldg/>

# This query returns the timeseries IDs associated with sensors that measure electric power
# and those (by proxy) associated with thermal power. In this dataset, electric power sensors
# are explicitly typed as brick:Electric_Power_Sensor, while a thermal power sensor reading is
# assumed to be provided as the point of a chiller (whose measured power is interpreted as thermal).

SELECT ?sensorType ?timeseriesId WHERE {
  {  # Electric power sensors
    ?sensor a brick:Electric_Power_Sensor .
    ?sensor ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?timeseriesId .
    BIND(""Electric Power Sensor"" AS ?sensorType)
  }
  UNION
  {  # Thermal power sensor: here we assume that the chiller equipment provides a point whose
     # external reference contains the measured (thermal) power. (Note: no explicit Brick class exists
     # for thermal power sensors in this dataset.)
    ?equip brick:hasPoint ?sensor .
    ?equip a brick:Chiller .
    ?sensor ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?timeseriesId .
    BIND(""Thermal Power Sensor"" AS ?sensorType)
  }
}
ORDER BY ?sensorType ?timeseriesId",True,True,False,7,2,26,2,0.0,2432,6713,9145,0.8750000000000001,0.4242424242424242,False,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_003,4,LLM_3,List the data stream identifiers for electrical power and heat power measurements.,openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ele_pow_point ?therm_pow_point
WHERE {
    OPTIONAL { ?Epower a brick:Electric_Power_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?ele_pow_point .}
    OPTIONAL { ?Tpower a brick:Thermal_Power_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?therm_pow_point .}
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT DISTINCT ?tsid WHERE {
  {
    # Electrical power measurement: follow the explicit relationship from an equipment point
    # Here the chiller has a measurement point (its real power measurement) that carries an external reference.
    bldg1:chiller brick:hasPoint ?elecPoint .
    ?elecPoint ref:hasExternalReference ?extRef .
    ?extRef ref:hasTimeseriesId ?tsid .
    # Optionally, if available, we could verify that the point acts as an electrical measurement;
    # however, the explicit link via chiller assures us that this data stream identifier pertains to electrical power.
  } UNION {
    # Heat power measurements: explicitly follow the external reference on the heat pump measurement points
    # In the absence of an explicit relationship from the heat pump to its measurement points, we
    # list the two known measurement points that provide heat power data.
    VALUES ?heatPoint { bldg1:heaPum_reaPHeaPum_y bldg1:heaPum_reaPPumDis_y } .
    ?heatPoint ref:hasExternalReference ?extRef2 .
    ?extRef2 ref:hasTimeseriesId ?tsid .
  }
}",True,True,False,7,2,5,1,0.0,5351,12208,17559,0.5,0.5,False,0.6,0.4285714285714285,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_003,5,LLM_4,Where can I find the recorded series for electricity consumption and heating power?,openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ele_pow_point ?therm_pow_point
WHERE {
    OPTIONAL { ?Epower a brick:Electric_Power_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?ele_pow_point .}
    OPTIONAL { ?Tpower a brick:Thermal_Power_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?therm_pow_point .}
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX bldg1: <urn:bldg/>

SELECT ?recordedSeries ?seriesId ?storedAt ?measurementType
WHERE {
  {  
    # Electricity consumption series: explicitly select the Electric Power Sensor with a known timeseries id
    VALUES ?seriesId { ""hvac_reaAhu_PPumCoo_y"" }
    ?recordedSeries a brick:Electric_Power_Sensor ;
                     ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?seriesId .
    OPTIONAL { ?ext ref:storedAt ?storedAt . }
    BIND(""Electricity Consumption"" AS ?measurementType)
  } UNION {
    # Heating power series: rather than using a heuristic on the sensor name, we now use a VALUES clause to
    # capture the known timeseries id associated with heating power. In a more complete dataset, an explicit
    # Brick class or relation (for example, linking a sensor point to a Pump or Heating device) could be used.
    VALUES ?seriesId { ""heaPum_reaPHeaPum_y"" }
    ?recordedSeries ref:hasExternalReference ?ext2 .
    ?ext2 ref:hasTimeseriesId ?seriesId .
    OPTIONAL { ?ext2 ref:storedAt ?storedAt . }
    BIND(""Heating Power"" AS ?measurementType)
  }
}
ORDER BY ?measurementType ?seriesId",True,True,False,7,2,6,4,0.0,8638,13231,21869,0.4444444444444445,0.3076923076923076,False,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_003,6,LLM_5,Show me all available power measurement series.,openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ele_pow_point ?therm_pow_point
WHERE {
    OPTIONAL { ?Epower a brick:Electric_Power_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?ele_pow_point .}
    OPTIONAL { ?Tpower a brick:Thermal_Power_Sensor ; ref:hasExternalReference/ref:hasTimeseriesId ?therm_pow_point .}
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT DISTINCT ?powerSensor ?timeseriesId
WHERE {
  ?powerSensor a brick:Electric_Power_Sensor .
  ?powerSensor ref:hasExternalReference ?tsRef .
  ?tsRef ref:hasTimeseriesId ?timeseriesId .
}
",True,True,False,7,2,7,2,0.0,4686,3944,8630,1.0,1.0,False,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_004,1,human,What is the area of a building?,openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
SELECT ?area WHERE {
    ?building a brick:Building ;
    brick:area [brick:value ?area] .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bldg: <urn:bldg/>

# This query attempts to obtain the area of a building using one of two methods:
# 1. If the building directly has an area property (brick:hasArea), we use it.
# 2. Otherwise, we try to aggregate the areas of its parts that are floors (brick:Floor) via brick:hasPart and brick:hasArea.
# The COALESCE function returns the direct area if available, otherwise the aggregated floor area. 

SELECT ?building (COALESCE(?directArea, ?floorAreaSum) AS ?area)
WHERE {
  ?building a brick:Building .
  OPTIONAL { ?building brick:hasArea ?directArea . }
  OPTIONAL {
    {
      SELECT ?building (SUM(?fpArea) AS ?floorAreaSum)
      WHERE {
        ?building brick:hasPart ?floor .
        ?floor a brick:Floor .
        ?floor brick:hasArea ?fpArea .
      }
      GROUP BY ?building
    }
  }
}
",True,False,False,1,1,0,2,0.0,7892,7466,15358,0.0,0.0,False,1.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_004,2,LLM_1,What area value does each Building have through the area relationship?,openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
SELECT ?area WHERE {
    ?building a brick:Building ;
    brick:area [brick:value ?area] .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bldg1: <urn:bldg/>

SELECT ?building ?area
WHERE {
  ?building a brick:Building .
  ?building brick:hasArea ?areaNode .
  ?areaNode brick:hasQuantityValue ?area .
}",True,False,False,1,1,0,2,0.0,7248,5913,13161,0.0,0.0,False,1.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_004,3,LLM_2,What are the reported area measurements for all buildings?,openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
SELECT ?area WHERE {
    ?building a brick:Building ;
    brick:area [brick:value ?area] .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bldg1: <urn:bldg/>

SELECT ?building ?areaValue ?areaUnit
WHERE {
  ?building a brick:Building .
  ?building brick:hasMeasuredArea ?areaMeasurement .
  ?areaMeasurement brick:numericValue ?areaValue ;
                   brick:unit ?areaUnit .
}
",True,False,False,1,1,0,3,0.0,7217,4614,11831,0.0,0.0,False,1.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_004,4,LLM_3,How big are the buildings by their area measurements?,openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
SELECT ?area WHERE {
    ?building a brick:Building ;
    brick:area [brick:value ?area] .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT ?building ?areaValue
WHERE {
  ?building a brick:Building .
  ?building brick:hasFloorArea ?areaMeasurement .
  ?areaMeasurement brick:hasQuantityValue ?areaValue .
}",True,False,False,1,1,0,2,0.0,7344,4955,12299,0.0,0.0,False,1.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_004,5,LLM_4,What size does each building measure in terms of area?,openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
SELECT ?area WHERE {
    ?building a brick:Building ;
    brick:area [brick:value ?area] .
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>

# This query returns a building's total floor area using the Brick Schema conventions. It first
# checks for a direct floor area measurement using the brick:floorArea property. If that is not
# provided, it attempts to sum the floor areas of the building’s parts (using brick:hasPart and
# brick:floorArea). The query extracts the numeric value and unit from the associated QuantityValue
# objects. Note: if a building has both a direct floor area and parts with areas, the direct value
# is given priority over the summed parts value.

SELECT ?building (COALESCE(MAX(?directArea), SUM(?partArea)) AS ?totalArea) (COALESCE(MAX(?directUnit), SAMPLE(?partUnit)) AS ?unit)
WHERE {
  ?building a brick:Building .

  # Optional direct floor area measurement
  OPTIONAL {
    ?building brick:floorArea ?qvDirect .
    ?qvDirect brick:numericValue ?directArea .
    ?qvDirect brick:unit ?directUnit .
  }

  # Optional area measurements from building parts
  OPTIONAL {
    ?building brick:hasPart ?part .
    ?part brick:floorArea ?qvPart .
    ?qvPart brick:numericValue ?partArea .
    ?qvPart brick:unit ?partUnit .
  }
}
GROUP BY ?building
",True,True,False,1,1,1,3,0.0,8364,8299,16663,0.0,0.0,False,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_004,6,LLM_5,How much floor space do the buildings occupy?,openai/o3-mini,"PREFIX brick: <https://brickschema.org/schema/Brick#>
SELECT ?area WHERE {
    ?building a brick:Building ;
    brick:area [brick:value ?area] .
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

# This query aggregates the floor area for all facilities, where a facility is identified
# as either a brick:Building or brick:Facility. Floor area may be represented directly via the property
# brick:hasFloorArea or indirectly via a Floor_Area_Sensor that has a measurement with a value.

SELECT (SUM(?area) AS ?TotalFloorSpace)
WHERE {
  {
    # Option 1: Direct floor area on the facility
    {
      { ?facility a brick:Building . } UNION { ?facility a brick:Facility . }
      ?facility brick:hasFloorArea ?area .
    }
    UNION
    # Option 2: Floor area provided by a sensor's measurement
    {
      { ?facility a brick:Building . } UNION { ?facility a brick:Facility . }
      ?facility brick:hasPoint ?point .
      ?point a brick:Floor_Area_Sensor .
      ?point brick:hasMeasurement ?measurement .
      ?measurement brick:hasValue ?area .
    }
  }
}
",True,True,False,1,1,1,1,0.0,8299,6563,14862,0.0,0.0,False,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_005,1,human,What are the timeseries IDs for electric power sensors that are linked to the scenario named 'baseline'?,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT ?power_point WHERE {
    ?point a brick:Electric_Power_Sensor ;
           ref:hasExternalReference ?ref .

    ?ref ref:onTable ""baseline_dataset"" ;
         ref:hasTimeseriesId ?power_point .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX bldg1: <urn:bldg/>

SELECT ?tsID WHERE {
  ?sensor a brick:Electric_Power_Sensor .
  ?sensor ref:hasExternalReference ?extRef .
  ?extRef ref:hasTimeseriesId ?tsID .
  
  # Associate the sensor with a baseline scenario instance
  ?sensor brick:hasScenario ?scenario .
  FILTER(?scenario = bldg1:baseline) 
}",True,False,False,7,1,0,1,0.0,7725,8453,16178,0.0,0.0,False,1.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_005,2,LLM_1,What are the timeseries IDs of electric power sensors that have an external reference on the baseline table?,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT ?power_point WHERE {
    ?point a brick:Electric_Power_Sensor ;
           ref:hasExternalReference ?ref .

    ?ref ref:onTable ""baseline_dataset"" ;
         ref:hasTimeseriesId ?power_point .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref:   <https://brickschema.org/schema/Brick/ref#>
PREFIX bldg1: <urn:bldg/>

SELECT ?tsid
WHERE {
  ?sensor a brick:Electric_Power_Sensor .
  ?sensor ref:hasExternalReference ?extRef .
  ?extRef ref:onTable ""baseline_dataset"" .
  ?extRef ref:hasTimeseriesId ?tsid .
}",True,True,False,7,1,7,1,0.0,2219,2497,4716,1.0,1.0,False,1.0,1.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_005,3,LLM_2,Which sensors measuring electric power that reference an external entry in the baseline table have associated timeseries identifiers?,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT ?power_point WHERE {
    ?point a brick:Electric_Power_Sensor ;
           ref:hasExternalReference ?ref .

    ?ref ref:onTable ""baseline_dataset"" ;
         ref:hasTimeseriesId ?power_point .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT ?sensor ?tsid
WHERE {
  ?sensor a brick:Electric_Power_Sensor .
  ?sensor ref:hasExternalReference ?ext .
  ?ext ref:onTable ""baseline_dataset"" .
  ?ext ref:hasTimeseriesId ?tsid .
}",True,True,False,7,1,7,2,0.0,2205,2446,4651,1.0,1.0,False,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_005,4,LLM_3,What timeseries identifiers are linked to electric power sensors listed in the baseline table through an external reference?,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT ?power_point WHERE {
    ?point a brick:Electric_Power_Sensor ;
           ref:hasExternalReference ?ref .

    ?ref ref:onTable ""baseline_dataset"" ;
         ref:hasTimeseriesId ?power_point .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX bldg1: <urn:bldg/>

SELECT DISTINCT ?tsid
WHERE {
  ?sensor a brick:Electric_Power_Sensor .
  ?sensor ref:hasExternalReference ?ext .
  ?ext ref:onTable ""baseline_dataset"" .
  ?ext ref:hasTimeseriesId ?tsid .
}
",True,True,False,7,1,7,1,0.0,2216,3878,6094,1.0,1.0,False,1.0,1.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_005,5,LLM_4,Which power measurement time series IDs are available in the baseline dataset?,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT ?power_point WHERE {
    ?point a brick:Electric_Power_Sensor ;
           ref:hasExternalReference ?ref .

    ?ref ref:onTable ""baseline_dataset"" ;
         ref:hasTimeseriesId ?power_point .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX bldg1: <urn:bldg/>

SELECT ?tsid WHERE {
  # Find sensors that measure electrical power
  ?sensor a brick:Electric_Power_Sensor .
  
  # Derive a candidate time series identifier from the sensor’s IRI
  BIND(REPLACE(STR(?sensor), ""^.*[/#]"", """") AS ?sensorID) .
  
  # Look for an external time series reference whose timeseries id and dataset annotations
  ?ref ref:hasTimeseriesId ?tsid ;
       ref:onTable ""baseline_dataset"" .
  
  # In this data model, we assume that the external reference for a sensor’s measurement
  # uses the sensor’s local name as its timeseries id
  FILTER(?tsid = ?sensorID)
}",True,True,False,7,1,7,1,0.0,2297,7907,10204,1.0,1.0,False,1.0,1.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_005,6,LLM_5,What power measurement series can I retrieve from the baseline data?,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT ?power_point WHERE {
    ?point a brick:Electric_Power_Sensor ;
           ref:hasExternalReference ?ref .

    ?ref ref:onTable ""baseline_dataset"" ;
         ref:hasTimeseriesId ?power_point .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX bldg1: <urn:bldg/>

SELECT DISTINCT ?sensor ?timeseriesId
WHERE {
  ?sensor a brick:Electric_Power_Sensor .
  ?sensor ref:hasExternalReference ?ext .
  ?ext ref:onTable ""baseline_dataset"" .
  ?ext ref:hasTimeseriesId ?timeseriesId .
}
",True,True,False,7,1,7,2,0.0,2204,3293,5497,1.0,1.0,False,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_006,1,human,What are the timeseries IDs for electric power sensors that are linked to the scenario named 'flexible'?,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT ?power_point WHERE {
    ?point a brick:Electric_Power_Sensor ;
           ref:hasExternalReference ?ref .

    ?ref ref:onTable ""flexible_dataset"" ;
         ref:hasTimeseriesId ?power_point .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX bldg1: <urn:bldg/>

SELECT DISTINCT ?ts_id
WHERE {
  ?sensor a brick:Electric_Power_Sensor .
  ?sensor brick:hasScenario ?scenario .
  ?scenario rdfs:label ?label .
  FILTER(LCASE(STR(?label)) = ""flexible"")
  ?sensor ref:hasExternalReference ?extRef .
  ?extRef ref:hasTimeseriesId ?ts_id .
}
",True,False,False,7,1,0,1,0.0,7866,10959,18825,0.0,0.0,False,1.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_006,2,LLM_1,What are the timeseries identifiers for electric power sensors that have an external reference on the flexible_ table?,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT ?power_point WHERE {
    ?point a brick:Electric_Power_Sensor ;
           ref:hasExternalReference ?ref .

    ?ref ref:onTable ""flexible_dataset"" ;
         ref:hasTimeseriesId ?power_point .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX bldg1: <urn:bldg/>

SELECT ?timeseriesId WHERE {
  ?sensor a brick:Electric_Power_Sensor .
  ?sensor ref:hasExternalReference ?ext .
  ?ext ref:onTable ?table .
  FILTER(STRSTARTS(STR(?table), ""flexible_"")) .
  ?ext ref:hasTimeseriesId ?timeseriesId .
}
",True,True,False,7,1,7,1,0.0,2233,3135,5368,1.0,1.0,False,1.0,1.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_006,3,LLM_2,"For each electric power sensor linked to entries in the flexible_ reference table, what timeseries ID do they use?",openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT ?power_point WHERE {
    ?point a brick:Electric_Power_Sensor ;
           ref:hasExternalReference ?ref .

    ?ref ref:onTable ""flexible_dataset"" ;
         ref:hasTimeseriesId ?power_point .
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT ?sensor ?timeseriesId
WHERE {
  ?sensor a brick:Electric_Power_Sensor .
  ?sensor brick:hasExternalReference ?extRef .
  ?extRef ref:hasTimeseriesId ?timeseriesId .
  ?extRef ref:onTable ?table .
  FILTER(regex(str(?table), ""^flexible_"", ""i""))
}
",True,False,False,7,1,0,2,0.0,8243,8361,16604,0.0,0.0,False,1.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_006,4,LLM_3,"Which power sensor records in the flexible_ dataset include a timeseries identifier, and what are those identifiers?",openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT ?power_point WHERE {
    ?point a brick:Electric_Power_Sensor ;
           ref:hasExternalReference ?ref .

    ?ref ref:onTable ""flexible_dataset"" ;
         ref:hasTimeseriesId ?power_point .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX bldg1: <urn:bldg/>

SELECT ?sensor ?tsId
WHERE {
  ?sensor a brick:Electric_Power_Sensor .
  
  # Explicitly follow the Brick/Timeseries relationship
  ?sensor ref:hasExternalReference ?tsRef .
  ?tsRef ref:hasTimeseriesId ?tsId ;
         ref:onTable ?table .

  # Filter to include only timeseries records from a flexible_ dataset
  FILTER(STRSTARTS(?table, ""flexible_""))
}
",True,True,False,7,1,7,2,0.0,5078,9626,14704,1.0,1.0,False,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_006,5,LLM_4,How can I find the timeseries IDs for power measurements stored under the flexible_ table?,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT ?power_point WHERE {
    ?point a brick:Electric_Power_Sensor ;
           ref:hasExternalReference ?ref .

    ?ref ref:onTable ""flexible_dataset"" ;
         ref:hasTimeseriesId ?power_point .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX bldg1: <urn:bldg/>

SELECT DISTINCT ?tsid
WHERE {
  # select sensors that measure electric power
  ?sensor a brick:Electric_Power_Sensor .
  
  # assume the sensor links to an external timeseries reference
  ?sensor ref:hasExternalReference ?tsRef .
  ?tsRef ref:hasTimeseriesId ?tsid ;
         ref:onTable ?table .
  
  # restrict to those stored in tables whose name begins with ""flexible_""
  FILTER(STRSTARTS(?table, ""flexible_""))
}",True,True,False,7,1,7,1,0.0,2265,6428,8693,1.0,1.0,False,1.0,1.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
DFLEXLIBS_006,6,LLM_5,Where can I access the power time series from the flexible_ dataset?,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT ?power_point WHERE {
    ?point a brick:Electric_Power_Sensor ;
           ref:hasExternalReference ?ref .

    ?ref ref:onTable ""flexible_dataset"" ;
         ref:hasTimeseriesId ?power_point .
}","PREFIX bldg1: <urn:bldg/>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT DISTINCT ?timeseriesId ?dataset ?storedAt
WHERE {
  # Find a timeseries reference stored on the flexible_dataset
  ?tsRef a ref:TimeseriesReference ;
         ref:hasTimeseriesId ?timeseriesId ;
         ref:onTable ""flexible_dataset"" .
  
  # Optionally get the storage location
  OPTIONAL { ?tsRef ref:storedAt ?storedAt . }
  BIND(""flexible_dataset"" AS ?dataset)
  
  # We are interested in power-related time series. In this dataset the power reading
  # appears to be associated with a pump measurement. We filter timeseries ids that
  # mention 'ppum' (as in reaPPumDis) in a case‐insensitive manner.
  FILTER(CONTAINS(LCASE(?timeseriesId), ""ppum""))

}
",True,True,False,7,1,4,3,0.0,2322,5070,7392,0.7272727272727273,0.7272727272727273,False,0.0,0.0,ReAct(w100triples),dflexlibs_multizone,o3-mini
TUC_001,1,human,"For each zone, what is the timeseries ID of its maximum air temperature setpoint, and what is the zone’s IFC reference?",openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?TsetMax a brick:Max_Air_Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?TsetMax.
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT ?zone ?ifcName (SAMPLE(?tsid) AS ?tsidSample) WHERE {
  ?zone a brick:Zone .
  
  # OPTIONAL: Get IFC reference on zone
  OPTIONAL {
    ?zone ref:hasExternalReference ?zoneRef .
    ?zoneRef ref:ifcName ?ifcName .
  }
  
  # OPTIONAL: Traverse to maximum air temperature setpoint via space and equipment
  OPTIONAL {
    ?zone brick:hasPart ?space .
    ?space brick:isLocationOf ?equip .
    ?equip brick:hasPoint ?maxSetpoint .
    ?maxSetpoint a brick:Max_Air_Temperature_Setpoint .
    OPTIONAL {
      ?maxSetpoint ref:hasExternalReference ?tsExt .
      ?tsExt ref:hasTimeseriesId ?tsid .
    }
  }
}
GROUP BY ?zone ?ifcName",True,True,False,18,2,19,3,0.0,11558,10610,22168,0.972972972972973,0.972972972972973,False,0.0,0.0,ReAct(w100triples),TUC_building,o3-mini
TUC_001,2,LLM_1,What are the zone IDs and the timeseries IDs of the maximum air temperature setpoints that are located in spaces belonging to each zone?,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?TsetMax a brick:Max_Air_Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?TsetMax.
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX saref: <https://saref.etsi.org/core#>

SELECT DISTINCT ?zoneID ?tsID
WHERE {
  # Identify maximum air temperature setpoints and get their timeseries IDs via their external references
  ?maxSetpoint a brick:Max_Air_Temperature_Setpoint ;
               ref:hasExternalReference ?tsRef .
  ?tsRef ref:hasTimeseriesId ?tsID .

  # Use property paths to capture either association direction between equipment and setpoints
  ?equip (brick:hasPoint|brick:isPointOf) ?maxSetpoint .

  # Use property paths to capture the link between equipment and space location
  ?space (brick:isLocationOf|brick:hasLocation) ?equip .

  # Spaces belong to zones via brick:hasPart
  ?zone brick:hasPart ?space .

  # Extract the zone identifier robustly from the zone IRI (removing everything up to the last / or #)
  BIND(REPLACE(STR(?zone), ""^(.*[/#])"", """") AS ?zoneID)
}
",True,True,False,18,2,36,2,0.0,6817,7388,14205,0.5,0.0,False,0.0,0.0,ReAct(w100triples),TUC_building,o3-mini
TUC_001,3,LLM_2,"For each zone, what is its external IFC reference name and which timeseries ID holds its maximum air temperature setpoint?",openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?TsetMax a brick:Max_Air_Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?TsetMax.
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX saref: <https://saref.etsi.org/core#>
PREFIX s4bldg: <https://saref.etsi.org/saref4bldg#>

SELECT DISTINCT ?zone ?ifcName ?timeseriesID WHERE {
  # Select zones with an external IFC reference name
  ?zone a brick:Zone .
  ?zone ref:hasExternalReference ?zoneExt .
  ?zoneExt ref:ifcName ?ifcName .
  
  # Traverse from zone to its spaces
  ?zone brick:hasPart ?space .

  # From space, locate the associated equipment. Some Brick models link equipment via brick:isLocationOf, others via s4bldg:contains
  {
    ?space brick:isLocationOf ?equip .
  } UNION {
    ?space s4bldg:contains ?equip .
  }

  # From equipment, find the maximum air temperature setpoint. Depending on the model, the association may be via brick:hasPoint or saref:consistOf
  {
    ?equip brick:hasPoint ?maxSetpoint .
  } UNION {
    ?equip saref:consistOf ?maxSetpoint .
  }
  ?maxSetpoint a brick:Max_Air_Temperature_Setpoint .

  # Only include setpoints that hold an external timeseries ID
  ?maxSetpoint ref:hasExternalReference ?tsExt .
  ?tsExt ref:hasTimeseriesId ?timeseriesID .
}
",True,True,False,18,2,18,3,0.0,7615,9062,16677,1.0,1.0,False,0.0,0.0,ReAct(w100triples),TUC_building,o3-mini
TUC_001,4,LLM_3,Can you list every zone’s name along with the identifier of the timeseries that records its highest temperature setpoint?,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?TsetMax a brick:Max_Air_Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?TsetMax.
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX saref: <https://saref.etsi.org/core#>

SELECT DISTINCT (COALESCE(?extName, REPLACE(STR(?zone), "".*/"", """")) AS ?zoneName) ?tsID
WHERE {
  ?zone a brick:Zone .
  OPTIONAL {
    ?zone ref:hasExternalReference ?zoneExt .
    ?zoneExt ref:ifcName ?extName .
  }
  
  # Find spaces that are part of the zone
  ?zone brick:hasPart ?space .
  
  # Find equipment that is located in the space
  ?space brick:isLocationOf ?equip .
  
  # Find the equipment point that records the maximum (i.e. highest) air temperature setpoint
  { ?equip brick:hasPoint ?point . } UNION { ?equip saref:consistOf ?point . }
  ?point a brick:Max_Air_Temperature_Setpoint .
  
  # The point should have an external reference that holds the timeseries identifier
  ?point ref:hasExternalReference ?ptExt .
  ?ptExt ref:hasTimeseriesId ?tsID .
}",True,True,False,18,2,18,2,0.0,3095,5082,8177,1.0,1.0,False,1.0,1.0,ReAct(w100triples),TUC_building,o3-mini
TUC_001,5,LLM_4,Which zones map to which data series for their peak temperature settings?,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?TsetMax a brick:Max_Air_Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?TsetMax.
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX saref: <https://saref.etsi.org/core#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s4bldg: <https://saref.etsi.org/saref4bldg#>

SELECT DISTINCT ?zone ?timeseries
WHERE {
  ?zone a brick:Zone .
  ?zone brick:hasPart ?space .
  ?space (brick:isLocationOf|brick:hasLocation|s4bldg:contains) ?equip .
  { ?equip brick:hasPoint ?ts . } UNION { ?equip saref:consistOf ?ts . }
  ?ts a brick:Max_Air_Temperature_Setpoint .
  ?ts ref:hasExternalReference ?ext .
  ?ext ref:hasTimeseriesId ?timeseries .
}",True,True,False,18,2,18,2,0.0,3057,4845,7902,0.5,0.0,False,0.0,0.0,ReAct(w100triples),TUC_building,o3-mini
TUC_001,6,LLM_5,What are the maximum temperature setpoints for each zone?,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?TsetMax a brick:Max_Air_Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?TsetMax.
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX s4bldg: <https://saref.etsi.org/saref4bldg#>
PREFIX saref: <https://saref.etsi.org/core#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT DISTINCT ?zone (COALESCE(?value, ?sp) AS ?maxTemperatureSetpoint)
WHERE {
  {
    # Pattern 1: equipment is reached by zone -> hasPart -> space -> isLocationOf -> equipment
    ?zone a brick:Zone .
    ?zone brick:hasPart ?s .
    ?s brick:isLocationOf ?e .
    ?e brick:hasPoint ?sp .
    ?sp a brick:Max_Air_Temperature_Setpoint .
    OPTIONAL { ?sp saref:hasValue ?value . }
  } UNION {
    # Pattern 2: equipment is reached via zone -> hasPart -> (space contains equipment)
    ?zone a brick:Zone .
    ?zone brick:hasPart ?s .
    ?s s4bldg:contains ?e .
    ?e brick:hasPoint ?sp .
    ?sp a brick:Max_Air_Temperature_Setpoint .
    OPTIONAL { ?sp saref:hasValue ?value . }
  } UNION {
    # Pattern 3: equipment directly associated with the zone
    ?zone a brick:Zone .
    ?zone s4bldg:hasEquipment ?e .
    ?e brick:hasPoint ?sp .
    ?sp a brick:Max_Air_Temperature_Setpoint .
    OPTIONAL { ?sp saref:hasValue ?value . }
  }
}",True,True,False,18,2,18,2,0.0,6874,6868,13742,0.0,0.0,False,0.0,0.0,ReAct(w100triples),TUC_building,o3-mini
TUC_002,1,human,"For each zone, what is the timeseries ID of its minimum air temperature setpoint, and what is the zone’s IFC reference?",openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?TsetMin a brick:Min_Air_Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?TsetMin.
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX saref: <https://saref.etsi.org/core#>

SELECT DISTINCT ?zone ?ifcName ?tsID
WHERE {
  ?zone a brick:Zone .
  ?zone ref:hasExternalReference ?zoneExt .
  ?zoneExt ref:ifcName ?ifcName .
  
  # Traverse from the zone to associated equipment or points using property paths
  ?zone (brick:hasEquipment|brick:feedsEquipment|brick:hasPart/brick:isLocationOf|brick:hasPoint) ?equipOrPoint .
  
  # From the equipment or direct point link, follow property paths to reach the setpoint
  ?equipOrPoint (brick:hasPoint|brick:isPointOf|saref:consistOf|brick:feedsPoint)* ?minSetpoint .

  # Filter to ensure we have a minimum air temperature setpoint
  ?minSetpoint a brick:Min_Air_Temperature_Setpoint .
  
  # Extract the timeseries identifier from the setpoint's external reference
  ?minSetpoint ref:hasExternalReference ?minExt .
  ?minExt ref:hasTimeseriesId ?tsID .
}
",True,True,False,18,2,18,3,0.0,10867,10491,21358,1.0,1.0,False,0.0,0.0,ReAct(w100triples),TUC_building,o3-mini
TUC_002,2,LLM_1,"What are the IFC names of zones that have part spaces where a minimum air temperature setpoint sensor is located, and what is the timeseries ID of that sensor according to its external reference?",openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?TsetMin a brick:Min_Air_Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?TsetMin.
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX saref: <https://saref.etsi.org/core#>

SELECT DISTINCT ?ifcName ?tsId
WHERE {
  # Start with zones that have an external reference with an IFC name
  ?zone a brick:Zone .
  ?zone ref:hasExternalReference ?zoneExt .
  ?zoneExt ref:ifcName ?ifcName .
  
  # Get part spaces of the zone
  ?zone brick:hasPart ?space .
  
  # Locate equipment in that space
  ?space brick:isLocationOf ?equip .
  
  # Find a minimum air temperature setpoint sensor associated with that equipment
  ?sensor a brick:Min_Air_Temperature_Setpoint .
  { ?sensor brick:isPointOf ?equip . } UNION
  { ?equip saref:consistOf ?sensor . } UNION
  { ?equip brick:hasPoint ?sensor . }
  
  # Pull the external reference of the sensor that contains the timeseries id
  ?sensor ref:hasExternalReference ?sensorExt .
  ?sensorExt ref:hasTimeseriesId ?tsId .
}",True,True,False,18,2,18,2,0.0,3130,6145,9275,1.0,1.0,False,1.0,1.0,ReAct(w100triples),TUC_building,o3-mini
TUC_002,3,LLM_2,"For each building zone, what IFC reference name and timeseries identifier correspond to its minimum air temperature setpoint sensor located in one of its spaces?",openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?TsetMin a brick:Min_Air_Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?TsetMin.
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX saref: <https://saref.etsi.org/core#>

SELECT DISTINCT ?zone ?ifcName ?timeseriesId
WHERE {
  ?zone a brick:Zone .
  ?zone brick:hasPart ?space .
  
  { 
    # Case 1: Sensor is directly located in the space
    ?sensor brick:isLocatedIn ?space .
  } UNION {
    # Case 2: Sensor is associated with equipment that is located in the space
    ?equip (brick:isLocationOf|brick:hasLocation) ?space .
    ?sensor brick:isPointOf ?equip .
  }
  
  # Sensor must be a minimum air temperature setpoint sensor
  ?sensor a brick:Min_Air_Temperature_Setpoint .
  
  # Retrieve external reference properties
  ?sensor ref:hasExternalReference ?ext .
  ?ext ref:ifcName ?ifcName ;
       ref:hasTimeseriesId ?timeseriesId .
}
ORDER BY ?zone",True,False,False,18,2,0,3,0.0,9648,13151,22799,0.0,0.0,False,1.0,0.0,ReAct(w100triples),TUC_building,o3-mini
TUC_002,4,LLM_3,Which zones have a minimum air temperature setpoint sensor in their spaces and what are those zones’ IFC names along with the sensor’s timeseries ID?,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?TsetMin a brick:Min_Air_Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?TsetMin.
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT DISTINCT ?zone ?ifcName ?tsid
WHERE {
  # Identify sensors that are of type Min_Air_Temperature_Setpoint
  ?sensor a brick:Min_Air_Temperature_Setpoint .

  # Get the sensor's timeseries id via the external reference, if available
  OPTIONAL {
    ?sensor ref:hasExternalReference ?sref .
    ?sref ref:hasTimeseriesId ?tsid .
  }

  # Get the equipment the sensor is part of
  ?sensor brick:isPointOf ?equip .

  # Find a space that has this equipment, via either relationship
  { ?space brick:isLocationOf ?equip . } UNION { ?equip brick:hasLocation ?space . }

  # Find a zone that has this space as part
  ?zone brick:hasPart ?space .

  # Ensure that the ?zone is of type brick:Zone
  ?zone a brick:Zone .

  # Get the zone's IFC name via its external reference, if available
  OPTIONAL {
    ?zone ref:hasExternalReference ?zoneExt .
    ?zoneExt ref:ifcName ?ifcName .
  }
}
",True,True,False,18,2,18,3,0.0,7374,8103,15477,1.0,1.0,False,0.0,0.0,ReAct(w100triples),TUC_building,o3-mini
TUC_002,5,LLM_4,Can you list each zone’s IFC name together with the timeseries ID for its minimum air temperature setpoint?,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?TsetMin a brick:Min_Air_Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?TsetMin.
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX saref: <https://saref.etsi.org/core#>

SELECT DISTINCT ?ifcName ?ts WHERE {
  # Identify a zone by its external reference that contains the IFC name
  ?zone a brick:Zone ;
        ref:hasExternalReference ?zoneExt .
  ?zoneExt ref:ifcName ?ifcName .

  # Identify equipment associated with the zone via its spaces
  ?zone brick:hasPart ?space .
  ?space brick:isLocationOf ?eq .

  # Retrieve a minimum air temperature setpoint either via brick:hasPoint or saref:consistOf
  ?eq (brick:hasPoint|saref:consistOf) ?minPoint .
  ?minPoint a brick:Min_Air_Temperature_Setpoint ;
            ref:hasExternalReference ?minExt .

  # Extract the timeseries ID from the external reference of the minimum air temperature setpoint
  ?minExt ref:hasTimeseriesId ?ts .

  # The linkage follows Zone -> Space -> Equipment -> (hasPoint|consistOf) -> Min_Air_Temperature_Setpoint
  # to obtain the IFC name of the zone and the timeseries ID associated with the setpoint.
}
",True,True,False,18,2,18,2,0.0,6781,6961,13742,1.0,1.0,False,1.0,1.0,ReAct(w100triples),TUC_building,o3-mini
TUC_002,6,LLM_5,Where can I find the timeseries identifiers for the minimum temperature settings in each building zone and the names of those zones?,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?TsetMin a brick:Min_Air_Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?TsetMin.
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX saref: <https://saref.etsi.org/core#>

SELECT DISTINCT (COALESCE(?zoneLabel, ?zoneHasName, STRAFTER(STR(?zone), ""#"")) AS ?zoneName) ?timeseriesId
WHERE {
  # Select minimum air temperature setpoints and extract their timeseries ids
  ?minSet a brick:Min_Air_Temperature_Setpoint .
  ?minSet ref:hasExternalReference ?minExt .
  ?minExt ref:hasTimeseriesId ?timeseriesId .
  
  # Trace from the min setpoint to the equipment
  ?minSet brick:isPointOf ?equip .
  
  # Find the space associated with the equipment
  { ?equip brick:isLocationOf ?space } UNION { ?equip brick:hasLocation ?space } .
  
  # Associate the space with the zone. In our data model, a zone contains one or more spaces.
  ?zone brick:hasPart ?space .

  # Attempt to retrieve the zone name via common naming properties
  OPTIONAL { ?zone rdfs:label ?zoneLabel . }
  OPTIONAL { ?zone brick:hasName ?zoneHasName . }
}
ORDER BY ?zoneName",True,True,False,18,2,36,2,0.0,10514,10348,20862,0.5,0.0,False,0.0,0.0,ReAct(w100triples),TUC_building,o3-mini
TUC_003,1,human,"For each zone, what is the timeseries ID of its occupancy sensor, and what is the zone’s IFC reference?",openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?occ a brick:Occupancy_Sensor;
    ref:hasExternalReference/ref:hasTimeseriesId ?point.
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?occ .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX saref: <https://saref.etsi.org/core#>

SELECT DISTINCT ?zone ?ifcRef ?tsID
WHERE {
  ?zone a brick:Zone .
  ?zone ref:hasExternalReference ?zoneExt .
  ?zoneExt ref:ifcName ?ifcRef .
  
  ?zone brick:hasPart ?space .
  ?space brick:isLocationOf ?equip .
  ?equip brick:hasPoint ?sensor .
  ?sensor saref:observes om:OccProperty .
  
  ?sensor ref:hasExternalReference ?sensorExt .
  ?sensorExt ref:hasTimeseriesId ?tsID .
}
ORDER BY ?zone",True,True,False,18,2,18,3,0.0,3343,5071,8414,1.0,1.0,False,0.0,0.0,ReAct(w100triples),TUC_building,o3-mini
TUC_003,2,LLM_1,What is the IFC name of each zone and the timeseries id from the external reference of the occupancy sensor that is located in a space which is part of that zone?,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?occ a brick:Occupancy_Sensor;
    ref:hasExternalReference/ref:hasTimeseriesId ?point.
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?occ .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref:   <https://brickschema.org/schema/Brick/ref#>

SELECT ?zoneIFCName ?timeseriesId
WHERE {
  ?zone a brick:Zone ;
        brick:hasPart ?space ;
        ref:hasExternalReference ?zoneExt .
  ?zoneExt ref:ifcName ?zoneIFCName .
  
  ?space brick:isLocationOf ?equipment .
  ?equipment brick:hasPoint ?sensor .
  ?sensor a brick:Occupancy_Sensor ;
          ref:hasExternalReference ?sensorExt .
  ?sensorExt ref:hasTimeseriesId ?timeseriesId .
}",True,True,False,18,2,18,2,0.0,3022,5089,8111,1.0,1.0,False,1.0,1.0,ReAct(w100triples),TUC_building,o3-mini
TUC_003,3,LLM_2,"For each zone identified by its IFC name, which timeseries id is linked to the occupancy sensor installed in one of its spaces via the sensor’s external reference?",openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?occ a brick:Occupancy_Sensor;
    ref:hasExternalReference/ref:hasTimeseriesId ?point.
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?occ .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT ?ifcName ?timeseriesId
WHERE {
  # Find zones that have an external reference with an IFC name
  ?zone a brick:Zone .
  ?zone ref:hasExternalReference ?zoneRef .
  ?zoneRef ref:ifcName ?ifcName .
  
  # Find a space that is part of that zone
  ?zone brick:hasPart ?space .
  
  # The space is the location of some equipment
  ?space brick:isLocationOf ?equipment .
  
  # That equipment has a point that is an occupancy sensor; sensors can be detected by their type
  ?equipment brick:hasPoint ?occSensor .
  ?occSensor a brick:Occupancy_Sensor .
  
  # Via the sensor’s external reference, obtain the associated timeseries id
  ?occSensor ref:hasExternalReference ?sensorRef .
  ?sensorRef ref:hasTimeseriesId ?timeseriesId .
}",True,True,False,18,2,18,2,0.0,3091,5128,8219,1.0,1.0,False,1.0,1.0,ReAct(w100triples),TUC_building,o3-mini
TUC_003,4,LLM_3,"Which zones, by their IFC names, contain occupancy sensors in their spaces and what are the sensors’ timeseries ids?",openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?occ a brick:Occupancy_Sensor;
    ref:hasExternalReference/ref:hasTimeseriesId ?point.
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?occ .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT DISTINCT ?zoneIfcName ?timeseriesId
WHERE {
  # Select occupancy sensors
  ?sensor a brick:Occupancy_Sensor .
  ?sensor brick:isPointOf ?equip .
  
  # Get the space in which the equipment is located
  ?space brick:isLocationOf ?equip .
  
  # Retrieve the zone that contains that space
  ?zone brick:hasPart ?space .
  
  # Get the external reference that carries the IFC name
  ?zone ref:hasExternalReference ?zoneExt .
  ?zoneExt ref:ifcName ?zoneIfcName .

  # Filter out any zones missing a valid IFC name
  FILTER(BOUND(?zoneIfcName) && STRLEN(STR(?zoneIfcName)) > 0) .

  # Optionally, get the sensor timeseries id
  OPTIONAL {
    ?sensor ref:hasExternalReference ?sensorExt .
    ?sensorExt ref:hasTimeseriesId ?timeseriesId .
  }
}
",True,True,False,18,2,18,2,0.0,6612,6034,12646,1.0,1.0,False,1.0,1.0,ReAct(w100triples),TUC_building,o3-mini
TUC_003,5,LLM_4,List each zone name along with the data stream id of the occupancy sensor monitoring that zone.,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?occ a brick:Occupancy_Sensor;
    ref:hasExternalReference/ref:hasTimeseriesId ?point.
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?occ .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref:   <https://brickschema.org/schema/Brick/ref#>

SELECT DISTINCT ?zoneName ?dataStreamId WHERE {
  # Find zones and get their names via external reference
  ?zone a brick:Zone .
  ?zone ref:hasExternalReference ?zoneExt .
  ?zoneExt ref:ifcName ?zoneName .

  # Get a space which is part of the zone
  ?zone brick:hasPart ?space .
  ?space a brick:Space .

  # Find an equipment associated with that space via location
  {
    ?equip brick:isLocationOf ?space .
  } UNION {
    ?equip brick:hasLocation ?space .
  }

  # Get the occupancy sensor point from the equipment
  ?equip brick:hasPoint ?occSensor .
  ?occSensor a brick:Occupancy_Sensor .

  # Get the sensor’s external reference and hence its data stream id
  ?occSensor ref:hasExternalReference ?occExt .
  ?occExt ref:hasTimeseriesId ?dataStreamId .

  # Optionally: if there are multiple links, the DISTINCT ensures one row per combination
}
",True,True,False,18,2,18,2,0.0,3081,4346,7427,1.0,1.0,False,1.0,1.0,ReAct(w100triples),TUC_building,o3-mini
TUC_003,6,LLM_5,How can I retrieve occupancy sensor time series data for every zone in the building?,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?occ a brick:Occupancy_Sensor;
    ref:hasExternalReference/ref:hasTimeseriesId ?point.
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?occ .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX saref: <https://saref.etsi.org/core#>

# This query retrieves occupancy sensor time series data for each zone,
# explicitly ensuring the sensor is typed as a Brick Occupancy Sensor.
# It navigates from zones to their associated spaces and then to equipment
# that has occupancy sensor points. It then retrieves the external reference
# timeseries identifier and, if available, any associated sensor time series data.

SELECT ?zone ?occSensor ?timeseriesID ?timeSeriesData
WHERE {
  # Identify zones
  ?zone a brick:Zone .
  
  # Navigate from zone to sensor via spaces and equipment. Depending on the model,
  # occupancy sensors may be attached to equipment located in a zone via spaces or directly.
  {
    ?zone brick:hasPart ?space .
    ?space brick:isLocationOf ?equip .
  } UNION {
    ?zone brick:hasPoint ?equip .
  }
  
  # Retrieve occupancy sensor points from the equipment
  ?equip brick:hasPoint ?occSensor .
  
  # Ensure the point is explicitly typed as an occupancy sensor
  ?occSensor a brick:Occupancy_Sensor .
  
  # Verify it observes an occupancy property
  ?occSensor saref:observes om:OccProperty .
  
  # Get the external reference node that contains timeseries mapping
  ?occSensor ref:hasExternalReference ?ext .
  
  # Use OPTIONAL to capture the timeseries identifier
  OPTIONAL { ?ext ref:hasTimeseriesId ?timeseriesID . }
  
  # OPTIONAL: Retrieve the actual time series data if stored in the triple store
  # (This property is assumed in this model; adjust the predicate as necessary.)
  OPTIONAL { ?occSensor brick:hasTimeseriesData ?timeSeriesData . }
}",True,True,False,18,2,18,4,0.0,7834,6464,14298,0.5,0.0,False,0.0,0.0,ReAct(w100triples),TUC_building,o3-mini
TUC_004,1,human,"For each zone, what is the timeseries ID of its temperature setpoint, and what is the zone’s IFC reference?",openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?setpoint a brick:Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?setpoint .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT ?zone ?ifc (GROUP_CONCAT(DISTINCT ?tsid; separator="", "") AS ?temperatureSetpointTimeseriesIDs)
WHERE {
  ?zone a brick:Zone .
  OPTIONAL {
    ?zone ref:hasExternalReference ?zoneRef .
    ?zoneRef ref:ifcName ?ifc .
  }
  OPTIONAL {
    ?zone brick:hasPart ?space .
    ?space brick:isLocationOf ?equip .
    ?equip brick:hasPoint ?point .
    ?point a brick:Temperature_Setpoint .
    ?point ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?tsid .
  }
}
GROUP BY ?zone ?ifc
ORDER BY ?zone",True,True,False,18,2,19,3,0.0,11869,10616,22485,0.972972972972973,0.972972972972973,False,0.0,0.0,ReAct(w100triples),TUC_building,o3-mini
TUC_004,2,LLM_1,"Which zone IFC names and timeseries IDs are associated with temperature setpoints, given that each temperature setpoint has an external reference with a timeseries ID, is located in a space that is part of a zone, and the zone has an IFC reference providing its name?",openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?setpoint a brick:Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?setpoint .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX saref: <https://saref.etsi.org/core#>

SELECT DISTINCT ?zoneIFCName ?timeseriesID
WHERE {
  # Identify temperature setpoints using their explicit type
  ?ts a brick:Temperature_Setpoint ;
      ref:hasExternalReference ?tsExt .
  ?tsExt ref:hasTimeseriesId ?timeseriesID .
  
  # Locate the equipment that the temperature setpoint is associated with
  ?ts brick:isPointOf ?equip .
  {
    ?space brick:isLocationOf ?equip .
  } UNION {
    ?equip brick:hasLocation ?space .
  }
  
  # Identify the zone that has the space as one of its parts
  ?zone brick:hasPart ?space ;
        ref:hasExternalReference ?zoneRef .
  
  # Filter only zones with a valid IFC reference name
  ?zoneRef ref:ifcName ?zoneIFCName .
  FILTER(BOUND(?zoneIFCName) && strlen(str(?zoneIFCName)) > 0)
}
",True,True,False,18,2,18,2,0.0,6901,5002,11903,1.0,1.0,False,1.0,1.0,ReAct(w100triples),TUC_building,o3-mini
TUC_004,3,LLM_2,"For each zone, what IFC identifier and external timeseries ID correspond to the temperature setpoint in its associated space?",openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?setpoint a brick:Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?setpoint .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX saref: <https://saref.etsi.org/core#>
PREFIX s4bldg: <https://saref.etsi.org/saref4bldg#>

SELECT DISTINCT ?zone ?ifcIdentifier ?timeseriesID
WHERE {
  ?zone a brick:Zone .
  
  # Associate zone with space
  ?zone brick:hasPart ?space .
  
  # Get the IFC identifier from the space's external reference
  ?space ref:hasExternalReference ?spaceRef .
  ?spaceRef ref:ifcName ?ifcIdentifier .
  
  # From space, traverse to equipment via either brick:isLocationOf or s4bldg:contains
  ?space (brick:isLocationOf|s4bldg:contains) ?equip .
  
  # From equipment, get the temperature setpoint via either brick:hasPoint or saref:consistOf
  ?equip (brick:hasPoint|saref:consistOf) ?tempSetpoint .
  
  # Ensure that this point is a Temperature Setpoint
  ?tempSetpoint a brick:Temperature_Setpoint .
  
  # Retrieve the external timeseries ID from the temperature setpoint
  ?tempSetpoint ref:hasExternalReference ?tsRef .
  ?tsRef ref:hasTimeseriesId ?timeseriesID .
}
ORDER BY ?zone",True,True,False,18,2,18,3,0.0,12130,10860,22990,0.5,0.0,False,0.0,0.0,ReAct(w100triples),TUC_building,o3-mini
TUC_004,4,LLM_3,List the IFC names of zones alongside their temperature setpoint timeseries IDs,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?setpoint a brick:Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?setpoint .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT DISTINCT ?zoneIfcName ?tsId
WHERE {
  # Select zones and their external references that contain the IFC name
  ?zone a brick:Zone .
  ?zone ref:hasExternalReference ?zoneExt .
  ?zoneExt ref:ifcName ?zoneIfcName .

  # Traverse from the zone to its spaces and then to equipment located within those spaces
  ?zone brick:hasPart ?space .
  ?space brick:isLocationOf ?equip .

  # From the equipment, select temperature setpoint points using explicit type information
  ?equip brick:hasPoint ?ts .
  ?ts a brick:Temperature_Setpoint .

  # Retrieve the timeseries identifier directly via the external reference path
  ?ts ref:hasExternalReference ?tsExt .
  ?tsExt ref:hasTimeseriesId ?tsId .
}",True,True,False,18,2,18,2,0.0,6614,10084,16698,1.0,1.0,False,1.0,1.0,ReAct(w100triples),TUC_building,o3-mini
TUC_004,5,LLM_4,What timeseries IDs are used for the temperature setpoints of each building zone?,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?setpoint a brick:Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?setpoint .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s4bldg: <https://saref.etsi.org/saref4bldg#>

SELECT DISTINCT ?zone ?tsID
WHERE {
  ?zone a brick:Zone .

  # Find equipment associated with the zone either directly or via intermediary location objects
  {
    # Case 1: Equipment located in a Space (or similar) that is part of the Zone
    ?zone (brick:hasPart|s4bldg:contains)* ?loc .
    ?loc brick:isLocationOf ?equip .
  } UNION {
    # Case 2: Equipment directly located in the Zone
    ?equip brick:isLocationOf ?zone .
  }

  # Retrieve the temperature setpoint points using a property path that covers both directions
  ?equip (brick:hasPoint|brick:isPointOf) ?setpoint .

  # Filter the setpoint by its Brick type (Temperature_Setpoint, or the min/max variants)
  VALUES ?ptType { brick:Temperature_Setpoint brick:Min_Air_Temperature_Setpoint brick:Max_Air_Temperature_Setpoint }
  ?setpoint a ?ptType .

  # Get the external reference which holds the timeseries id
  ?setpoint ref:hasExternalReference ?extRef .
  ?extRef ref:hasTimeseriesId ?tsID .
}
",True,True,False,18,2,54,2,0.0,6578,7486,14064,0.25,0.0,False,0.0,0.0,ReAct(w100triples),TUC_building,o3-mini
TUC_004,6,LLM_5,How can I find the temperature setpoint data streams for all zones?,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?setpoint a brick:Temperature_Setpoint ;
    ref:hasExternalReference/ref:hasTimeseriesId ?point .
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?setpoint .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX saref: <https://saref.etsi.org/core#>

SELECT DISTINCT ?zone ?tempSetpoint ?timeseriesID
WHERE {
  # Select all zones
  ?zone a brick:Zone .
  
  # A zone is assumed to have parts that are spaces
  ?zone brick:hasPart ?space .
  
  # Spaces are locations for equipment
  ?space brick:isLocationOf ?equip .
  
  # Equipment have points; we look for those that are temperature setpoints
  ?equip brick:hasPoint ?tempSetpoint .
  
  # Identify temperature setpoints by their type. In our data they may be of type
  # brick:Temperature_Setpoint, brick:Min_Air_Temperature_Setpoint, or brick:Max_Air_Temperature_Setpoint.
  { ?tempSetpoint a brick:Temperature_Setpoint . }
  UNION
  { ?tempSetpoint a brick:Min_Air_Temperature_Setpoint . }
  UNION
  { ?tempSetpoint a brick:Max_Air_Temperature_Setpoint . }
  
  # The temperature setpoint data streams are identified via an external reference containing a timeseries id
  ?tempSetpoint ref:hasExternalReference ?extRef .
  ?extRef ref:hasTimeseriesId ?timeseriesID .
}
",True,True,False,18,2,54,3,0.0,3576,4152,7728,0.25,0.0,False,0.0,0.0,ReAct(w100triples),TUC_building,o3-mini
TUC_005,1,human,"For each zone, what is the timeseries ID of its temperature sensor, and what is the zone’s IFC reference?",openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?temp a brick:Temperature_Sensor;
    ref:hasExternalReference/ref:hasTimeseriesId ?point.
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?temp .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX saref: <https://saref.etsi.org/core#>

SELECT DISTINCT ?zone ?timeseriesID ?ifcName
WHERE {
  ?zone a brick:Zone .

  # Get the zone’s IFC reference (if available)
  OPTIONAL {
    ?zone ref:hasExternalReference ?ifcRef .
    ?ifcRef ref:ifcName ?ifcName .
  }

  # Traverse from zone to one of its spaces, then to equipment located there which has a temperature sensor point
  OPTIONAL {
    ?zone brick:hasPart ?space .
    ?space brick:isLocationOf ?equip .
    ?equip brick:hasPoint ?tempSensor .
    ?tempSensor a brick:Temperature_Sensor .

    # Get the external reference from the temperature sensor that provides the timeseries ID
    ?tempSensor ref:hasExternalReference ?tsExt .
    ?tsExt ref:hasTimeseriesId ?timeseriesID .
  }
}",True,True,False,18,2,19,3,0.0,3368,5209,8577,0.972972972972973,0.972972972972973,False,0.0,0.0,ReAct(w100triples),TUC_building,o3-mini
TUC_005,2,LLM_1,"For each zone that has a part space, what is the IFC name of the zone and the external timeseries ID of the temperature sensor point located in that space?",openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?temp a brick:Temperature_Sensor;
    ref:hasExternalReference/ref:hasTimeseriesId ?point.
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?temp .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX saref: <https://saref.etsi.org/core#>

SELECT DISTINCT ?zoneIFCName ?timeseriesID
WHERE {
  # Constraint: zone must explicitly be a brick:Zone
  ?zone a brick:Zone ;
        brick:hasPart ?space .
  
  # Ensure that ?space is explicitly typed as a brick:Space
  ?space a brick:Space .
    
  # Optionally get the IFC name of the zone from its external reference
  OPTIONAL {
    ?zone ref:hasExternalReference ?zoneRef .
    ?zoneRef ref:ifcName ?zoneIFCName .
  }

  # Pattern: find a temperature sensor point associated with the space
  {
    # Option 1: Via equipment located in the space
    ?space brick:isLocationOf ?equip .
    ?equip brick:hasPoint ?sensor .
    ?sensor a brick:Temperature_Sensor .
    ?sensor ref:hasExternalReference ?sensorRef .
    ?sensorRef ref:hasTimeseriesId ?timeseriesID .
  } UNION {
    # Option 2: Direct association with the space
    ?space brick:hasPoint ?sensor .
    ?sensor a brick:Temperature_Sensor .
    ?sensor ref:hasExternalReference ?sensorRef .
    ?sensorRef ref:hasTimeseriesId ?timeseriesID .
  }
}
",True,True,False,18,2,18,2,0.0,10921,8708,19629,1.0,1.0,False,1.0,1.0,ReAct(w100triples),TUC_building,o3-mini
TUC_005,3,LLM_2,Which IFC-named zones contain a temperature sensor in one of their spaces and what is the external timeseries identifier of that sensor?,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?temp a brick:Temperature_Sensor;
    ref:hasExternalReference/ref:hasTimeseriesId ?point.
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?temp .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX saref: <https://saref.etsi.org/core#>
PREFIX s4bldg: <https://saref.etsi.org/saref4bldg#>

SELECT DISTINCT ?zoneName ?tsID WHERE {
  # Find zones that have an external reference with an IFC name
  ?zone a brick:Zone ;
        brick:hasPart ?space ;
        ref:hasExternalReference ?zoneExt .
  ?zoneExt ref:ifcName ?zoneName .
  
  # Find an equipment located in a space that is part of the zone
  ?space brick:isLocationOf ?equip .

  # Find a temperature sensor on that equipment
  ?equip brick:hasPoint ?sensor .
  ?sensor a brick:Temperature_Sensor .
  
  # Get the external reference of the sensor that contains its timeseries id
  ?sensor ref:hasExternalReference ?sensorExt .
  ?sensorExt ref:hasTimeseriesId ?tsID .
}",True,True,False,18,2,18,2,0.0,3068,3921,6989,1.0,1.0,False,1.0,1.0,ReAct(w100triples),TUC_building,o3-mini
TUC_005,4,LLM_3,What are the external timeseries IDs of temperature sensors installed within zones identified by their IFC names?,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?temp a brick:Temperature_Sensor;
    ref:hasExternalReference/ref:hasTimeseriesId ?point.
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?temp .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref:   <https://brickschema.org/schema/Brick/ref#>
PREFIX s4bldg: <https://saref.etsi.org/saref4bldg#>
PREFIX saref: <https://saref.etsi.org/core#>

SELECT DISTINCT ?zoneIFCName ?timeseriesID
WHERE {
  # Locate temperature sensor points with external timeseries IDs
  ?sensor a brick:Temperature_Sensor .
  ?sensor ref:hasExternalReference ?sensorExt .
  ?sensorExt ref:hasTimeseriesId ?timeseriesID .

  # Sensor is associated with equipment
  ?sensor brick:isPointOf ?equip .
  
  # Establish equipment-to-space connection using available relationships
  { ?equip brick:hasLocation ?space . }
  UNION
  { ?space brick:isLocationOf ?equip . }
  
  # Space must be a part of a zone
  ?zone brick:hasPart ?space .
  
  # The zone must have an external reference with an IFC name
  ?zone ref:hasExternalReference ?zoneExt .
  ?zoneExt ref:ifcName ?zoneIFCName .
  FILTER(STRLEN(STR(?zoneIFCName)) > 0)
}
",True,True,False,18,2,18,2,0.0,6736,5380,12116,1.0,1.0,False,1.0,1.0,ReAct(w100triples),TUC_building,o3-mini
TUC_005,5,LLM_4,List each zone by its IFC name along with the data stream ID for the temperature sensor point,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?temp a brick:Temperature_Sensor;
    ref:hasExternalReference/ref:hasTimeseriesId ?point.
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?temp .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT DISTINCT ?ifcName ?tsid WHERE {
  # Find zones and their external reference that provides an IFC name
  ?zone a brick:Zone .
  ?zone ref:hasExternalReference ?zoneExt .
  ?zoneExt ref:ifcName ?ifcName .

  # Find a space that is a part of the zone
  ?zone brick:hasPart ?space .

  # Find an equipment located at that space
  ?space brick:isLocationOf ?equip .

  # Find a point of that equipment that is a temperature sensor
  ?equip brick:hasPoint ?sensor .
  ?sensor a brick:Temperature_Sensor .

  # Get the data stream id from the sensor’s external reference
  ?sensor ref:hasExternalReference ?sensorExt .
  ?sensorExt ref:hasTimeseriesId ?tsid .
}",True,True,False,18,2,18,2,0.0,3035,4845,7880,1.0,1.0,False,1.0,1.0,ReAct(w100triples),TUC_building,o3-mini
TUC_005,6,LLM_5,What temperature data streams are available for each zone?,openai/o3-mini,"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX om: <http://openmetrics.eu/openmetrics#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
SELECT DISTINCT ?ZoneID ?point WHERE {
    ?temp a brick:Temperature_Sensor;
    ref:hasExternalReference/ref:hasTimeseriesId ?point.
    ?zone a brick:Zone ; brick:hasPart ?space ;
    ref:hasExternalReference ?zoneRef.
    ?zoneRef a ref:IFCReference ;
    ref:ifcName ?ZoneID .
    ?space brick:isLocationOf/brick:hasPoint ?temp .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX saref: <https://saref.etsi.org/core#>
PREFIX s4bldg: <https://saref.etsi.org/saref4bldg#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

SELECT DISTINCT ?zone ?stream ?timeseriesId
WHERE {
  # Ensure we only consider zones by filtering on their type
  ?zone a brick:Zone ;
        brick:hasPart ?space .
  
  # Find equipment located in a space via either the brick:isLocationOf or s4bldg:contains relationship
  ?space (brick:isLocationOf | s4bldg:contains) ?equip .
  
  # Find points (data streams) on the equipment using property paths
  ?equip (brick:hasPoint | saref:consistOf) ?stream .
  
  # Restrict the stream to known temperature-related types
  VALUES ?tempType { brick:Temperature_Sensor brick:Temperature_Setpoint brick:Min_Air_Temperature_Setpoint brick:Max_Air_Temperature_Setpoint }.
  ?stream a ?tempType .
  
  # Optionally, retrieve the timeseries identifier if available
  OPTIONAL {
    ?stream ref:hasExternalReference ?ext .
    ?ext ref:hasTimeseriesId ?timeseriesId .
  }
}
ORDER BY ?zone ?stream",True,True,False,18,2,72,3,0.0,7709,7879,15588,0.2,0.0,False,0.0,0.0,ReAct(w100triples),TUC_building,o3-mini
MORTAR_001,1,human,What are the brick points in this graph?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?point ?point_type WHERE { ?point rdf:type/rdfs:subClassOf* brick:Point . ?point rdf:type ?point_type . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>

SELECT DISTINCT ?point
WHERE {
  { ?s brick:hasPoint ?point . }
  UNION
  { ?point brick:hasAssociatedTag tag:Point . }
}",True,True,False,39072,2,2057,1,0.0,2897,2593,5490,0.0,0.0,True,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_001,2,human,Can you find nodes that has information about an external reference?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?point ?point_type WHERE { ?point rdf:type/rdfs:subClassOf* brick:Point . ?point rdf:type ?point_type . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>

SELECT DISTINCT ?node
WHERE {
  ?node ref:hasExternalReference ?externalRef .
}",True,True,False,39072,2,897,1,0.0,2889,763,3652,0.0,0.0,True,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_001,3,human,What points does this graph have?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?point ?point_type WHERE { ?point rdf:type/rdfs:subClassOf* brick:Point . ?point rdf:type ?point_type . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?point ?label
WHERE {
  ?point a brick:Point .
  OPTIONAL { ?point rdfs:label ?label . }
}",True,True,False,39072,2,1257,2,0.0,6677,3021,9698,0.5,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_001,4,human,What data sources I have in my system?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?point ?point_type WHERE { ?point rdf:type/rdfs:subClassOf* brick:Point . ?point rdf:type ?point_type . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>

# The intent of this query is to return unique data source entities in the system.  
# While Brick Schema does not always make explicit a single notion of a data source, many such entities appear 
# either directly as an instance of brick:DataSource (if defined) or as a point referenced via the brick:hasPoint property.

SELECT DISTINCT ?dataSource (GROUP_CONCAT(DISTINCT ?typeLabel; separator="", "") as ?dataSourceTypes)
WHERE {
  {
    # Option 1: If the system explicitly classifies a data source
    ?dataSource a brick:DataSource .
  } UNION {
    # Option 2: If the data source is used as a point in the system
    ?parent brick:hasPoint ?dataSource .
  }
  OPTIONAL {
    ?dataSource a ?t .
    # Extract a simple label from the type URI
    BIND(REPLACE(STR(?t), ""^.*[#/](.*)$"", ""$1"") AS ?typeLabel)
  }
}
GROUP BY ?dataSource
ORDER BY ?dataSource
",True,True,False,39072,2,1268,2,0.0,7115,6788,13903,0.4978217821782178,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_001,5,LLM_1,Which entities that are instances of Point (including its subclasses) have which types?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?point ?point_type WHERE { ?point rdf:type/rdfs:subClassOf* brick:Point . ?point rdf:type ?point_type . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?entity ?type
WHERE {
  ?entity a ?type .
  ?type rdfs:subClassOf* brick:Point .
}
",True,True,False,39072,2,5694,2,0.0,3194,2048,5242,0.98989898989899,0.2543894920251976,False,1.0,0.6937134502923976,ReAct(w100triples),bldg11,o3-mini
MORTAR_001,6,LLM_2,What point entities exist and what types are they assigned?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?point ?point_type WHERE { ?point rdf:type/rdfs:subClassOf* brick:Point . ?point rdf:type ?point_type . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>

SELECT DISTINCT ?point ?pointType
WHERE {
  { ?s brick:hasPoint ?point . }
  UNION
  { ?point brick:hasAssociatedTag tag:Point . }
  ?point rdf:type ?pointType .
  # Only return type assertions for point-specific types: those that themselves are tagged as a point
  ?pointType brick:hasAssociatedTag tag:Point .
}
ORDER BY ?point ?pointType",True,True,False,39072,2,5247,2,0.0,6964,5544,12508,0.9361702127659576,0.236783320923306,False,1.0,0.6392543859649122,ReAct(w100triples),bldg11,o3-mini
MORTAR_001,7,LLM_3,List all measurement points along with their categories.,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?point ?point_type WHERE { ?point rdf:type/rdfs:subClassOf* brick:Point . ?point rdf:type ?point_type . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query explicitly restricts results to measurement points (assumed to be instances of brick:MeasurementPoint).
# It then collects the associated category tags, whether the tag is applied directly to the measurement point or to its type.

SELECT ?measurement_point (GROUP_CONCAT(DISTINCT STR(?category); separator="", "") AS ?categories)
WHERE {
  ?measurement_point a brick:MeasurementPoint .
  {
    ?measurement_point brick:hasAssociatedTag ?category .
  } UNION {
    ?measurement_point a ?type .
    ?type brick:hasAssociatedTag ?category .
  }
}
GROUP BY ?measurement_point
ORDER BY ?measurement_point",True,False,False,39072,2,0,2,0.0,11163,12410,23573,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_001,8,LLM_4,What data points are defined in the building model and how are they classified?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?point ?point_type WHERE { ?point rdf:type/rdfs:subClassOf* brick:Point . ?point rdf:type ?point_type . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query returns data points defined in the building model that are explicitly classified
# as a sensor, setpoint, or command of interest. We focus on a selected set of allowed classes:
#   - brick:Zone_Air_Temperature_Sensor
#   - brick:Zone_Air_Temperature_Setpoint
#   - brick:Damper_Position_Setpoint
#   - brick:Supply_Air_Flow_Sensor
#   - brick:Entering_Hot_Water_Temperature_Sensor
#   - brick:Leaving_Water_Temperature_Sensor
# The query gathers data points by either following a brick:hasPoint relation or by direct type assertion,
# and aggregates the allowed classifications per data point.

SELECT ?dataPoint (SAMPLE(?label) AS ?dataPointLabel) (GROUP_CONCAT(DISTINCT STR(?classLabel); separator="", "") AS ?classifications)
WHERE {
  # Define the allowed classification types
  VALUES ?allowedClass { 
    brick:Zone_Air_Temperature_Sensor
    brick:Zone_Air_Temperature_Setpoint
    brick:Damper_Position_Setpoint
    brick:Supply_Air_Flow_Sensor
    brick:Entering_Hot_Water_Temperature_Sensor
    brick:Leaving_Water_Temperature_Sensor
  }
  
  {
    # First branch: data points referenced through brick:hasPoint
    ?device brick:hasPoint ?dataPoint .
    ?dataPoint a ?class .
    FILTER(?class = ?allowedClass)
    OPTIONAL { ?dataPoint rdfs:label ?label . }
    OPTIONAL { ?class rdfs:label ?classLabel . }
  } UNION {
    # Second branch: directly typed data point
    ?dataPoint a ?class .
    FILTER(?class = ?allowedClass)
    OPTIONAL { ?dataPoint rdfs:label ?label . }
    OPTIONAL { ?class rdfs:label ?classLabel . }
  }
}
GROUP BY ?dataPoint
ORDER BY ?dataPoint",True,True,False,39072,2,796,3,0.0,8206,7899,16105,0.3877252800779347,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_001,9,LLM_5,Which data points does the system include and how are they grouped?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?point ?point_type WHERE { ?point rdf:type/rdfs:subClassOf* brick:Point . ?point rdf:type ?point_type . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query retrieves the system's data points along with their grouping information.
# To account for variations across Brick deployments, it uses a UNION to collect tag associations
# from both brick:hasAssociatedTag and brick:hasTag. It also filters out entities that are clearly not
# data points (e.g. Rooms).

SELECT ?dataPoint 
       (COALESCE(?dpLabel, STR(?dataPoint)) AS ?DataPointLabel) 
       (GROUP_CONCAT(DISTINCT COALESCE(?groupTagLabel, STR(?groupTag)); separator="", "") AS ?Groups)
WHERE {
  { ?dataPoint brick:hasAssociatedTag ?groupTag. }
  UNION
  { ?dataPoint brick:hasTag ?groupTag. }
  
  # Optionally get human‐readable labels for the data point and its group tag
  OPTIONAL { ?dataPoint rdfs:label ?dpLabel. } 
  OPTIONAL { ?groupTag rdfs:label ?groupTagLabel. }
  
  # Exclude entities that are clearly not data points such as Rooms
  MINUS { ?dataPoint a brick:Room. }
}
GROUP BY ?dataPoint ?dpLabel
ORDER BY ?dataPoint",True,True,False,39072,2,1246,3,0.0,11087,10441,21528,0.0293209876543209,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_002,1,human,Find all equipment and its points that are Zone Air Temperature Setpoints,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint . ?equip brick:hasPoint ?sp }","PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT DISTINCT ?equipment ?point
WHERE {
  ?equipment brick:hasPoint ?point .
  ?point a brick:Zone_Air_Temperature_Setpoint .
}",True,True,False,222,2,222,2,0.0,3315,1894,5209,1.0,1.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_002,2,human,What equipment has setpoints for zone air temperature and what are they?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint . ?equip brick:hasPoint ?sp }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?equipment ?equipmentLabel ?setpoint ?setpointLabel ?setpointValue
WHERE {
  # Find equipment that has points
  ?equipment brick:hasPoint ?setpoint .
  
  # Filter for those points that are zone air temperature setpoints
  ?setpoint a brick:Zone_Air_Temperature_Setpoint .
  
  # Optionally grab human readable labels
  OPTIONAL { ?equipment rdfs:label ?equipmentLabel . }
  OPTIONAL { ?setpoint rdfs:label ?setpointLabel . }
  
  # Retrieve the associated setpoint measurement/value if available; note: brick:hasValue is assumed
  OPTIONAL { ?setpoint brick:hasValue ?setpointValue . }
}",True,True,False,222,2,222,5,0.0,7574,4536,12110,1.0,1.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_002,3,human,What are the Zone Air Temperature Setpoints and the equipment they belong to?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint . ?equip brick:hasPoint ?sp }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?setpoint ?equipment
WHERE {
  ?setpoint a brick:Zone_Air_Temperature_Setpoint .
  OPTIONAL { ?equipment brick:hasPoint ?setpoint }
}
",True,True,False,222,2,222,2,0.0,3372,2574,5946,1.0,1.0,False,1.0,1.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_002,4,human,Which equipment regulates the air temperature in rooms,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint . ?equip brick:hasPoint ?sp }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?equipment ?equipmentLabel ?room ?roomLabel
WHERE {
  # Identify equipment that has a relationship with a temperature control component
  ?equipment ?rel ?tempDevice .
  FILTER(?rel IN (brick:regulates, brick:controls, brick:hasSetpoint))
  
  # Allow direct typing as a Zone Air Temperature Sensor or any subclass thereof
  { ?tempDevice a brick:Zone_Air_Temperature_Sensor . }
  UNION
  { ?tempDevice a ?t . ?t rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor . }

  # Connect the temperature device to a room; allow for both patterns
  { ?room brick:hasPoint ?tempDevice . } 
  UNION
  { ?tempDevice brick:isPointOf ?room . }

  # Ensure the target is a Room
  ?room a brick:Room .

  OPTIONAL { ?equipment rdfs:label ?equipmentLabel . }
  OPTIONAL { ?room rdfs:label ?roomLabel . }
}
",True,False,False,222,2,0,4,0.0,10110,11899,22009,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_002,5,LLM_1,"For each point that is a zone air temperature setpoint, which equipment has that point?",openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint . ?equip brick:hasPoint ?sp }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?point ?pointLabel ?equipment ?equipmentLabel
WHERE {
  ?point a brick:Zone_Air_Temperature_Setpoint .
  ?equipment brick:hasPoint ?point .
  OPTIONAL { ?point rdfs:label ?pointLabel . }
  OPTIONAL { ?equipment rdfs:label ?equipmentLabel . }
}
ORDER BY ?point
",True,True,False,222,2,222,4,0.0,3810,1464,5274,1.0,1.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_002,6,LLM_2,"Which devices include points that set the air temperature in a zone, and what are those points?",openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint . ?equip brick:hasPoint ?sp }","PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT DISTINCT ?device ?point
WHERE {
  ?device brick:hasPoint ?point .
  ?point a brick:Zone_Air_Temperature_Setpoint .
}",True,True,False,222,2,222,2,0.0,3326,2277,5603,1.0,1.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_002,7,LLM_3,Which HVAC components provide setpoints for regulating zone air temperature and what are those setpoints called?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint . ?equip brick:hasPoint ?sp }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>

SELECT DISTINCT ?hvacComponent ?setpointLabel
WHERE {
  # Retrieve setpoints for zone air temperature regulation
  ?setpoint a brick:Zone_Air_Temperature_Setpoint .
  
  # Only include setpoints that are provided by an HVAC component
  ?hvacComponent brick:hasPoint ?setpoint .
  
  # Optionally restrict the HVAC component to a known HVAC type
  ?hvacComponent a brick:HVAC_Equipment .
  
  # Get a human‐readable label if available
  OPTIONAL { ?setpoint rdfs:label ?labelTemp . } 
  
  # Fallback: extract a label from the IRI if no rdfs:label exists
  BIND(IF(BOUND(?labelTemp), ?labelTemp, REPLACE(STR(?setpoint), "".*[#/](.*)$"", ""$1"")) AS ?setpointLabel)
}
ORDER BY ?setpointLabel",True,True,False,222,2,222,2,0.0,11618,10077,21695,0.5,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_002,8,LLM_4,What are the target temperatures for each zone and which devices supply these targets?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint . ?equip brick:hasPoint ?sp }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>

SELECT ?zone ?targetTemp ?device ?deviceLabel
WHERE {
  ?sp a brick:Zone_Air_Temperature_Setpoint .

  # Obtain the numerical target temperature value (assumed to be the value pointed by brick:hasPointValue)
  OPTIONAL { ?sp brick:hasPointValue ?targetTemp . }
  
  # Identify the device that supplies this setpoint
  OPTIONAL {
    ?device brick:hasPoint ?sp .
    OPTIONAL { ?device rdfs:label ?deviceLabel . }
  }

  # Attempt to retrieve an explicit zone association via brick:hasLocation
  OPTIONAL { ?sp brick:hasLocation ?explicitZone . }

  # Assign ?zone: if an explicit zone exists, use it; otherwise, extract from the IRI of the setpoint using a regex pattern
  BIND(
    IF(BOUND(?explicitZone), 
       ?explicitZone,
       REPLACE(STR(?sp), "".*ZONE\\.([^\\.]+)\\..*"", ""$1"")
    ) AS ?zone
  )
}
ORDER BY ?zone",True,True,False,222,2,222,4,0.0,11130,8686,19816,0.5,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_002,9,LLM_5,Which equipment controls the temperature settings for building zones?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint . ?equip brick:hasPoint ?sp }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query finds controlling equipment by looking for those that have a point
# which (via subclass reasoning) is a temperature setpoint for a zone.

SELECT DISTINCT ?equipment ?equipmentLabel ?setpoint ?setpointLabel
WHERE {
  ?equipment brick:hasPoint ?setpoint .
  # Using a property path to capture setpoint types that are or derive from Zone_Air_Temperature_Setpoint
  ?setpoint a/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint .
  OPTIONAL { ?equipment rdfs:label ?equipmentLabel . }
  OPTIONAL { ?setpoint rdfs:label ?setpointLabel . }
}
ORDER BY ?equipment",True,True,False,222,2,222,4,0.0,7516,8235,15751,1.0,1.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_003,1,human,Find all equipment and its points that are Supply Air Temperature Sensors,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Supply_Air_Temperature_Sensor . ?equip brick:hasPoint ?sp . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>

SELECT ?equipment ?point
WHERE {
  ?equipment brick:hasPoint ?point .
  ?point a brick:Supply_Air_Temperature_Sensor .
}",True,True,False,206,2,103,2,0.0,3257,2420,5677,1.0,0.6666666666666666,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_003,2,human,What equipment has sensors for Supply air temperature and what are they?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Supply_Air_Temperature_Sensor . ?equip brick:hasPoint ?sp . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?equipment ?sensor ?label
WHERE {
  ?equipment brick:hasPoint ?sensor .
  OPTIONAL { ?sensor rdfs:label ?label . }
  {
    # Branch: Sensor explicitly typed as Supply_Air_Temperature_Sensor
    ?sensor a brick:Supply_Air_Temperature_Sensor .
  } UNION {
    # Branch: Sensor whose label indicates supply and temperature, but not a setpoint/control device
    ?sensor a ?sensorType .
    ?sensorType rdfs:subClassOf* brick:Sensor .
    ?sensor rdfs:label ?label .
    FILTER(regex(?label, ""supply"", ""i"") && regex(?label, ""temp"", ""i"") && !regex(?label, ""setpoint"", ""i""))
  }
}
",True,True,False,206,2,105,3,0.0,7581,7732,15313,0.992782530495538,0.6623794212218649,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_003,3,human,What are the Supply Air Temperature Sensors and the equipment they belong to?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Supply_Air_Temperature_Sensor . ?equip brick:hasPoint ?sp . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?equipment ?sensor ?sensorLabel
WHERE {
  ?equipment brick:hasPoint ?sensor .
  ?sensor rdfs:label ?sensorLabel .
  
  # Filter to include only points related to Supply Air Temperature Sensors
  FILTER(CONTAINS(LCASE(?sensorLabel), ""supply air temp""))
  
  # Exclude setpoints to ensure only measurement sensors are returned
  FILTER(!CONTAINS(LCASE(?sensorLabel), ""setpoint""))
  
  # Optionally, if an explicit sensor type is available, we can constrain further. For example:
  # ?sensor a brick:Supply_Air_Temperature_Sensor .
}
ORDER BY ?equipment ?sensor",True,True,False,206,2,103,3,0.0,12135,7468,19603,1.0,0.6666666666666666,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_003,4,LLM_1,List the supply air temperature sensors and the equipment that has point to them,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Supply_Air_Temperature_Sensor . ?equip brick:hasPoint ?sp . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?equipment ?supply_air_temp_sensor
WHERE {
  ?equipment brick:hasPoint ?supply_air_temp_sensor .
  ?supply_air_temp_sensor a brick:Supply_Air_Temperature_Sensor .
}
",True,True,False,206,2,103,2,0.0,7056,7323,14379,1.0,0.6666666666666666,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_003,5,LLM_2,Which pieces of equipment include a sensor for measuring supply air temperature,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Supply_Air_Temperature_Sensor . ?equip brick:hasPoint ?sp . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?equipment ?sensor
WHERE {
  ?equipment brick:hasPoint ?sensor .
  ?sensor a brick:Supply_Air_Temperature_Sensor .
}
",True,True,False,206,2,103,2,0.0,6961,7011,13972,1.0,0.6666666666666666,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_003,6,LLM_3,Which devices measure supply air temperature,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Supply_Air_Temperature_Sensor . ?equip brick:hasPoint ?sp . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query identifies devices that measure supply air temperature by relying on their
# explicit semantic classification in Brick (per ASHRAE 223P guidelines). In a Brick-based
# model, sensors that measure supply air temperature are expected to be typed as
# brick:Supply_Air_Temperature_Sensor. This avoids brittle string‐match filtering.

SELECT DISTINCT ?device
WHERE {
  ?device a brick:Supply_Air_Temperature_Sensor .
}
",True,True,False,206,2,103,1,0.0,6120,8239,14359,0.0,0.0,True,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_003,7,LLM_4,What equipment monitors the supply air temperature,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Supply_Air_Temperature_Sensor . ?equip brick:hasPoint ?sp . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?equipment ?sensor ?sensorLabel
WHERE {
  # Select equipment that monitor supply air temperature by having a dedicated supply air temperature sensor
  ?equipment brick:hasPoint ?sensor .
  ?sensor a brick:Supply_Air_Temperature_Sensor .
  OPTIONAL { ?sensor rdfs:label ?sensorLabel . }
}
",True,True,False,206,2,103,3,0.0,7877,8704,16581,1.0,0.6666666666666666,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_003,8,LLM_5,Where in the system is supply air temperature measured,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sp ?equip WHERE { ?sp rdf:type/rdfs:subClassOf* brick:Supply_Air_Temperature_Sensor . ?equip brick:hasPoint ?sp . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query returns sensor measurement points for air temperature that are associated
# with equipment typically used for delivering supply air. It leverages Brick classes
# so that only sensor (measurement) points are returned, explicitly excluding any setpoints.

SELECT DISTINCT ?equipment ?point ?label
WHERE {
  ?equipment brick:hasPoint ?point .
  ?point rdfs:label ?label .
  
  # Ensure the point is a sensor measuring air temperature and not a setpoint
  ?point a brick:Zone_Air_Temperature_Sensor .
  FILTER NOT EXISTS { ?point a brick:Zone_Air_Temperature_Setpoint. }
  
  # Supply air is typically delivered by equipment such as VAV (Variable Air Volume) units.
  # We leverage the naming of the equipment's URI (which includes 'VAV') as an identifying feature.
  FILTER(regex(str(?equipment), ""VAV"", ""i""))
}
",True,True,False,206,2,377,3,0.0,12361,13316,25677,0.1949685534591195,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_004,1,human,Find all equipment and its points that are Zone Air Temperature Sensors,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT ?equipment ?point
WHERE {
  ?equipment a brick:Zone_Air_Temperature_Sensor .
  OPTIONAL { ?equipment brick:hasPoint ?point . }
}",True,True,False,388,2,388,2,0.0,2871,1716,4587,0.0,0.0,True,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_004,2,human,What equipment has sensors for zone air temperature and what are they?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?equipment ?sensor ?sensorLabel
WHERE {
  ?equipment brick:hasPoint ?sensor .
  ?sensor a brick:Zone_Air_Temperature_Sensor .
  OPTIONAL { ?sensor rdfs:label ?sensorLabel }
}
",True,True,False,388,2,388,3,0.0,7724,4770,12494,1.0,1.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_004,3,human,What are the Zone Air Temperature Sensors and the equipment they belong to?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>

SELECT ?sensor ?equipment
WHERE {
  ?sensor a brick:Zone_Air_Temperature_Sensor .
  OPTIONAL { ?equipment brick:hasPoint ?sensor . }
}
ORDER BY ?sensor",True,True,False,388,2,388,2,0.0,3258,1360,4618,1.0,1.0,False,1.0,1.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_004,4,LLM_1,Which zone air temperature sensor instances are connected by has point to which equipment?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?equipment ?sensor
WHERE {
  ?equipment brick:hasPoint ?sensor .
  ?sensor a brick:Zone_Air_Temperature_Sensor .
}",True,True,False,388,2,388,2,0.0,3274,1039,4313,1.0,1.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_004,5,LLM_2,Which pieces of equipment include a sensor that measures the air temperature in a zone?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?equipment ?sensor
WHERE {
  ?equipment brick:hasPoint ?sensor .
  ?sensor a brick:Zone_Air_Temperature_Sensor .
}
",True,True,False,388,2,388,2,0.0,6930,4805,11735,1.0,1.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_004,6,LLM_3,What devices are fitted with zone temperature sensors and what are those sensors?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?device ?sensor
WHERE {
  ?device brick:hasPoint ?sensor .
  ?sensor a ?sensorType .
  # Check if the sensor type is a (sub)class of Zone_Air_Temperature_Sensor
  ?sensorType rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor .
}
",True,True,False,388,2,388,2,0.0,11178,7657,18835,1.0,1.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_004,7,LLM_4,Where can I find the equipment that provides measurements of temperature in each zone?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?zone ?zoneLabel ?sensor ?sensorLabel
WHERE {
  ?sensor a brick:Zone_Air_Temperature_Sensor .
  OPTIONAL { ?sensor rdfs:label ?sensorLabel . }
  ?zone brick:hasPoint ?sensor .
  OPTIONAL { ?zone rdfs:label ?zoneLabel . }
}
ORDER BY ?zone ?sensor",True,True,False,388,2,388,4,0.0,10733,10819,21552,1.0,1.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_004,8,LLM_5,Which devices monitor the temperature in the building zones?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>

SELECT DISTINCT ?sensor ?sensorLabel ?zone ?zoneLabel
WHERE {
  { 
    # Case 1: Sensor is explicitly typed as a zone air temperature sensor
    ?sensor a brick:Zone_Air_Temperature_Sensor .
    OPTIONAL { ?sensor rdfs:label ?sensorLabel }  
    # Ensure sensor is associated with a building zone by checking it is a point of some zone
    ?zone brick:hasPoint ?sensor .
    OPTIONAL { ?zone rdfs:label ?zoneLabel } 
  } UNION {
    # Case 2: Sensor is not explicitly typed, but it is linked via brick:hasPoint to equipment that is explicitly modeled as a building zone
    ?zone brick:hasPoint ?sensor .
    ?zone a brick:Room .
    OPTIONAL { ?sensor rdfs:label ?sensorLabel } 
    OPTIONAL { ?zone rdfs:label ?zoneLabel } 
  }
}
ORDER BY ?sensor",True,True,False,388,2,388,4,0.0,11629,13130,24759,1.0,1.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_005,1,human,Which zone air temperature sensors and setpoints are linked to the same equipment?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?sp ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor . ?sp rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint . ?equip brick:hasPoint ?sp . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT ?equipment ?sensor ?setpoint
WHERE {
  ?equipment brick:hasPoint ?sensor .
  ?equipment brick:hasPoint ?setpoint .
  ?sensor a brick:Zone_Air_Temperature_Sensor .
  ?setpoint a brick:Zone_Air_Temperature_Setpoint .
}",True,True,False,205,3,205,3,0.0,3869,2252,6121,1.0,1.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_005,2,human,Find all connected pairs of Zone Air Temperature Sensors and Setpoints,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?sp ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor . ?sp rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint . ?equip brick:hasPoint ?sp . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT DISTINCT ?sensor ?setpoint
WHERE {
  # Find an equipment that has both a sensor and a setpoint as points
  ?equip brick:hasPoint ?sensor .
  ?equip brick:hasPoint ?setpoint .
  
  # Ensure that the first point is a Zone Air Temperature Sensor
  ?sensor a brick:Zone_Air_Temperature_Sensor .
  
  # Ensure that the second point is a Zone Air Temperature Setpoint
  ?setpoint a brick:Zone_Air_Temperature_Setpoint .
}",True,True,False,205,3,205,2,0.0,3529,4835,8364,0.0,0.0,True,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_005,3,LLM_1,"Which equipment has a zone air temperature sensor and a zone air temperature setpoint, and what are the names of those sensor and setpoint points?",openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?sp ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor . ?sp rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint . ?equip brick:hasPoint ?sp . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?equipment ?sensorName ?setpointName
WHERE {
  ?equipment brick:hasPoint ?sensor .
  ?sensor a brick:Zone_Air_Temperature_Sensor ;
          rdfs:label ?sensorName .

  ?equipment brick:hasPoint ?setpoint .
  ?setpoint a brick:Zone_Air_Temperature_Setpoint ;
            rdfs:label ?setpointName .
}
",True,True,False,205,3,205,3,0.0,3660,2970,6630,0.3333333333333333,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_005,4,LLM_2,"For each HVAC unit, what temperature sensor is installed and what setpoint does it have for controlling room air temperature?",openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?sp ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor . ?sp rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint . ?equip brick:hasPoint ?sp . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?hvac ?tempSensor ?tempSetpoint
WHERE {
  # Explicitly identify HVAC units
  ?hvac a brick:HVAC .

  # Retrieve the Room Air Temperature Sensor associated with the HVAC unit.
  # The sensor may be attached directly (via brick:hasPoint) or indirectly (via a component using brick:hasPart).
  ?hvac (brick:hasPoint|brick:hasPart/brick:hasPoint) ?tempSensor .
  ?tempSensor a brick:Room_Air_Temperature_Sensor .

  # Retrieve the Room Air Temperature Setpoint if available using the same relationship path
  OPTIONAL {
    ?hvac (brick:hasPoint|brick:hasPart/brick:hasPoint) ?tempSetpoint .
    ?tempSetpoint a brick:Room_Air_Temperature_Setpoint .
  }
}
ORDER BY ?hvac",True,False,False,205,3,0,3,0.0,10372,8247,18619,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_005,5,LLM_3,What measurement and target temperature points are associated with each device that manages zone air temperature?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?sp ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor . ?sp rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint . ?equip brick:hasPoint ?sp . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?device (GROUP_CONCAT(DISTINCT ?measurement;separator="", "") AS ?measurementPoints) (GROUP_CONCAT(DISTINCT ?target;separator="", "") AS ?targetPoints)
WHERE {
  # Identify devices that manage zone air temperature via a sensor measurement
  ?device brick:hasPoint ?measurement .
  ?measurement a brick:Zone_Air_Temperature_Sensor .

  # Optionally, get an associated target temperature point (setpoint) for the same device
  OPTIONAL {
    ?device brick:hasPoint ?target .
    ?target a brick:Zone_Air_Temperature_Setpoint .
  }
}
GROUP BY ?device",True,True,False,205,3,385,3,0.0,3589,4367,7956,0.8142481591767066,0.6949152542372882,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_005,6,LLM_4,"Which devices control the air temperature in building zones, and what sensors and desired values do they use?",openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?sp ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor . ?sp rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint . ?equip brick:hasPoint ?sp . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?controller ?controllerLabel (SAMPLE(?sensor) AS ?sensor) (SAMPLE(?sensorLabel) AS ?sensorLabel) (SAMPLE(?dv) AS ?desiredValue)
WHERE {
  ?controller a ?ctype .
  FILTER(?ctype IN (brick:Zone_Air_Temperature_Setpoint, brick:Damper_Position_Setpoint, brick:Heating_Valve_Output))
  OPTIONAL { ?controller rdfs:label ?controllerLabel . }
  OPTIONAL { ?controller brick:hasDesiredValue ?dv . }
  
  OPTIONAL {
    ?sensor a brick:Zone_Air_Temperature_Sensor .
    OPTIONAL { ?sensor rdfs:label ?sensorLabel . }
    
    # Extract a heuristic zone identifier (e.g. AHUxx) from the controller and sensor IRIs
    BIND(REPLACE(STR(?controller), "".*(AHU[0-9]+).*"", ""$1"") AS ?zoneID) .
    BIND(REPLACE(STR(?sensor), "".*(AHU[0-9]+).*"", ""$1"") AS ?sensorZoneID) .
    
    # Only match when both zone IDs are non-empty and equal
    FILTER(strlen(?zoneID) > 0 && strlen(?sensorZoneID) > 0 && ?zoneID = ?sensorZoneID)
  }
}
GROUP BY ?controller ?controllerLabel",True,True,False,205,3,315,5,0.0,14109,10568,24677,0.4289295473446596,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_005,7,LLM_5,How are room temperature measurements and their target values defined across the building’s equipment?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?sp ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Sensor . ?sp rdf:type/rdfs:subClassOf* brick:Zone_Air_Temperature_Setpoint . ?equip brick:hasPoint ?sp . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs:  <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ns2:   <http://buildsys.org/ontologies/bldg11#>

# This query retrieves room temperature measurement points (sensors) and target setpoints,
# and shows how they are integrated into building equipment via the brick:hasPoint relationship.

SELECT DISTINCT ?equipment ?equipmentLabel ?point ?pointLabel ?pointType
WHERE {
  {
    # For room temperature sensors
    ?equipment brick:hasPoint ?point .
    ?point a brick:Zone_Air_Temperature_Sensor .
    BIND(""Room Temperature Measurement"" AS ?pointType) .
    OPTIONAL { ?point rdfs:label ?pointLabel . }
    OPTIONAL { ?equipment rdfs:label ?equipmentLabel . }
  } UNION {
    # For room temperature setpoints
    ?equipment brick:hasPoint ?point .
    ?point a brick:Zone_Air_Temperature_Setpoint .
    BIND(""Room Temperature Target Value"" AS ?pointType) .
    OPTIONAL { ?point rdfs:label ?pointLabel . }
    OPTIONAL { ?equipment rdfs:label ?equipmentLabel . }
  }
}
ORDER BY ?equipment ?pointType ?point",True,True,False,205,3,610,5,0.0,8086,5411,13497,0.3963509576348092,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_006,1,human,Find all sensor and setpoints connected to the same equipment,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?sp ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Sensor . ?sp rdf:type/rdfs:subClassOf* brick:Setpoint . ?equip brick:hasPoint ?sp . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query finds equipment that have both a sensor and a setpoint connected via the brick:hasPoint relation.
# Instead of filtering on string matching, we use a property path on rdfs:subClassOf to ensure that the sensor is a subclass of brick:Sensor and the setpoint is a subclass of brick:Setpoint.
# The results are grouped by equipment so that all sensors and setpoints attached to the same equipment appear aggregated in separate lists.

SELECT ?equipment (GROUP_CONCAT(DISTINCT ?sensor; separator="", "") AS ?sensors) (GROUP_CONCAT(DISTINCT ?setpoint; separator="", "") AS ?setpoints)
WHERE {
  ?equipment brick:hasPoint ?sensor .
  ?equipment brick:hasPoint ?setpoint .
  
  # Explicitly require that ?sensor is a kind of Sensor
  ?sensor rdf:type ?sType .
  ?sType rdfs:subClassOf* brick:Sensor .
  
  # Explicitly require that ?setpoint is a kind of Setpoint
  ?setpoint rdf:type ?spType .
  ?spType rdfs:subClassOf* brick:Setpoint .
}
GROUP BY ?equipment",True,True,False,8980,3,215,3,0.0,9253,5933,15186,0.7893044433977077,0.0250135943447525,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_006,2,human,Find all related sensor and setpoints pairs,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?sp ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Sensor . ?sp rdf:type/rdfs:subClassOf* brick:Setpoint . ?equip brick:hasPoint ?sp . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>

# In Brick Schema the association between points and the equipment (or other entities) to which they belong
# is explicitly modeled using properties such as brick:hasPoint (and its inverse, brick:isPointOf).
# A more semantically robust way to identify related sensor–setpoint pairs is to require that they
# are both points on the same equipment. This avoids relying solely on string patterns in IRIs or class names.

SELECT DISTINCT ?sensor ?setpoint
WHERE {
  ?equipment brick:hasPoint ?sensor .
  ?equipment brick:hasPoint ?setpoint .

  # Assert that ?sensor is an instance of a Brick sensor type
  ?sensor a ?sensorClass .
  FILTER(regex(str(?sensorClass), ""Sensor$"")) .

  # Assert that ?setpoint is an instance of a Brick setpoint type
  ?setpoint a ?setpointClass .
  FILTER(regex(str(?setpointClass), ""Setpoint$"")) .

  # Optionally, additional domain-specific constraints can be added here if further disambiguation is needed.
}
",True,True,False,8980,3,559,2,0.0,13689,16845,30534,0.0,0.0,True,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_006,3,human,Which brick sensors and brick setpoints are connected to the same equipment?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?sp ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Sensor . ?sp rdf:type/rdfs:subClassOf* brick:Setpoint . ?equip brick:hasPoint ?sp . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?equipment ?sensor ?setpoint
WHERE {
  ?equipment brick:hasPoint ?sensor .
  ?equipment brick:hasPoint ?setpoint .
  
  # Use explicit type checks rather than regex matching
  ?sensor a brick:Sensor .
  ?setpoint a brick:Setpoint .
}
ORDER BY ?equipment ?sensor ?setpoint",True,True,False,8980,3,519,3,0.0,8128,4211,12339,1.0,0.1092746604905779,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_006,4,LLM_1,"For each piece of equipment that has points, what sensor and what setpoint are linked to it via the has point relationship?",openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?sp ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Sensor . ?sp rdf:type/rdfs:subClassOf* brick:Setpoint . ?equip brick:hasPoint ?sp . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# For each equipment (any subject that has a brick:hasPoint relation), this query gathers its linked sensor points and setpoint points by checking for explicit type membership in candidate classes.
# We assume that sensor points are instances of one or more of the following classes, and similarly for setpoint points.

SELECT ?equipment
       (GROUP_CONCAT(DISTINCT ?sensorPoint; separator="", "") AS ?sensors)
       (GROUP_CONCAT(DISTINCT ?setpointPoint; separator="", "") AS ?setpoints)
WHERE {
  ?equipment brick:hasPoint ?point .

  # Identify sensor points by explicit type membership
  OPTIONAL {
    ?point a ?sensorType .
    VALUES ?sensorType {
      brick:Zone_Air_Temperature_Sensor
      brick:Supply_Air_Flow_Sensor
      brick:Air_Pressure_Sensor
      brick:Entering_Hot_Water_Temperature_Sensor
    }
    BIND(STR(?point) AS ?sensorPoint)
  }

  # Identify setpoint points by explicit type membership
  OPTIONAL {
    ?point a ?setpointType .
    VALUES ?setpointType {
      brick:Zone_Air_Temperature_Setpoint
      brick:Entering_Water_Differential_Pressure_Deadband_Setpoint
      brick:Exhaust_Air_Static_Pressure_Setpoint
      brick:Leaving_Medium_Temperature_Hot_Water_Temperature_Load_Shed_Setpoint
    }
    BIND(STR(?point) AS ?setpointPoint)
  }
}
GROUP BY ?equipment
ORDER BY ?equipment",True,True,False,8980,3,499,3,0.0,7908,8315,16223,0.6330528561021913,0.0242641628863804,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_006,5,LLM_2,"For every device, which measurement instrument and which control value does it include?",openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?sp ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Sensor . ?sp rdf:type/rdfs:subClassOf* brick:Setpoint . ?equip brick:hasPoint ?sp . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query returns one row per device with aggregated measurement instrument(s) and control value(s).

SELECT ?device ?measurementInstruments ?controlValues
WHERE {
  # First, select devices. In this example we treat any subject that has a point and is not a Room as a device
  {
    SELECT DISTINCT ?device
    WHERE {
      ?device brick:hasPoint ?p .
      FILTER NOT EXISTS { ?device a brick:Room } .
    }
  }
  
  # For each device, aggregate (as a comma-separated list) the associated measurement instruments.
  OPTIONAL {
    {
      SELECT ?device (GROUP_CONCAT(DISTINCT ?mi;separator="", "") AS ?measurementInstruments)
      WHERE {
         ?device brick:hasPoint ?mi .
         ?mi a ?miType .
         # Extend the list as needed for types that function as measurement instruments
         FILTER (?miType IN (brick:Zone_Air_Temperature_Sensor, brick:Supply_Air_Flow_Sensor, brick:Air_Pressure_Sensor))
      }
      GROUP BY ?device
    }
  }
  
  # Similarly, aggregate the associated control values for each device.
  OPTIONAL {
    {
      SELECT ?device (GROUP_CONCAT(DISTINCT ?cv;separator="", "") AS ?controlValues)
      WHERE {
         ?device brick:hasPoint ?cv .
         ?cv a ?cvType .
         # Extend the list as needed for types that function as control values
         FILTER (?cvType IN (brick:Zone_Air_Temperature_Setpoint, brick:Damper_Position_Setpoint))
      }
      GROUP BY ?device
    }
  }
}
ORDER BY ?device",True,True,False,8980,3,499,3,0.0,13109,13092,26201,0.0,0.0,True,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_006,6,LLM_3,Which assets combine a monitoring device with an adjustable target value?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?sp ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Sensor . ?sp rdf:type/rdfs:subClassOf* brick:Setpoint . ?equip brick:hasPoint ?sp . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT DISTINCT ?asset
WHERE {
  ?asset brick:hasPoint ?point1 .
  ?asset brick:hasPoint ?point2 .
  ?point1 a ?sensorType .
  ?point2 a ?setpointType .
  FILTER(regex(str(?sensorType), ""Sensor$"")) .
  FILTER(regex(str(?setpointType), ""Setpoint$""))
}",True,True,False,8980,3,216,1,0.0,2822,3595,6417,0.0,0.0,True,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_006,7,LLM_4,What equipment units offer both sensing functionality and settable thresholds?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?sp ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Sensor . ?sp rdf:type/rdfs:subClassOf* brick:Setpoint . ?equip brick:hasPoint ?sp . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?equipment
WHERE {
  ?equipment brick:hasPoint ?sensorPoint .
  ?sensorPoint a ?sensorType .
  ?sensorType rdfs:subClassOf* brick:Sensor .

  ?equipment brick:hasPoint ?setpointPoint .
  ?setpointPoint a ?setpointType .
  ?setpointType rdfs:subClassOf* brick:Setpoint .
}
",True,True,False,8980,3,215,1,0.0,6036,4194,10230,0.0,0.0,True,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_006,8,LLM_5,Which devices in the system support both readings and configuration settings?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?sensor ?sp ?equip WHERE { ?sensor rdf:type/rdfs:subClassOf* brick:Sensor . ?sp rdf:type/rdfs:subClassOf* brick:Setpoint . ?equip brick:hasPoint ?sp . ?equip brick:hasPoint ?sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?device
WHERE {
  # Ensure the device supports a reading point that is a kind of Sensor
  ?device brick:hasPoint ?reading .
  ?reading a ?readingType .
  ?readingType rdfs:subClassOf* brick:Sensor .
  
  # Ensure the device supports a configuration point that is a kind of Setpoint or Command
  ?device brick:hasPoint ?config .
  ?config a ?configType .
  {
    ?configType rdfs:subClassOf* brick:Setpoint .
  } UNION {
    ?configType rdfs:subClassOf* brick:Command .
  }
}
",True,True,False,8980,3,224,1,0.0,6132,6112,12244,0.0,0.0,True,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_007,1,human,Which AHUs have both a Cooling Valve Command and a Heating Command point?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?cooling_point ?heating_point ?ahu WHERE { ?ahu rdf:type/rdfs:subClassOf* brick:Air_Handling_Unit . ?cooling_point rdf:type/rdfs:subClassOf* brick:Cooling_Command . ?heating_point rdf:type/rdfs:subClassOf* brick:Heating_Command . ?ahu brick:hasPoint ?cooling_point . ?ahu brick:hasPoint ?heating_point . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query identifies AHU equipment that have both a cooling valve command point and a heating command point.
# It leverages Brick relationships by traversing from an AHU (identified either by an explicit type or by its namespace pattern)
# to its associated points via brick:hasPoint. For each point, we check either its explicit Brick type (if available)
# or (as a fallback) match its rdfs:label against known substrings. The query requires that each AHU has at least one
# point that is either typed as brick:Cooling_Valve_Command or has a label containing ""Cooling Valve Command""
# and one point that is either typed as brick:Heating_Command (or brick:Reheat_Valve_Command) or has a label containing ""Heating"".

SELECT DISTINCT ?ahu
WHERE {
  # Identify AHU equipment, either explicitly typed or via its IRI pattern
  ?ahu brick:hasPoint ?point .
  FILTER(STRSTARTS(STR(?ahu), ""http://buildsys.org/ontologies/bldg11#bldg11.AHU.""))

  # Ensure at least one heating command point exists for the AHU
  ?ahu brick:hasPoint ?heatPoint .
  {
    ?heatPoint a brick:Heating_Command .
  } UNION {
    ?heatPoint a brick:Reheat_Valve_Command .
  } UNION {
    ?heatPoint rdfs:label ?hLabel .
    FILTER(CONTAINS(?hLabel, ""Heating""))
  }

  # Ensure at least one cooling valve command point exists for the AHU
  ?ahu brick:hasPoint ?coolPoint .
  {
    ?coolPoint a brick:Cooling_Valve_Command .
  } UNION {
    ?coolPoint rdfs:label ?cLabel .
    FILTER(CONTAINS(?cLabel, ""Cooling Valve Command""))
  }
}
",True,False,False,57,3,0,1,0.0,9966,15311,25277,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_007,2,human,Find all AHUs with heating and cooling command points,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?cooling_point ?heating_point ?ahu WHERE { ?ahu rdf:type/rdfs:subClassOf* brick:Air_Handling_Unit . ?cooling_point rdf:type/rdfs:subClassOf* brick:Cooling_Command . ?heating_point rdf:type/rdfs:subClassOf* brick:Heating_Command . ?ahu brick:hasPoint ?cooling_point . ?ahu brick:hasPoint ?heating_point . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>

# This query finds Air Handling Units (AHUs) that have been explicitly linked to both a heating command point and a
# cooling (or damper) command point via Brick relationships (using brick:hasPoint or its inverse brick:isPointOf).
# It avoids relying on label-based heuristics or regex to associate points with an AHU. In addition, we restrict
# the candidate AHU nodes to those whose IRIs indicate their membership in the AHU group (using the ""bldg11/AHU"" pattern),
# which is common in Brick deployments.

SELECT DISTINCT ?ahu ?heatingPoint ?coolingPoint
WHERE {
  # Traverse explicit relationships linking an equipment entity (?ahu) with its points
  ?ahu (brick:hasPoint|^brick:isPointOf) ?heatingPoint .
  ?ahu (brick:hasPoint|^brick:isPointOf) ?coolingPoint .

  # Use the label of the points to classify their function
  ?heatingPoint rdfs:label ?hLabel .
  ?coolingPoint rdfs:label ?cLabel .

  # Identify the heating command point by looking for 'heating' in its label
  FILTER(CONTAINS(LCASE(?hLabel), ""heating"")) .
  
  # Identify the cooling command point by looking for 'cooling' or 'damper' in its label
  FILTER(CONTAINS(LCASE(?cLabel), ""cooling"") || CONTAINS(LCASE(?cLabel), ""damper"")) .

  # Restrict candidates to AHU equipment by checking the IRI for an AHU pattern. 
  # This filter supports clearer semantics if explicit typing for AHUs is not available in the data.
  FILTER(CONTAINS(STR(?ahu), ""bldg11/AHU""))
}
",True,False,False,57,3,0,3,0.0,13406,17887,31293,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_007,3,human,Which air handler units have both a cooling and heating command?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?cooling_point ?heating_point ?ahu WHERE { ?ahu rdf:type/rdfs:subClassOf* brick:Air_Handling_Unit . ?cooling_point rdf:type/rdfs:subClassOf* brick:Cooling_Command . ?heating_point rdf:type/rdfs:subClassOf* brick:Heating_Command . ?ahu brick:hasPoint ?cooling_point . ?ahu brick:hasPoint ?heating_point . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>

# This query looks for air handler units that are explicitly linked via Brick relationships to both
# a heating command point and a cooling command point. It assumes that the Brick Schema (or an
# extension such as per ASHRAE 223p) defines a class for air handler units (brick:Air_Handler_Unit), and
# that an air handler unit is linked to its command points via the brick:hasPoint property.
# In addition, heating command points are expected to have an explicit type (brick:Heating_Command)
# or, alternatively, have a label that indicates a heating function. Similarly, cooling command points
# are assumed to be of type brick:Cooling_Command or, failing that, be of the type brick:Damper_Position_Setpoint.

SELECT DISTINCT ?ahuUnit
WHERE {
  # Identify air handler units (AHU) explicitly
  ?ahuUnit a brick:Air_Handler_Unit .
  
  # Link the AHU unit to a heating command point either by explicit type or a semantic label
  ?ahuUnit brick:hasPoint ?heatingPoint .
  { ?heatingPoint a brick:Heating_Command . } 
  UNION
  { 
    ?heatingPoint rdfs:label ?heatingLabel .
    FILTER(regex(?heatingLabel, ""Heating"", ""i""))
  }
  
  # Link the AHU unit to a cooling command point either by explicit type or via a known cooling point class
  ?ahuUnit brick:hasPoint ?coolingPoint .
  { ?coolingPoint a brick:Cooling_Command . } 
  UNION
  { ?coolingPoint a brick:Damper_Position_Setpoint . }
}
",True,True,False,57,3,10,1,0.0,10805,14913,25718,0.0,0.0,True,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_007,4,human,Is there any simultaneous heating and cooling fault in any of my AHUs?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?cooling_point ?heating_point ?ahu WHERE { ?ahu rdf:type/rdfs:subClassOf* brick:Air_Handling_Unit . ?cooling_point rdf:type/rdfs:subClassOf* brick:Cooling_Command . ?heating_point rdf:type/rdfs:subClassOf* brick:Heating_Command . ?ahu brick:hasPoint ?cooling_point . ?ahu brick:hasPoint ?heating_point . }","PREFIX brick: <https://brickschema.org/schema/Brick#>

ASK {
  ?ahu a brick:AirHandlingUnit .
  ?ahu brick:hasFault ?fault .
  ?fault a brick:Simultaneous_Heating_Cooling_Fault .
}",True,False,False,57,3,0,0,0.0,5224,4507,9731,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_007,5,LLM_1,"Which air handling unit has point a cooling command and has point a heating command, and what are those points?",openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?cooling_point ?heating_point ?ahu WHERE { ?ahu rdf:type/rdfs:subClassOf* brick:Air_Handling_Unit . ?cooling_point rdf:type/rdfs:subClassOf* brick:Cooling_Command . ?heating_point rdf:type/rdfs:subClassOf* brick:Heating_Command . ?ahu brick:hasPoint ?cooling_point . ?ahu brick:hasPoint ?heating_point . }","PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT DISTINCT ?ahu ?coolingCommand ?heatingCommand
WHERE {
  ?ahu a brick:Air_Handling_Unit .
  ?ahu brick:hasPoint ?coolingCommand .
  ?ahu brick:hasPoint ?heatingCommand .
  ?coolingCommand a brick:Cooling_Command .
  ?heatingCommand a brick:Heating_Command .
}
",True,True,False,57,3,19,3,0.0,11143,13439,24582,1.0,0.5,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_007,6,LLM_2,"Which air handling unit provides both a cooling command point and a heating command point, and what are those points?",openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?cooling_point ?heating_point ?ahu WHERE { ?ahu rdf:type/rdfs:subClassOf* brick:Air_Handling_Unit . ?cooling_point rdf:type/rdfs:subClassOf* brick:Cooling_Command . ?heating_point rdf:type/rdfs:subClassOf* brick:Heating_Command . ?ahu brick:hasPoint ?cooling_point . ?ahu brick:hasPoint ?heating_point . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>

SELECT DISTINCT ?ahu ?coolingCommand ?heatingCommand
WHERE {
  # Identify the air handling unit explicitly
  ?ahu a brick:AirHandlingUnit .
  
  # Link the AHU to its command points via the explicit Brick relationship
  ?ahu brick:hasPoint ?heatingCommand, ?coolingCommand .
  
  # Identify the heating command point using a less restrictive type test
  # This pattern matches any instance that is of type brick:Heating_Valve_Output or a subclass thereof
  ?heatingCommand a/rdfs:subClassOf* brick:Heating_Valve_Output .
  
  # Identify the cooling command point using a less restrictive type test
  # This pattern matches any instance that is of type brick:Damper_Position_Setpoint or a subclass thereof
  ?coolingCommand a/rdfs:subClassOf* brick:Damper_Position_Setpoint .
}",True,False,False,57,3,0,3,0.0,10930,14850,25780,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_007,7,LLM_3,"For each air handling unit, list its cooling and heating command points.",openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?cooling_point ?heating_point ?ahu WHERE { ?ahu rdf:type/rdfs:subClassOf* brick:Air_Handling_Unit . ?cooling_point rdf:type/rdfs:subClassOf* brick:Cooling_Command . ?heating_point rdf:type/rdfs:subClassOf* brick:Heating_Command . ?ahu brick:hasPoint ?cooling_point . ?ahu brick:hasPoint ?heating_point . }","PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query gathers air handling unit (AHU) command points by leveraging their rdfs:label values and known Brick point types.
# It uses UNION of two patterns: one for heating command points and one for cooling command points.
# The AHU identifier is extracted from the rdfs:label using a REPLACE function. This is less brittle than scanning the full IRI because
# labels are intended to be human‐readable and typically contain the AHU identifier in a standard form.

SELECT ?ahu
       (GROUP_CONCAT(DISTINCT ?heatingCmd; separator="", "") AS ?heatingCommands)
       (GROUP_CONCAT(DISTINCT ?coolingCmd; separator="", "") AS ?coolingCommands)
WHERE {
  {
    # Heating commands: we look for labels that indicate a heating valve output or reheat command. 
    ?heatingPoint rdfs:label ?label .
    FILTER(regex(?label, ""(Heating Valve Output|Reheat Valve Command)"", ""i"")) .
    # Extract the AHU identifier from the label; e.g. a label like ""bldg11.AHU.AHU08.Heating Valve Output"" yields ""AHU08"".
    BIND(replace(?label, "".*(AHU\\d+).*"", ""$1"") AS ?ahu) .
    BIND(str(?heatingPoint) AS ?heatingCmd) .
  }
  UNION
  {
    # Cooling commands: here we look for commands that control damper positions. 
    ?coolingPoint rdfs:label ?label .
    FILTER(regex(?label, ""Damper Command"", ""i"")) .
    BIND(replace(?label, "".*(AHU\\d+).*"", ""$1"") AS ?ahu) .
    BIND(str(?coolingPoint) AS ?coolingCmd) .
  }
  # This ensures that only command points with an identifiable AHU are included.
  FILTER(?ahu != """")
}
GROUP BY ?ahu
ORDER BY ?ahu",True,True,False,57,3,11,3,0.0,25820,15418,41238,0.1904761904761904,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_007,8,LLM_4,Which control points handle cooling and heating in air handling units?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?cooling_point ?heating_point ?ahu WHERE { ?ahu rdf:type/rdfs:subClassOf* brick:Air_Handling_Unit . ?cooling_point rdf:type/rdfs:subClassOf* brick:Cooling_Command . ?heating_point rdf:type/rdfs:subClassOf* brick:Heating_Command . ?ahu brick:hasPoint ?cooling_point . ?ahu brick:hasPoint ?heating_point . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?ahu ?controlPoint ?label
WHERE {
  ?ahu a brick:AirHandlingUnit .
  ?ahu brick:hasPoint ?controlPoint .
  ?controlPoint rdfs:label ?label .
  ?controlPoint a ?cpType .

  { ?cpType (rdfs:subClassOf)* brick:Cooling_ControlPoint. } UNION
  { ?cpType (rdfs:subClassOf)* brick:Heating_ControlPoint. }
}
",True,False,False,57,3,0,3,0.0,9545,11883,21428,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_007,9,LLM_5,How can I find the temperature control setpoints for the air handling equipment?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?cooling_point ?heating_point ?ahu WHERE { ?ahu rdf:type/rdfs:subClassOf* brick:Air_Handling_Unit . ?cooling_point rdf:type/rdfs:subClassOf* brick:Cooling_Command . ?heating_point rdf:type/rdfs:subClassOf* brick:Heating_Command . ?ahu brick:hasPoint ?cooling_point . ?ahu brick:hasPoint ?heating_point . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?ahu ?setpoint ?setpointLabel
WHERE {
  # Identify air handling equipment using subclass reasoning. In many datasets, AHUs are typed as brick:AHU or as subclasses thereof.
  ?ahu a/rdfs:subClassOf* brick:AHU .
  
  # Traverse the relationship to find related control points
  ?ahu brick:hasPoint ?setpoint .
  
  # Select temperature-related setpoints. Frequently, setpoints may be defined as brick:Cooling_Temperature_Setpoint,
  # brick:Heating_Temperature_Setpoint, or generically as brick:Temperature_Setpoint. The use of rdfs:subClassOf* would allow
  # capturing further subclass relationships if needed.
  ?setpoint a ?spType .
  VALUES ?spType { 
    brick:Cooling_Temperature_Setpoint
    brick:Heating_Temperature_Setpoint
    brick:Temperature_Setpoint
  }
  
  OPTIONAL { ?setpoint rdfs:label ?setpointLabel . }
}
",True,True,False,57,3,10,3,0.0,11130,7995,19125,0.3333333333333333,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_008,1,human,Find all Building electrical meters and outside air temperature sensors in my building,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?meter ?oat WHERE { ?meter rdf:type/rdfs:subClassOf* brick:Building_Electrical_Meter . ?oat rdf:type/rdfs:subClassOf* brick:Outside_Air_Temperature_Sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# In this query we assume that devices in my building are located in one of a known set of rooms
# (ns2:RM0609_room, ns2:RM2410A_room, ns2:RM2413A_room, ns2:RM4216_room). We also assume that building electrical meters
# are classified as brick:Electric_Meter and outside air temperature sensors are classified as brick:Outside_Air_Temperature_Sensor.

SELECT ?device ?deviceType ?label ?room
WHERE {
  {
    # Query for building electrical meters that are explicitly located in a room belonging to my building
    ?device a brick:Electric_Meter .
    ?device brick:hasLocation ?room .
    ?room a brick:Room .
    FILTER(?room IN (ns2:RM0609_room, ns2:RM2410A_room, ns2:RM2413A_room, ns2:RM4216_room))
    BIND(""Building Electrical Meter"" AS ?deviceType)
  }
  UNION
  {
    # Query for outside air temperature sensors that are explicitly located in a room belonging to my building
    ?device a brick:Outside_Air_Temperature_Sensor .
    ?device brick:hasLocation ?room .
    ?room a brick:Room .
    FILTER(?room IN (ns2:RM0609_room, ns2:RM2410A_room, ns2:RM2413A_room, ns2:RM4216_room))
    BIND(""Outside Air Temperature Sensor"" AS ?deviceType)
  }
  OPTIONAL { ?device rdfs:label ?label . }
}
",True,False,False,8,2,0,4,0.0,10078,10908,20986,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_008,2,human,Which electric meters and OAT sensors are present in the building system?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?meter ?oat WHERE { ?meter rdf:type/rdfs:subClassOf* brick:Building_Electrical_Meter . ?oat rdf:type/rdfs:subClassOf* brick:Outside_Air_Temperature_Sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs:  <http://www.w3.org/2000/01/rdf-schema#>

# The query returns devices that are either electric meters or outside‐air temperature (OAT) sensors
SELECT ?device ?deviceLabel ?deviceType
WHERE {
  {
    # Electric meters: we assume that electric meters are represented as instances of brick:Electric_Meter
    ?device a brick:Electric_Meter .
    BIND(""Electric Meter"" AS ?deviceType)
    OPTIONAL { ?device rdfs:label ?deviceLabel . }
  } UNION {
    # Outside air temperature (OAT) sensors: we assume they are instances of brick:Outside_Air_Temperature_Sensor
    ?device a brick:Outside_Air_Temperature_Sensor .
    BIND(""OAT Sensor"" AS ?deviceType)
    OPTIONAL { ?device rdfs:label ?deviceLabel . }
  }
}
ORDER BY ?deviceType ?device
",True,True,False,8,2,9,3,0.0,3505,4073,7578,0.4705882352941176,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_008,3,human,Which meters and weather sensors are present in the building system?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?meter ?oat WHERE { ?meter rdf:type/rdfs:subClassOf* brick:Building_Electrical_Meter . ?oat rdf:type/rdfs:subClassOf* brick:Outside_Air_Temperature_Sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query returns devices in the building system that function as meters or weather sensors
SELECT DISTINCT ?device ?deviceType ?label WHERE {
  {
    # Meters: any device whose type is a subclass of brick:Meter
    ?device a ?meterType .
    ?meterType rdfs:subClassOf* brick:Meter .
    BIND(""Meter"" AS ?deviceType)
  } UNION {
    # Weather Sensors: explicitly include several outdoor sensor types
    { ?device a brick:Outdoor_Air_Temperature_Sensor .
      BIND(""Outdoor Air Temperature Sensor"" AS ?deviceType)
    } UNION
    { ?device a brick:Outdoor_Air_Dewpoint_Sensor .
      BIND(""Outdoor Air Dewpoint Sensor"" AS ?deviceType)
    } UNION
    { ?device a brick:Outdoor_Humidity_Sensor .
      BIND(""Outdoor Humidity Sensor"" AS ?deviceType)
    }
  }
  
  # Scope the query to devices that are part of the building system
  # We introduce a loose criterion: either the device is explicitly located in a Room (typical building element)
  # or its URI/label contains an indication of the building system (e.g. 'bldg11'). Adjust as needed.
  FILTER (
      EXISTS { ?device brick:hasLocation ?loc . ?loc a brick:Room } 
      || CONTAINS(STR(?device), ""bldg11"") 
      || EXISTS { ?device rdfs:label ?lab . FILTER(CONTAINS(?lab, ""bldg11"")) }
  )
  
  OPTIONAL { ?device rdfs:label ?label . }
}
",True,True,False,8,2,1,3,0.0,9200,10682,19882,0.5,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_008,4,human,How can I compare the weather with electricity consumption?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?meter ?oat WHERE { ?meter rdf:type/rdfs:subClassOf* brick:Building_Electrical_Meter . ?oat rdf:type/rdfs:subClassOf* brick:Outside_Air_Temperature_Sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# In this query we compare weather data with electricity consumption by aggregating measurement values
# over time windows. Instead of joining on an exact timestamp, the query creates a time bucket (e.g., hour)
# from the measurement timestamps. It then computes the average value for both sensor types in each time window.

SELECT ?timeBucket ?avg_weather ?avg_electricity
WHERE {
  {
    SELECT (CONCAT(SUBSTR(STR(?timestamp),1,13), "":00:00"") AS ?timeBucket) (AVG(?weather_value) AS ?avg_weather)
    WHERE {
      # Identify weather-related sensors by an indicator property. Here we assume sensors with a Temperature tag
      ?weatherSensor brick:hasAssociatedTag tag:Temperature .
      ?weatherSensor brick:hasPoint ?weatherPoint .
      ?weatherPoint brick:hasValue ?weather_value .
      ?weatherPoint brick:hasTimestamp ?timestamp .
    }
    GROUP BY CONCAT(SUBSTR(STR(?timestamp),1,13), "":00:00"")
  }
  {
    SELECT (CONCAT(SUBSTR(STR(?timestamp2),1,13), "":00:00"") AS ?timeBucket) (AVG(?electricity_value) AS ?avg_electricity)
    WHERE {
      # Identify electricity consumption sensors by an indicator property. Here we assume sensors with a Current tag
      ?electricitySensor brick:hasAssociatedTag tag:Current .
      ?electricitySensor brick:hasPoint ?electricityPoint .
      ?electricityPoint brick:hasValue ?electricity_value .
      ?electricityPoint brick:hasTimestamp ?timestamp2 .
    }
    GROUP BY CONCAT(SUBSTR(STR(?timestamp2),1,13), "":00:00"")
  }
}
ORDER BY ?timeBucket",False,False,False,8,2,0,0,0.0,10636,7783,18419,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_008,5,LLM_1,What are the building electrical meters and what are the outside air temperature sensors?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?meter ?oat WHERE { ?meter rdf:type/rdfs:subClassOf* brick:Building_Electrical_Meter . ?oat rdf:type/rdfs:subClassOf* brick:Outside_Air_Temperature_Sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query returns two kinds of devices: building electrical meters and outside air temperature sensors.
# It uses a UNION to pick instances of the two respective classes. (If no instances are present, the result set will be empty for that branch.)

SELECT ?device ?category WHERE {
  {
    ?device a brick:Building_Electrical_Meter .
    BIND(""Building Electrical Meter"" AS ?category)
  } UNION {
    ?device a brick:Outside_Air_Temperature_Sensor .
    BIND(""Outside Air Temperature Sensor"" AS ?category)
  }
}
",True,True,False,8,2,9,2,0.0,3145,4959,8104,0.4705882352941176,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_008,6,LLM_2,Which devices serve as building power meters and which ones measure outside air temperature?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?meter ?oat WHERE { ?meter rdf:type/rdfs:subClassOf* brick:Building_Electrical_Meter . ?oat rdf:type/rdfs:subClassOf* brick:Outside_Air_Temperature_Sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>

SELECT ?device ?role WHERE {
  { 
    ?device a brick:Building_Electrical_Meter .
    BIND(""Building Power Meter"" AS ?role)
  } UNION {
    ?device a brick:Outside_Air_Temperature_Sensor .
    BIND(""Outside Air Temperature Sensor"" AS ?role)
  }
}
",True,True,False,8,2,9,2,0.0,5991,5119,11110,0.4705882352941176,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_008,7,LLM_3,Which electricity meters in the building and which outdoor temperature sensors are available?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?meter ?oat WHERE { ?meter rdf:type/rdfs:subClassOf* brick:Building_Electrical_Meter . ?oat rdf:type/rdfs:subClassOf* brick:Outside_Air_Temperature_Sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>

# This query retrieves electricity meters and outdoor temperature sensors that are part of the building
# by ensuring that each component is associated (via brick:hasLocation) with a room (brick:Room),
# which is assumed to be part of the building. Note that brick:Electric_Meter and brick:Outside_Air_Temperature_Sensor
# are used directly, which should match the intended semantics in Brick.

SELECT DISTINCT ?component ?componentType ?label
WHERE {
  {
    ?component a brick:Electric_Meter .
    # ensuring component is in the building by linking to a known location (room)
    ?component brick:hasLocation ?room .
    ?room a brick:Room .
    OPTIONAL { ?component rdfs:label ?label . }
    BIND(""Electricity Meter"" AS ?componentType) 
  } UNION {
    ?component a brick:Outside_Air_Temperature_Sensor .
    # ensure this sensor is part of the building spatially
    ?component brick:hasLocation ?room .
    ?room a brick:Room .
    OPTIONAL { ?component rdfs:label ?label . }
    BIND(""Outdoor Temperature Sensor"" AS ?componentType) 
  }
}
ORDER BY ?componentType ?label",True,False,False,8,2,0,3,0.0,10185,10984,21169,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_008,8,LLM_4,List all electricity usage meters alongside the devices that record outside air temperature.,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?meter ?oat WHERE { ?meter rdf:type/rdfs:subClassOf* brick:Building_Electrical_Meter . ?oat rdf:type/rdfs:subClassOf* brick:Outside_Air_Temperature_Sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?meter ?sensor
WHERE {
  # Identify electricity usage meters using the canonical class name
  ?meter a brick:Electric_Meter .
  
  # Assume meters are associated with a building or zone via brick:isLocatedIn
  ?meter brick:isLocatedIn ?loc .
  
  # Identify sensors that record outside air temperature. Some Brick implementations type these sensors directly using one of two candidate classes.
  { ?sensor a brick:Outdoor_Air_Temperature_Sensor . }
  UNION
  { ?sensor a brick:Outside_Air_Temperature_Sensor . }
  
  # Associate the meter and sensor via their common location (which could be a building, zone, or room)
  ?sensor brick:isLocatedIn ?loc .
}",True,False,False,8,2,0,2,0.0,8484,11413,19897,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_008,9,LLM_5,What devices monitor electricity consumption and outdoor temperature?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?meter ?oat WHERE { ?meter rdf:type/rdfs:subClassOf* brick:Building_Electrical_Meter . ?oat rdf:type/rdfs:subClassOf* brick:Outside_Air_Temperature_Sensor . }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?device ?label
WHERE {
  { ?device a ?type .
    ?type rdfs:subClassOf* brick:Electric_Meter .
    OPTIONAL { ?device rdfs:label ?label . } 
  }
  UNION
  { ?device a ?type .
    ?type rdfs:subClassOf* brick:Outdoor_Air_Temperature_Sensor .
    OPTIONAL { ?device rdfs:label ?label . } 
  }
}
",True,True,False,8,2,1,2,0.0,8391,5765,14156,0.0,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_009,1,human,Which temperature sensors are connected to VAVs that serve HVAC zones?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?temp_sensor ?vav ?zone WHERE { ?vav rdf:type/rdfs:subClassOf* brick:VAV . ?vav brick:hasPoint ?temp_sensor . ?temp_sensor rdf:type/rdfs:subClassOf* brick:Temperature_Sensor . ?vav brick:feeds+ ?zone . ?zone rdf:type brick:HVAC_Zone }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?sensor
WHERE {
  # Identify VAV equipment
  ?vav a brick:VAV .

  # Ensure the VAV serves an HVAC zone
  ?vav brick:serves ?zone .
  ?zone a brick:HVAC_Zone .

  # Retrieve sensors from the VAV via either brick:hasPoint or brick:hasSensor relation
  ?vav (brick:hasPoint|brick:hasSensor) ?sensor .

  # Ensure the sensor is of type Temperature_Sensor (or a subclass thereof using rdfs:subClassOf*)
  ?sensor rdf:type/rdfs:subClassOf* brick:Temperature_Sensor .
}
",True,False,False,3006,3,0,1,0.0,9434,9580,19014,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_009,2,human,List all temperature sensors and the VAVs and zones they are part of.,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?temp_sensor ?vav ?zone WHERE { ?vav rdf:type/rdfs:subClassOf* brick:VAV . ?vav brick:hasPoint ?temp_sensor . ?temp_sensor rdf:type/rdfs:subClassOf* brick:Temperature_Sensor . ?vav brick:feeds+ ?zone . ?zone rdf:type brick:HVAC_Zone }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?sensor ?vav ?zone
WHERE {
  # Identify temperature sensors using a generic pattern: assume all temperature sensor types are subclasses of brick:Temperature_Sensor
  ?sensor a ?sensorType .
  ?sensorType rdfs:subClassOf* brick:Temperature_Sensor .
  
  # Ensure that the sensor is attached to equipment (VAV) through an explicit relationship
  {
    ?vav brick:hasPoint ?sensor .
  } UNION {
    ?sensor brick:isPointOf ?vav .
  }
  
  # Explicitly require that the equipment is of type VAV
  ?vav a brick:VAV .
  
  # Traverse from the VAV to its associated zone using the proper relationship
  ?vav brick:isPartOf ?zone .
}
",True,False,False,3006,3,0,3,0.0,11361,12798,24159,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_009,3,human,List the rooms and their hvac equipment that contains a temperature sensor,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?temp_sensor ?vav ?zone WHERE { ?vav rdf:type/rdfs:subClassOf* brick:VAV . ?vav brick:hasPoint ?temp_sensor . ?temp_sensor rdf:type/rdfs:subClassOf* brick:Temperature_Sensor . ?vav brick:feeds+ ?zone . ?zone rdf:type brick:HVAC_Zone }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?room ?equipment
WHERE {
  ?room a brick:Room .
  
  # Link equipment to room using either property that might be used
  { ?equipment brick:hasLocation ?room . } UNION { ?equipment brick:locatedIn ?room . }
  
  # Constrain the equipment to common HVAC types (using a union of types that may be used in your Brick instance)
  { ?equipment a brick:HVAC_Equipment . } UNION
  { ?equipment a brick:Damper_Position_Setpoint . } UNION
  { ?equipment a brick:Mixing_Valve . } UNION
  { ?equipment a brick:Heating_Valve_Output . }
  
  # Ensure the equipment has an associated sensor that is a temperature sensor
  ?equipment brick:hasPoint ?sensor .
  {
    { ?sensor a brick:Temperature_Sensor . } UNION
    { ?sensor a brick:Zone_Air_Temperature_Sensor . } UNION
    { ?sensor a brick:Air_Temperature_Sensor . }
  }
}",True,False,False,3006,3,0,2,0.0,8617,12532,21149,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_009,4,human,How can I learn the rooms and their temperature?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?temp_sensor ?vav ?zone WHERE { ?vav rdf:type/rdfs:subClassOf* brick:VAV . ?vav brick:hasPoint ?temp_sensor . ?temp_sensor rdf:type/rdfs:subClassOf* brick:Temperature_Sensor . ?vav brick:feeds+ ?zone . ?zone rdf:type brick:HVAC_Zone }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?room ?tempSensor ?tempLabel ?tempReading
WHERE {
  ?room a brick:Room .
  ?room brick:hasPoint ?tempSensor .
  
  # Ensure that the sensor is a temperature sensor, accepting either a general type or a more specialized one
  { ?tempSensor a brick:Temperature_Sensor }
  UNION
  { ?tempSensor a brick:Zone_Air_Temperature_Sensor }
  
  OPTIONAL { ?tempSensor rdfs:label ?tempLabel } .
  
  # Attempt to retrieve the measurement value by checking the common properties
  OPTIONAL {
    { ?tempSensor brick:hasValue ?tempReading } 
    UNION
    { ?tempSensor rdf:value ?tempReading } 
  }
}
ORDER BY ?room",True,False,False,3006,3,0,4,0.0,8885,9755,18640,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_009,5,LLM_1,"Which VAV units have a point temperature sensor and feed an HVAC zone, and what are the corresponding sensor and zone for each unit?",openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?temp_sensor ?vav ?zone WHERE { ?vav rdf:type/rdfs:subClassOf* brick:VAV . ?vav brick:hasPoint ?temp_sensor . ?temp_sensor rdf:type/rdfs:subClassOf* brick:Temperature_Sensor . ?vav brick:feeds+ ?zone . ?zone rdf:type brick:HVAC_Zone }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?vav ?sensor ?zone
WHERE {
  # Identify VAV units explicitly by their Brick type
  ?vav a brick:VAV .
  
  # Each VAV unit must have an associated point that is a temperature sensor
  ?vav brick:hasPoint ?sensor .
  ?sensor a brick:Zone_Air_Temperature_Sensor .
  
  # The VAV unit should feed an HVAC zone via the explicit relationship
  ?vav brick:feeds ?zone .
  
  # Ensure that the zone is of the proper HVAC zone type
  ?zone a brick:HVAC_Zone .
}
",True,True,False,3006,3,377,3,0.0,8238,7526,15764,0.965896589658966,0.2228791013892994,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_009,6,LLM_2,"Which variable air volume boxes are linked to temperature sensors, and which conditioned spaces do they serve?",openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?temp_sensor ?vav ?zone WHERE { ?vav rdf:type/rdfs:subClassOf* brick:VAV . ?vav brick:hasPoint ?temp_sensor . ?temp_sensor rdf:type/rdfs:subClassOf* brick:Temperature_Sensor . ?vav brick:feeds+ ?zone . ?zone rdf:type brick:HVAC_Zone }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>

SELECT DISTINCT ?vav ?tempSensor ?conditionedSpace
WHERE {
  # Identify VAV equipment using known Brick classes
  { ?vav a brick:VAV . } 
  UNION
  { ?vav a brick:VAV_Box . }

  # Retrieve a linked sensor via the hasPoint relation
  ?vav brick:hasPoint ?tempSensor .

  # The sensor should be a temperature sensor using appropriate Brick classes
  { ?tempSensor a brick:Zone_Air_Temperature_Sensor . } 
  UNION
  { ?tempSensor a brick:Temperature_Sensor . }
  
  # Try to capture the conditioned space that the sensor serves using an explicit relationship
  OPTIONAL {
    { ?tempSensor brick:isPointOf ?conditionedSpace . } 
    UNION
    { ?tempSensor brick:hasLocation ?conditionedSpace . } 
    UNION
    { ?conditionedSpace brick:hasPoint ?tempSensor . }
    ?conditionedSpace a ?spaceType .
    FILTER(?spaceType = brick:Room
           || ?spaceType = brick:HVAC_Zone
           || ?spaceType = brick:Conditioned_Zone)
  }
}
",True,True,False,3006,3,470,3,0.0,11115,11621,22736,0.0,0.0,True,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_009,7,LLM_3,"For each air terminal equipped with a temperature sensor, which HVAC zones does it supply?",openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?temp_sensor ?vav ?zone WHERE { ?vav rdf:type/rdfs:subClassOf* brick:VAV . ?vav brick:hasPoint ?temp_sensor . ?temp_sensor rdf:type/rdfs:subClassOf* brick:Temperature_Sensor . ?vav brick:feeds+ ?zone . ?zone rdf:type brick:HVAC_Zone }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>

SELECT DISTINCT ?airTerminal ?hvacZone
WHERE {
  # Identify air terminals using their semantic type
  ?airTerminal a brick:Air_Terminal .
  
  # Require that the air terminal is equipped with a temperature sensor
  ?airTerminal brick:hasPoint ?tempSensor .
  # Accept either a generic Temperature_Sensor or a Zone_Air_Temperature_Sensor
  VALUES ?sensorType { brick:Temperature_Sensor brick:Zone_Air_Temperature_Sensor } .
  ?tempSensor a ?sensorType .
  
  # Use the explicit semantic relationship linking the air terminal to the HVAC zone it serves
  # (Assuming the model uses the property brick:feeds to indicate that an air terminal feeds an HVAC zone.)
  ?airTerminal brick:feeds ?hvacZone .
}
ORDER BY ?airTerminal ?hvacZone",True,False,False,3006,3,0,2,0.0,9580,10181,19761,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_009,8,LLM_4,Which areas receive airflow from terminals that include temperature sensors?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?temp_sensor ?vav ?zone WHERE { ?vav rdf:type/rdfs:subClassOf* brick:VAV . ?vav brick:hasPoint ?temp_sensor . ?temp_sensor rdf:type/rdfs:subClassOf* brick:Temperature_Sensor . ?vav brick:feeds+ ?zone . ?zone rdf:type brick:HVAC_Zone }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# In Brick it is common to represent that an area (e.g. a Room) receives airflow from an air terminal,
# and that terminals have points (sensors) attached to them. In this example we assume that:
#   • An air terminal is related to the area it serves via the property brick:receivesAir
#   • Terminals (such as VAV boxes) have points specified by brick:hasPoint
#   • Temperature sensors are typed as brick:Zone_Air_Temperature_Sensor
#
# This query identifies all areas (rooms) that receive airflow (via brick:receivesAir) from a terminal
# that has at least one temperature sensor attached.

SELECT DISTINCT ?area WHERE {
  ?area a brick:Room .
  ?area brick:receivesAir ?terminal .
  ?terminal brick:hasPoint ?sensor .
  ?sensor a brick:Zone_Air_Temperature_Sensor .
}
",True,False,False,3006,3,0,1,0.0,8876,12300,21176,0.0,0.0,False,1.0,0.0,ReAct(w100triples),bldg11,o3-mini
MORTAR_009,9,LLM_5,How is temperature monitored across the different HVAC zones in the building?,openai/o3-mini,"PREFIX bacnet: <http://data.ashrae.org/bacnet/2020#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX bsh: <https://brickschema.org/schema/BrickShape#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX ns3: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump1_Start/>
PREFIX ns4: <http://buildsys.org/ontologies/bldg11#bldg11.CHW.Pump2_Start/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rec: <https://w3id.org/rec#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX sdo: <http://schema.org/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX sosa: <http://www.w3.org/ns/sosa/>
PREFIX tag: <https://brickschema.org/schema/BrickTag#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?temp_sensor ?vav ?zone WHERE { ?vav rdf:type/rdfs:subClassOf* brick:VAV . ?vav brick:hasPoint ?temp_sensor . ?temp_sensor rdf:type/rdfs:subClassOf* brick:Temperature_Sensor . ?vav brick:feeds+ ?zone . ?zone rdf:type brick:HVAC_Zone }","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX ns2: <http://buildsys.org/ontologies/bldg11#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ref: <https://brickschema.org/schema/Brick/ref#>

# The following query finds temperature monitoring sensors in HVAC zones using explicit Brick
# relationships rather than relying on IRI string parsing. It does so via two mechanisms:
# 1. It returns sensors that are attached to a zone explicitly through the brick:hasPoint property
#    and are typed as brick:Zone_Air_Temperature_Sensor, while excluding any points that are setpoints.
# 2. It also returns sensors that indicate a zone affiliation by having an external reference (ref:hasExternalReference)
#    and being typed as brick:Zone_Air_Temperature_Sensor, but for which no explicit zone was asserted. In such cases,
#    the zone is labeled as ""Unknown"".

SELECT DISTINCT ?zone ?sensor ?sensorLabel
WHERE {
  {
    # Branch 1: Sensors that are explicitly linked to an HVAC zone via brick:hasPoint
    ?zone brick:hasPoint ?sensor .
    ?sensor a brick:Zone_Air_Temperature_Sensor .
    # Exclude monitoring setpoints (for example, Zone_Air_Temperature_Setpoint)
    FILTER NOT EXISTS { ?sensor a brick:Zone_Air_Temperature_Setpoint } .
    OPTIONAL { ?sensor rdfs:label ?sensorLabel . }
  } UNION {
    # Branch 2: Sensors that are not explicitly attached via brick:hasPoint but are identified
    # as temperature monitoring sensors through an external reference. In this branch, we cannot
    # determine the zone from an explicit relationship, so we mark it as ""Unknown"".
    ?sensor a brick:Zone_Air_Temperature_Sensor .
    ?sensor ref:hasExternalReference ?ext .
    FILTER NOT EXISTS { ?sensor a brick:Zone_Air_Temperature_Setpoint } .
    BIND(""Unknown"" AS ?zone) .
    OPTIONAL { ?sensor rdfs:label ?sensorLabel . }
  }
}
ORDER BY ?zone ?sensor",True,True,False,3006,3,674,3,0.0,8700,7438,16138,0.6229281175103379,0.0,False,0.0,0.0,ReAct(w100triples),bldg11,o3-mini
LBNL_001,1,human,"Identify each entity that is a zone, and either has a directly associated property or is indirectly connected to a property via a RoomDomainSpace through a chain of connections.",openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>

SELECT DISTINCT ?target ?label ?alc_endpoint ?mpc_endpoint WHERE {
{ ?target a s223:Zone; s223:hasProperty ?prop. }
UNION
{ ?target a s223:Zone; s223:hasDomainSpace ?space .
?space a ex1:RoomDomainSpace ;
s223:connected/s223:connected/s223:contains/s223:hasProperty ?prop . }

?prop a s223:Property;
qudt:hasQuantityKind|s223:hasEnumerationKind ?quantKind;
rdfs:label ?label;
s223:hasExternalReference ?ref .

?ref ref:endpoint ?alc_endpoint;
ref:mpc_db_name ?mpc_endpoint;
ref:writable ""False"" .
}","PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query returns every zone entity that either directly has an associated property or that can be connected to a property via a RoomDomainSpace through a chain of connections.
# Here we assume that zones are identified by having an associated zone connection point (bob:hasZoneConnectionPoint).

SELECT DISTINCT ?zone
WHERE {
  {
    # Case 1: the zone directly has (or contains) a property
    ?zone bob:hasZoneConnectionPoint ?zcp .
    ?zone (s223:hasProperty|s223:contains)* ?p .
    ?p a s223:Property .
  } 
  UNION 
  {
    # Case 2: the zone is indirectly connected to a property through a RoomDomainSpace
    ?zone bob:hasZoneConnectionPoint ?zcp .
    ?zone (s223:hasConnectionPoint|s223:isConnectionPointOf|s223:cnx|s223:connectsThrough|s223:connectsTo|s223:connectsAt)+ ?rds .
    ?rds a s223:RoomDomainSpace .
    ?rds (s223:hasProperty|s223:contains)* ?p .
    ?p a s223:Property .
  }
}",True,True,False,354,4,51,1,0.0,2702,4224,6926,0.0,0.0,True,0.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_001,2,human,"For each zone (target), what are the related non-writable property labels and ALC and MPC endpoint references?",openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>

SELECT DISTINCT ?target ?label ?alc_endpoint ?mpc_endpoint WHERE {
{ ?target a s223:Zone; s223:hasProperty ?prop. }
UNION
{ ?target a s223:Zone; s223:hasDomainSpace ?space .
?space a ex1:RoomDomainSpace ;
s223:connected/s223:connected/s223:contains/s223:hasProperty ?prop . }

?prop a s223:Property;
qudt:hasQuantityKind|s223:hasEnumerationKind ?quantKind;
rdfs:label ?label;
s223:hasExternalReference ?ref .

?ref ref:endpoint ?alc_endpoint;
ref:mpc_db_name ?mpc_endpoint;
ref:writable ""False"" .
}","PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?zone
       (GROUP_CONCAT(DISTINCT ?propLabel;separator="", "") AS ?nonWritablePropertyLabels)
       (GROUP_CONCAT(DISTINCT ?alcEndpoint;separator="", "") AS ?alcEndpoints)
       (GROUP_CONCAT(DISTINCT ?mpcEndpoint;separator="", "") AS ?mpcEndpoints)
WHERE {
  # Identify zones using available types. Extend with union if further zone types are used in your dataset.
  { ?zone a bob:ZoneConnectionPoint . } UNION { ?zone a ref:Zone . }

  # Gather non-writable properties: properties that are typed as ObservableProperty or QuantifiableObservableProperty
  # and are not also typed as QuantifiableActuatableProperty.
  OPTIONAL {
    ?zone s223:hasProperty ?prop .
    ?prop rdfs:label ?propLabel .
    ?prop a ?ptype .
    FILTER( ?ptype IN (s223:ObservableProperty, s223:QuantifiableObservableProperty) )
    FILTER NOT EXISTS { ?prop a s223:QuantifiableActuatableProperty }
  }

  # Broaden the search for ALC endpoint references. Look for any property linking the zone to a potential endpoint
  # with a ref:source that (case‐insensitively) contains ""ALC SOAP API"".
  OPTIONAL {
    ?zone ?alcRel ?alcEndpoint .
    ?alcEndpoint ref:source ?alcSource .
    FILTER(regex(str(?alcSource), ""alc soap api"", ""i""))
  }

  # Broaden the search for MPC endpoint references. Look for any property linking the zone to an endpoint
  # typed as an APIReference (per Brick/ASHRAE 223p conventions).
  OPTIONAL {
    ?zone ?mpcRel ?mpcEndpoint .
    ?mpcEndpoint a ref:APIReference .
  }
}
GROUP BY ?zone
ORDER BY ?zone",True,True,False,354,4,102,4,0.0,12297,15503,27800,0.0,0.0,False,0.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_001,3,LLM_1,"For each Zone that either has a Property directly or has a RoomDomainSpace reached by two connected steps and a contains relationship leading to a Property, what is the label of that Property and what are the external reference alc endpoint and mpc endpoint when writable is False?",openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>

SELECT DISTINCT ?target ?label ?alc_endpoint ?mpc_endpoint WHERE {
{ ?target a s223:Zone; s223:hasProperty ?prop. }
UNION
{ ?target a s223:Zone; s223:hasDomainSpace ?space .
?space a ex1:RoomDomainSpace ;
s223:connected/s223:connected/s223:contains/s223:hasProperty ?prop . }

?prop a s223:Property;
qudt:hasQuantityKind|s223:hasEnumerationKind ?quantKind;
rdfs:label ?label;
s223:hasExternalReference ?ref .

?ref ref:endpoint ?alc_endpoint;
ref:mpc_db_name ?mpc_endpoint;
ref:writable ""False"" .
}","PREFIX bob: <http://data.ashrae.org/standard223/si-builder#> 
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#> 
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/> 
PREFIX qudt: <http://qudt.org/schema/qudt/> 
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> 
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> 
PREFIX ref: <https://brickschema.org/schema/Brick/> 
PREFIX s223: <http://data.ashrae.org/standard223#> 
PREFIX unit: <http://qudt.org/vocab/unit/> 

SELECT DISTINCT ?zone ?propertyLabel ?alcEndpoint ?mpcEndpoint
WHERE {
  { # Case A: Zone directly has a Property
    ?zone s223:hasProperty ?property .
  } UNION {
    # Case B: Zone has a RoomDomainSpace reached by two ""connection"" steps and then a contains leading to a Property
    ?zone s223:cnx ?intermediate .
    ?intermediate s223:cnx ?roomDomainSpace .
    ?roomDomainSpace s223:contains ?property .
  }
  ?property rdfs:label ?propertyLabel .

  # Get the external reference for ALC endpoint when writable is false
  OPTIONAL {
    ?property s223:mapsTo ?alcRef .
    ?alcRef ref:source ""ALC SOAP API"" .
    ?alcRef s223:writable ?alcWritable .
    FILTER(?alcWritable = false)
    BIND(?alcRef AS ?alcEndpoint)
  }

  # Get the external reference for MPC endpoint when writable is false
  OPTIONAL {
    ?property s223:mapsTo ?mpcRef .
    ?mpcRef ref:source ""MPC SOAP API"" .
    ?mpcRef s223:writable ?mpcWritable .
    FILTER(?mpcWritable = false)
    BIND(?mpcRef AS ?mpcEndpoint)
  }
}
",True,True,False,354,4,2615,4,0.0,3162,4263,7425,0.0,0.0,True,0.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_001,4,LLM_2,"Which properties associated with building zones (including those linked through room domain spaces and chained connections) are read-only, and what are their labels together with the alc and mpc endpoints in their external references?",openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>

SELECT DISTINCT ?target ?label ?alc_endpoint ?mpc_endpoint WHERE {
{ ?target a s223:Zone; s223:hasProperty ?prop. }
UNION
{ ?target a s223:Zone; s223:hasDomainSpace ?space .
?space a ex1:RoomDomainSpace ;
s223:connected/s223:connected/s223:contains/s223:hasProperty ?prop . }

?prop a s223:Property;
qudt:hasQuantityKind|s223:hasEnumerationKind ?quantKind;
rdfs:label ?label;
s223:hasExternalReference ?ref .

?ref ref:endpoint ?alc_endpoint;
ref:mpc_db_name ?mpc_endpoint;
ref:writable ""False"" .
}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>

# This query attempts to identify read-only properties (i.e. those that are not actuatable) that are associated
# with building zones. The association is determined by traversing a rich set of relationships that might
# eventually link the property to a node representing a zone. In addition to instances of bob:ZoneConnectionPoint,
# we also consider those explicitly typed as s223:BuildingZone (if present). External endpoint information is
# retrieved from external reference nodes that may be attached via different predicates (e.g. s223:hasExternalReference
# or s223:mapsTo). The endpoint information is assumed to be encoded in a literal property (ref:source) whose lower-case value
# contains the substrings ""alc"" or ""mpc"".

SELECT DISTINCT ?prop ?propLabel ?alcEndpoint ?mpcEndpoint
WHERE {
  # Select properties considered read-only. Adjust the set of types as appropriate for your dataset.
  ?prop a ?pType .
  VALUES ?pType { s223:Property s223:ObservableProperty s223:QuantifiableObservableProperty s223:QuantifiableProperty }
  # Exclude actuatable types
  FILTER NOT EXISTS { ?prop a s223:QuantifiableActuatableProperty } .

  # Traverse various connection predicates, including those that may link via room domain spaces (e.g. ex1:hasReferenceLocation).
  # We allow following the predicates in either direction and require that one end of the chain is a known zone indicator.
  ?prop (s223:cnx|^s223:cnx|
         s223:isConnectionPointOf|^s223:isConnectionPointOf|
         s223:hasConnectionPoint|^s223:hasConnectionPoint|
         s223:connectsThrough|^s223:connectsThrough|
         s223:connectsTo|^s223:connectsTo|
         s223:connectsAt|^s223:connectsAt|
         ex1:hasReferenceLocation|^ex1:hasReferenceLocation) + ?assoc .
  
  # ?assoc should be a building zone indicator. We accept either bob:ZoneConnectionPoint or s223:BuildingZone.
  ?assoc a ?zoneType .
  VALUES ?zoneType { bob:ZoneConnectionPoint s223:BuildingZone }

  # Optionally, get property label
  OPTIONAL { ?prop rdfs:label ?propLabel } .

  # Retrieve external reference endpoints for ALC (for example, via s223:hasExternalReference or s223:mapsTo).
  # We build a union to allow for either predicate. Adjust as necessary to match the actual data structure.
  OPTIONAL {
    { ?prop s223:hasExternalReference ?extRefAlc . } UNION { ?prop s223:mapsTo ?extRefAlc . }
    ?extRefAlc ref:source ?alcSource .
    FILTER(CONTAINS(LCASE(STR(?alcSource)), ""alc""))
    BIND(?alcSource AS ?alcEndpoint)
  }

  # Retrieve external reference endpoints for MPC
  OPTIONAL {
    { ?prop s223:hasExternalReference ?extRefMpc . } UNION { ?prop s223:mapsTo ?extRefMpc . }
    ?extRefMpc ref:source ?mpcSource .
    FILTER(CONTAINS(LCASE(STR(?mpcSource)), ""mpc""))
    BIND(?mpcSource AS ?mpcEndpoint)
  }

}
ORDER BY ?prop",True,False,False,354,4,0,4,0.0,10839,15582,26421,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_001,5,LLM_3,List the labels of all non-writable properties for zones and show the corresponding alc endpoint and mpc database endpoint for each.,openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>

SELECT DISTINCT ?target ?label ?alc_endpoint ?mpc_endpoint WHERE {
{ ?target a s223:Zone; s223:hasProperty ?prop. }
UNION
{ ?target a s223:Zone; s223:hasDomainSpace ?space .
?space a ex1:RoomDomainSpace ;
s223:connected/s223:connected/s223:contains/s223:hasProperty ?prop . }

?prop a s223:Property;
qudt:hasQuantityKind|s223:hasEnumerationKind ?quantKind;
rdfs:label ?label;
s223:hasExternalReference ?ref .

?ref ref:endpoint ?alc_endpoint;
ref:mpc_db_name ?mpc_endpoint;
ref:writable ""False"" .
}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query retrieves the labels of non-writable properties associated with zones,
# and includes the corresponding ALC and MPC database endpoints when available. 
# We first try to use an explicit Brick relationship from a Zone entity to a property via s223:hasProperty.
# As a fallback (if such explicit connections are missing) we rely on the property's label starting with ""zone_"".

SELECT DISTINCT ?propLabel ?alcEndpoint ?mpcEndpoint
WHERE {
  {
    # Option 1: Explicit connection from a Zone to a property
    ?zone a ref:Zone .
    ?zone s223:hasProperty ?prop .
    ?prop rdfs:label ?propLabel .
  } UNION {
    # Option 2: Fallback based on label heuristic
    ?prop rdfs:label ?propLabel .
    FILTER(regex(?propLabel, ""^zone_"", ""i""))
  }
  
  # Exclude writable properties. In this model we assume that writable properties are given the type
  # s223:QuantifiableActuatableProperty (add additional types here if needed).
  FILTER NOT EXISTS {
    ?prop a s223:QuantifiableActuatableProperty .
  }
  
  # Retrieve the ALC endpoint, identified as an ExternalReference connected via s223:cnx 
  # with a normalized source equal to ""alc soap api"".
  OPTIONAL {
    ?prop s223:cnx ?alcEndpoint .
    ?alcEndpoint a s223:ExternalReference .
    ?alcEndpoint ref:source ?alcSource .
    FILTER(lcase(str(?alcSource)) = ""alc soap api"")
  }
  
  # Retrieve the MPC database endpoint, assumed to be connected via s223:mapsTo and identified as an
  # ExternalReference whose normalized source is not ""alc soap api"" (i.e. a different endpoint).
  OPTIONAL {
    ?prop s223:mapsTo ?mpcEndpoint .
    ?mpcEndpoint a s223:ExternalReference .
    ?mpcEndpoint ref:source ?mpcSource .
    FILTER(lcase(str(?mpcSource)) != ""alc soap api"")
  }
}",True,True,False,354,4,156,3,0.0,10019,12374,22393,0.0,0.0,True,0.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_001,6,LLM_4,What alc and mpc endpoints are defined for the read-only properties of each zone?,openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>

SELECT DISTINCT ?target ?label ?alc_endpoint ?mpc_endpoint WHERE {
{ ?target a s223:Zone; s223:hasProperty ?prop. }
UNION
{ ?target a s223:Zone; s223:hasDomainSpace ?space .
?space a ex1:RoomDomainSpace ;
s223:connected/s223:connected/s223:contains/s223:hasProperty ?prop . }

?prop a s223:Property;
qudt:hasQuantityKind|s223:hasEnumerationKind ?quantKind;
rdfs:label ?label;
s223:hasExternalReference ?ref .

?ref ref:endpoint ?alc_endpoint;
ref:mpc_db_name ?mpc_endpoint;
ref:writable ""False"" .
}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query returns for each zone (identified via its zone connection point) and each read‐only
# property (typed as s223:ObservableProperty) associated with that zone the aggregated endpoints.
# Endpoints are distinguished by their ref:source: those matching (case-insensitively) ""ALC SOAP API""
# are considered ALC endpoints, while all others (when bound) are considered MPC endpoints.

SELECT ?zone ?property
       (GROUP_CONCAT(DISTINCT IF(bound(?src) && regex(str(?src), ""^ALC SOAP API$"", ""i""), str(?ep), """") ; separator="", "") AS ?alcEndpoints)
       (GROUP_CONCAT(DISTINCT IF(bound(?src) && !regex(str(?src), ""^ALC SOAP API$"", ""i""), str(?ep), """") ; separator="", "") AS ?mpcEndpoints)
WHERE {
  ?zone bob:hasZoneConnectionPoint ?zcp .
  ?property s223:isConnectionPointOf ?zcp .
  ?property a s223:ObservableProperty .
  OPTIONAL {
    ?property s223:hasExternalReference ?ep .
    ?ep ref:source ?src .
  }
}
GROUP BY ?zone ?property
ORDER BY ?zone ?property",True,False,False,354,4,0,4,0.0,9230,16096,25326,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_001,7,LLM_5,How can I find the alc and mpc endpoints for zone properties that aren't editable?,openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>

SELECT DISTINCT ?target ?label ?alc_endpoint ?mpc_endpoint WHERE {
{ ?target a s223:Zone; s223:hasProperty ?prop. }
UNION
{ ?target a s223:Zone; s223:hasDomainSpace ?space .
?space a ex1:RoomDomainSpace ;
s223:connected/s223:connected/s223:contains/s223:hasProperty ?prop . }

?prop a s223:Property;
qudt:hasQuantityKind|s223:hasEnumerationKind ?quantKind;
rdfs:label ?label;
s223:hasExternalReference ?ref .

?ref ref:endpoint ?alc_endpoint;
ref:mpc_db_name ?mpc_endpoint;
ref:writable ""False"" .
}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# In this query we assume that a ""zone property"" is one of the following:
#  1. It has an rdfs:label that begins with the domain‐specific prefix ""zone_"" (as seen in
#     properties like ""zone_air_temp_heating_setpoint"").
#  2. It is connected (via s223:isConnectionPointOf) to a connection point that is known to be a zone
#     connection point (i.e. of type bob:ZoneConnectionPoint).
# We also exclude properties that are editable (i.e. that are instances of s223:QuantifiableActuatableProperty).
# For each zone property we then attempt to retrieve (if available) the endpoint used by ALC (by a connection
# using s223:cnx to a resource that carries an external reference with ref:source ""ALC SOAP API"") and the
# MPC endpoint (via the s223:mapsTo relationship).

SELECT DISTINCT ?zoneProp ?alcEndpoint ?mpcEndpoint
WHERE {
  {
    ?zoneProp rdfs:label ?propLabel .
    FILTER(STRSTARTS(LCASE(STR(?propLabel)), ""zone_""))
  } 
  UNION
  {
    ?zoneProp s223:isConnectionPointOf ?cp .
    ?cp a bob:ZoneConnectionPoint .
  }
  FILTER NOT EXISTS { ?zoneProp a s223:QuantifiableActuatableProperty. }
  
  OPTIONAL {
    ?zoneProp s223:cnx ?alcEndpoint .
    ?alcEndpoint ref:source ""ALC SOAP API"" .
  }
  OPTIONAL {
    ?zoneProp s223:mapsTo ?mpcEndpoint .
  }
}
",True,True,False,354,4,266,3,0.0,6004,9351,15355,0.0,0.0,True,0.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_002,1,human,"Identify each entity that is an AHU, and either has a directly associated property or is indirectly connected to a property via a connectable.",openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>

SELECT DISTINCT ?targetLabel ?label ?alc_endpoint ?mpc_endpoint WHERE {
?target a s223:AirHandlingUnit;
rdfs:label ?targetLabel.
{
?target s223:contains ?connectable.

?connectable (s223:observes | s223:hasProperty) ?prop .
}
UNION
{
?target s223:hasProperty ?prop .
}

?prop a s223:Property;
rdfs:label ?label;
s223:hasExternalReference ?ref.

?ref ref:endpoint ?alc_endpoint;
ref:mpc_db_name ?mpc_endpoint ;
ref:writable ""False"" .

FILTER(CONTAINS(LCASE(?targetLabel), ""rtu""))

}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?ahu
WHERE {
  {  
    ?ahu a brick:AirHandlingUnit .
    ?ahu brick:hasPoint ?prop .
  } 
  UNION 
  {  
    ?ahu a brick:AirHandlingUnit .
    ?ahu brick:hasPart ?component .
    ?component a brick:Connectable .
    ?component brick:hasPoint ?prop .
  }
}
",True,False,False,118,4,0,1,0.0,7416,9353,16769,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_002,2,human,"For each Air Handling Unit (AHU) whose label includes 'RTU', what are the related non-writable property labels and ALC and MPC endpoint references?",openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>

SELECT DISTINCT ?targetLabel ?label ?alc_endpoint ?mpc_endpoint WHERE {
?target a s223:AirHandlingUnit;
rdfs:label ?targetLabel.
{
?target s223:contains ?connectable.

?connectable (s223:observes | s223:hasProperty) ?prop .
}
UNION
{
?target s223:hasProperty ?prop .
}

?prop a s223:Property;
rdfs:label ?label;
s223:hasExternalReference ?ref.

?ref ref:endpoint ?alc_endpoint;
ref:mpc_db_name ?mpc_endpoint ;
ref:writable ""False"" .

FILTER(CONTAINS(LCASE(?targetLabel), ""rtu""))

}","PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX unit: <http://qudt.org/vocab/unit/>

# IMPORTANT: When submitting this query to the SPARQL endpoint, ensure it is sent as the 'query' parameter to avoid missing parameter errors.

# This query retrieves Air Handling Units (AHUs) identified explicitly by the type brick:AirHandlingUnit (using the Brick Schema class),
# whose labels contain the string ""RTU"" (case-insensitive). It aggregates non-writable property labels (by excluding those of type
# s223:QuantifiableActuatableProperty) and aggregates endpoint references. For endpoint matching, we check both the ref:source
# and rdfs:label of connected endpoints for substrings identifying ""ALC SOAP API"" or ""MPC SOAP API"" (case-insensitive),
# addressing the possibility that endpoints may be modeled as IRIs.

SELECT ?ahuLabel
       (GROUP_CONCAT(DISTINCT ?nonWritablePropLabel; separator="", "") AS ?nonWritableProps)
       (GROUP_CONCAT(DISTINCT ?epRef; separator="", "") AS ?endpointRefs)
WHERE {
  # Identify AHUs using the Brick class for Air Handling Units
  ?ahu a ref:AirHandlingUnit ;
       rdfs:label ?ahuLabel .
  FILTER(CONTAINS(LCASE(?ahuLabel), ""rtu""))
  
  # Retrieve non-writable property labels (filtering out writable properties defined as QuantifiableActuatableProperty)
  OPTIONAL {
    ?ahu s223:hasProperty ?prop .
    ?prop rdfs:label ?nonWritablePropLabel .
    FILTER(NOT EXISTS { ?prop a s223:QuantifiableActuatableProperty })
  }
  
  # Retrieve endpoint references by traversing connectivity relationships
  OPTIONAL {
    ?ahu (s223:connectsTo | s223:connectsThrough | s223:cnx | s223:contains)+ ?ep .
    {
      ?ep ref:source ?epRef .
    } UNION {
      ?ep rdfs:label ?epRef .
    }
    FILTER(CONTAINS(LCASE(?epRef), ""alc soap api"") || CONTAINS(LCASE(?epRef), ""mpc soap api""))
  }
}
GROUP BY ?ahu ?ahuLabel",True,False,False,118,4,0,3,0.0,10634,11858,22492,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_002,3,LLM_1,"For each air handling unit whose label contains rtu, identify any connectable element it contains that observes or has property a property, or any property it has directly, and for each property give its label along with the ALC endpoint and the MPC database name from its external reference",openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>

SELECT DISTINCT ?targetLabel ?label ?alc_endpoint ?mpc_endpoint WHERE {
?target a s223:AirHandlingUnit;
rdfs:label ?targetLabel.
{
?target s223:contains ?connectable.

?connectable (s223:observes | s223:hasProperty) ?prop .
}
UNION
{
?target s223:hasProperty ?prop .
}

?prop a s223:Property;
rdfs:label ?label;
s223:hasExternalReference ?ref.

?ref ref:endpoint ?alc_endpoint;
ref:mpc_db_name ?mpc_endpoint ;
ref:writable ""False"" .

FILTER(CONTAINS(LCASE(?targetLabel), ""rtu""))

}","PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX unit: <http://qudt.org/vocab/unit/>

SELECT DISTINCT ?ahu ?ahuLabel ?property ?propertyLabel ?alcEndpoint ?mpcDBName
WHERE {
  # Select air handling units based on their label containing ""rtu"" (case‐insensitive)
  ?ahu rdfs:label ?ahuLabel .
  FILTER(regex(lcase(?ahuLabel), ""rtu"")) .

  # Either through a contained connectable element that either observes or has a property...
  { 
    ?ahu s223:contains ?ce .
    { ?ce s223:observes ?property . } UNION { ?ce s223:hasProperty ?property . }
  } 
  # ...or directly the AHU has a property
  UNION { ?ahu s223:hasProperty ?property . }
  
  # Get the property label if available
  OPTIONAL { ?property rdfs:label ?propertyLabel . }
  
  # From the property, get its external reference information.
  # It is assumed that a property may be linked to an external reference via s223:hasExternalReference;
  # from that node we extract the ALC endpoint (via ref:source) and the MPC database name (via s223:mpcDatabaseName)
  OPTIONAL {
    ?property s223:hasExternalReference ?ext .
    OPTIONAL { ?ext ref:source ?alcEndpoint . }
    OPTIONAL { ?ext s223:mpcDatabaseName ?mpcDBName . }
  }
}
ORDER BY ?ahu ?property",True,True,False,118,4,260,6,0.0,3974,4711,8685,0.1877675840978593,0.0,False,0.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_002,4,LLM_2,"For RTU air handling units, what are the property names and their associated ALC and MPC endpoints defined in the external references",openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>

SELECT DISTINCT ?targetLabel ?label ?alc_endpoint ?mpc_endpoint WHERE {
?target a s223:AirHandlingUnit;
rdfs:label ?targetLabel.
{
?target s223:contains ?connectable.

?connectable (s223:observes | s223:hasProperty) ?prop .
}
UNION
{
?target s223:hasProperty ?prop .
}

?prop a s223:Property;
rdfs:label ?label;
s223:hasExternalReference ?ref.

?ref ref:endpoint ?alc_endpoint;
ref:mpc_db_name ?mpc_endpoint ;
ref:writable ""False"" .

FILTER(CONTAINS(LCASE(?targetLabel), ""rtu""))

}","PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

#
# In our model the RTU air handling unit is represented by an Equipment instance
# (class s223:Equipment). It is assumed that its monitored properties are linked
# via the predicate s223:hasProperty and that each such property may have one or
# more external reference endpoints (for example via s223:hasExternalReference) whose
# source string indicates whether it is an ALC or MPC endpoint. 
#
# This query returns, for each RTU (here, every s223:Equipment instance), the property
# names (its label) and – when defined – the associated external reference endpoints
# whose ref:source includes either ""ALC"" or ""MPC"".

SELECT DISTINCT ?propertyName ?alcEndpoint ?mpcEndpoint
WHERE {
  # Identify the RTU air handling unit. In this data set, we assume all Equipment instances
  # represent RTU units. (If a label or subclass were available, one could filter accordingly.)
  ?rtu a s223:Equipment .
  
  # Each RTU has one or more properties of interest
  ?rtu s223:hasProperty ?prop .
  ?prop rdfs:label ?propertyName .

  # Optionally associate an external reference endpoint whose source includes ""ALC""
  OPTIONAL {
    ?prop s223:hasExternalReference ?alcRef .
    ?alcRef ref:source ?alcEndpoint .
    FILTER(CONTAINS(LCASE(?alcEndpoint), ""alc""))
  }

  # Optionally associate an external reference endpoint whose source includes ""MPC""
  OPTIONAL {
    ?prop s223:hasExternalReference ?mpcRef .
    ?mpcRef ref:source ?mpcEndpoint .
    FILTER(CONTAINS(LCASE(?mpcEndpoint), ""mpc""))
  }
}
ORDER BY ?propertyName",True,True,False,118,4,162,3,0.0,2653,6429,9082,0.0,0.0,True,0.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_002,5,LLM_3,"Which RTU units expose properties with external endpoints, and what are the property labels along with those ALC and MPC endpoint addresses",openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>

SELECT DISTINCT ?targetLabel ?label ?alc_endpoint ?mpc_endpoint WHERE {
?target a s223:AirHandlingUnit;
rdfs:label ?targetLabel.
{
?target s223:contains ?connectable.

?connectable (s223:observes | s223:hasProperty) ?prop .
}
UNION
{
?target s223:hasProperty ?prop .
}

?prop a s223:Property;
rdfs:label ?label;
s223:hasExternalReference ?ref.

?ref ref:endpoint ?alc_endpoint;
ref:mpc_db_name ?mpc_endpoint ;
ref:writable ""False"" .

FILTER(CONTAINS(LCASE(?targetLabel), ""rtu""))

}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query assumes that RTU units are explicitly typed as s223:RTU, a subclass of s223:Equipment.
# It retrieves properties that have at least one external endpoint, and then distinguishes (via string matching)
# between endpoints whose ref:source indicates an ALC address and those with an MPC address.
# The results are aggregated to show, for each RTU and its property label, a comma‐separated list of ALC endpoints
# and a comma‐separated list of MPC endpoints. If a property does not have a particular endpoint type, that column
# will be empty.

SELECT ?rtu ?propLabel (GROUP_CONCAT(DISTINCT ?alcEndpoint;separator="", "") AS ?alcEndpoints) (GROUP_CONCAT(DISTINCT ?mpcEndpoint;separator="", "") AS ?mpcEndpoints)
WHERE {
  ?rtu a s223:RTU .
  ?rtu s223:hasProperty ?prop .
  ?prop rdfs:label ?propLabel .
  
  # Ensure the property exposes at least one external endpoint
  ?prop s223:hasExternalEndpoint ?ep .
  ?ep ref:source ?source .
  
  # Bind the endpoint address to the proper variable based on its content
  BIND(IF(CONTAINS(LCASE(STR(?source)), ""alc""), ?source, UNDEF) AS ?alcEndpoint)
  BIND(IF(CONTAINS(LCASE(STR(?source)), ""mpc""), ?source, UNDEF) AS ?mpcEndpoint)
}
GROUP BY ?rtu ?propLabel
HAVING(BOUND(?alcEndpoint) || BOUND(?mpcEndpoint))
ORDER BY ?rtu ?propLabel",False,False,False,118,4,0,0,0.0,10112,10605,20717,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_002,6,LLM_4,Where can I find the nonwritable external ALC and MPC endpoints for properties on each RTU air handling unit,openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>

SELECT DISTINCT ?targetLabel ?label ?alc_endpoint ?mpc_endpoint WHERE {
?target a s223:AirHandlingUnit;
rdfs:label ?targetLabel.
{
?target s223:contains ?connectable.

?connectable (s223:observes | s223:hasProperty) ?prop .
}
UNION
{
?target s223:hasProperty ?prop .
}

?prop a s223:Property;
rdfs:label ?label;
s223:hasExternalReference ?ref.

?ref ref:endpoint ?alc_endpoint;
ref:mpc_db_name ?mpc_endpoint ;
ref:writable ""False"" .

FILTER(CONTAINS(LCASE(?targetLabel), ""rtu""))

}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>

# This query identifies candidate RTU air handling units by looking for Equipment that have at least one
# air connection point (using the Brick type bob:AirConnectionPoint). It then finds properties associated with
# the unit (via a generic s223:hasProperty predicate) and retrieves external endpoints for those properties
# (using either s223:hasExternalReference or s223:mapsTo). For each endpoint, it confirms two conditions:
# 1. The endpoint’s access mode (s223:accessMode) indicates it is read‐only.
# 2. The endpoint’s source string (via ref:source) indicates it is supplied by an ALC or MPC API (using a regex match).
# Additionally, to avoid returning writable properties, the query filters out properties that are explicitly typed as
# actuatable (e.g. s223:QuantifiableActuatableProperty).

SELECT ?ahu ?property ?externalEndpoint ?source ?accessMode
WHERE {
  # Identify candidate RTU air handling units: here we assume that an RTU AHU is an Equipment that has an air connection point
  ?ahu a s223:Equipment .
  ?ahu s223:hasConnectionPoint ?cp .
  ?cp a bob:AirConnectionPoint .
  
  # Retrieve properties associated with the AHU. (Note: the predicate here may vary in different implementations.)
  ?ahu s223:hasProperty ?property .
  
  # Exclude properties that are known to be writable (i.e. actuatable)
  FILTER NOT EXISTS { ?property a s223:QuantifiableActuatableProperty . }
  
  # Retrieve the external reference (endpoint) for the property. Some models use s223:hasExternalReference; others might use s223:mapsTo
  { ?property s223:hasExternalReference ?externalEndpoint . }
  UNION
  { ?property s223:mapsTo ?externalEndpoint . }
  
  # Optionally require that the endpoint is explicitly typed as an external reference
  OPTIONAL { ?externalEndpoint a s223:ExternalReference . }
  
  # The endpoint should include meta-data indicating its API source
  ?externalEndpoint ref:source ?source .
  
  # Confirm that the endpoint is nonwritable via its access mode metadata
  ?externalEndpoint s223:accessMode ?accessMode .
  FILTER(?accessMode = s223:ReadOnly)
  
  # Filter endpoints whose source indicates ALC or MPC. The regex is made generic (case‐insensitive) to capture variations.
  FILTER(regex(?source, ""ALC|MPC"", ""i""))
}
",True,False,False,118,4,0,5,0.0,10318,13156,23474,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_002,7,LLM_5,What read-only control endpoints are available for properties of RTU units,openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>

SELECT DISTINCT ?targetLabel ?label ?alc_endpoint ?mpc_endpoint WHERE {
?target a s223:AirHandlingUnit;
rdfs:label ?targetLabel.
{
?target s223:contains ?connectable.

?connectable (s223:observes | s223:hasProperty) ?prop .
}
UNION
{
?target s223:hasProperty ?prop .
}

?prop a s223:Property;
rdfs:label ?label;
s223:hasExternalReference ?ref.

?ref ref:endpoint ?alc_endpoint;
ref:mpc_db_name ?mpc_endpoint ;
ref:writable ""False"" .

FILTER(CONTAINS(LCASE(?targetLabel), ""rtu""))

}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?rtu ?rtuLabel ?property ?propertyLabel ?endpoint ?endpointLabel
WHERE {
  # Identify RTU units using a dedicated RTU class. Adjust the class below if your implementation uses a different one (e.g., s223:RTU).
  ?rtu a ref:RTU .
  OPTIONAL { ?rtu rdfs:label ?rtuLabel. }
  
  # Retrieve properties associated with the RTU unit
  ?rtu s223:hasProperty ?property .
  
  # Ensure the property is read-only by requiring it be an ObservableProperty but not an ActuatableProperty
  ?property a s223:ObservableProperty .
  FILTER NOT EXISTS { ?property a s223:QuantifiableActuatableProperty } .
  OPTIONAL { ?property rdfs:label ?propertyLabel. }
  
  # Retrieve the control endpoint from the property via known connectivity predicates
  {
    ?property s223:cnx ?endpoint .
  } UNION {
    ?property s223:connectsAt ?endpoint .
  } UNION {
    ?property s223:connectsThrough ?endpoint .
  }
  
  # Ensure the endpoint is explicitly typed as a ControlEndpoint
  ?endpoint a s223:ControlEndpoint .
  OPTIONAL { ?endpoint rdfs:label ?endpointLabel. }
}
",True,False,False,118,4,0,6,0.0,8516,12311,20827,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_003,1,human,Get reheat ARU data (for UFT reheat) by identifying each entity that is a Water-to-Water Heat Pump and contains a property that observes a non-writable quantity with reference endpoints.,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
SELECT DISTINCT ?target ?prop ?label ?qty ?ref ?alc_endpoint ?mpc_endpoint where {
?target a s223:WatertoWaterHeatPump .
?target s223:contains ?prop .
?prop rdfs:label ?label .
?prop s223:observes ?qty .
?qty s223:hasExternalReference ?ref .
?ref ref:endpoint ?alc_endpoint .
?ref ref:mpc_db_name ?mpc_endpoint .
?ref ref:writable ""False"" .
}","PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?heatPump ?prop ?propLabel ?endpoint
WHERE {
  # Identify Water-to-Water Heat Pump equipment
  ?heatPump a ref:WaterToWaterHeatPump .

  # It contains at least one property
  ?heatPump s223:hasProperty ?prop .

  # The property should be observable (non-writable); that is, it is an ObservableProperty and not an actuatable one
  ?prop a s223:ObservableProperty .
  FILTER NOT EXISTS { ?prop a s223:QuantifiableActuatableProperty } .

  # Use a moderately broad label filter to capture reheat ARU/UFT reheat data
  ?prop rdfs:label ?propLabel .
  FILTER regex(str(?propLabel), ""(reheat|aru|uft)"", ""i"") .

  # Ensure the property is connected to a reference endpoint via s223:cnx
  ?prop s223:cnx ?endpoint .
  ?endpoint a ?epType .
  VALUES ?epType { s223:ConnectionPoint s223:InletConnectionPoint s223:OutletConnectionPoint bob:AirConnectionPoint bob:ZoneConnectionPoint }
}",True,False,False,7,7,0,4,0.0,8372,11076,19448,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_003,3,LLM_1,"For each water-to-water heat pump, what property does it contain, what is the label of that property, which quantity does it observe, and what are the ALC endpoint and MPC database name of its non-writable external reference?",openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
SELECT DISTINCT ?target ?prop ?label ?qty ?ref ?alc_endpoint ?mpc_endpoint where {
?target a s223:WatertoWaterHeatPump .
?target s223:contains ?prop .
?prop rdfs:label ?label .
?prop s223:observes ?qty .
?qty s223:hasExternalReference ?ref .
?ref ref:endpoint ?alc_endpoint .
?ref ref:mpc_db_name ?mpc_endpoint .
?ref ref:writable ""False"" .
}","PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX unit: <http://qudt.org/vocab/unit/>

# Revised query per feedback:
# 1. Instead of requiring that a heat pump have both water media, we now select any Equipment that uses either
#    s223:Fluid-Water or s223:Water-HotWater as its medium.
# 2. We use a UNION to get the property that the equipment contains via either s223:contains or s223:hasProperty.
# 3. We relax the filter on the external reference by removing the FILTER NOT EXISTS clause, since many external
#    references may simply lack a declared write capability.

SELECT DISTINCT ?hp ?property ?propertyLabel ?quantity ?alcEndpoint ?mpcDatabaseName
WHERE {
  ?hp a s223:Equipment .
  {
    ?hp s223:hasMedium s223:Fluid-Water .
  } UNION {
    ?hp s223:hasMedium s223:Water-HotWater .
  }
  {
    ?hp s223:contains ?property .
  } UNION {
    ?hp s223:hasProperty ?property .
  }
  OPTIONAL { ?property rdfs:label ?propertyLabel . }
  OPTIONAL { ?property qudt:hasQuantityKind ?quantity . }
  OPTIONAL {
    { ?hp s223:externalReference ?extRef . } UNION { ?hp s223:hasExternalReference ?extRef . }
    ?extRef a s223:ExternalReference .
    OPTIONAL { ?extRef ref:alcEndpoint ?alcEndpoint . }
    OPTIONAL { ?extRef ref:mpcDatabaseName ?mpcDatabaseName . }
  }
}
",True,False,False,7,7,0,6,0.0,10619,12047,22666,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_003,4,LLM_2,"Which internal properties of water-to-water heat pumps observe specific quantities via non-writable external references, and what are those references’ ALC endpoints and MPC database names along with the property labels?",openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
SELECT DISTINCT ?target ?prop ?label ?qty ?ref ?alc_endpoint ?mpc_endpoint where {
?target a s223:WatertoWaterHeatPump .
?target s223:contains ?prop .
?prop rdfs:label ?label .
?prop s223:observes ?qty .
?qty s223:hasExternalReference ?ref .
?ref ref:endpoint ?alc_endpoint .
?ref ref:mpc_db_name ?mpc_endpoint .
?ref ref:writable ""False"" .
}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?propertyLabel ?alcEndpoint ?mpcDatabaseName
WHERE {
  # Identify a water-to-water heat pump by selecting equipment that has a water-based medium.
  ?hp a s223:Equipment .
  ?hp s223:hasMedium ?medium .
  FILTER(?medium IN (s223:Water-HotWater, s223:Fluid-Water)) .
  
  # Traverse from the heat pump to one of its internal properties.
  { ?hp s223:hasProperty ?prop . } UNION { ?hp s223:contains ?prop . }
  
  # The internal property must observe a specific physical quantity.
  ?prop qudt:hasQuantityKind ?qkind .
  ?prop rdfs:label ?propertyLabel .
  
  # The property is mapped to an external reference that provides observation information.
  ?prop s223:mapsTo ?ext .
  ?ext a s223:ExternalReference .
  ?ext ref:source ?alcEndpoint .
  
  # Optionally retrieve the MPC database name if it is provided.
  OPTIONAL { ?ext s223:mpcDatabaseName ?mpcDatabaseName } .
  
  # Explicitly ensure that the external reference is non-writable. We assume that if an external
  # reference has a write capability property, then a true value indicates writability. If that property
  # is either missing or false, then the reference is non-writable.
  OPTIONAL { ?ext s223:hasWriteCapability ?wcap . }
  FILTER(!bound(?wcap) || ?wcap = false)
}
",True,False,False,7,7,0,3,0.0,9522,13889,23411,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_003,5,LLM_3,What non-writable external endpoints and MPC database names are associated with measurements taken by components inside water-to-water heat pumps?,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
SELECT DISTINCT ?target ?prop ?label ?qty ?ref ?alc_endpoint ?mpc_endpoint where {
?target a s223:WatertoWaterHeatPump .
?target s223:contains ?prop .
?prop rdfs:label ?label .
?prop s223:observes ?qty .
?qty s223:hasExternalReference ?ref .
?ref ref:endpoint ?alc_endpoint .
?ref ref:mpc_db_name ?mpc_endpoint .
?ref ref:writable ""False"" .
}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>

# This query selects non‐writable measurement points (assumed to be read‐only observable properties) that
# are associated with an external endpoint (of type s223:ExternalReference) via the s223:mapsTo relation, and that
# are attached to equipment identified as water‐to‐water heat pumps. In this improved version we use Brick Schema
# class and relationship names (brick:WaterToWaterHeatPump and brick:hasPoint) rather than relying solely on label substrings.

SELECT DISTINCT ?extEndpoint ?mpcName
WHERE {
  # Identify the measurement points. Here we use s223:ObservableProperty to represent a measurement point.
  # Writable points are also typed as s223:QuantifiableActuatableProperty, which we filter out.
  ?measurement a s223:ObservableProperty .
  FILTER NOT EXISTS { ?measurement a s223:QuantifiableActuatableProperty } .

  # Retrieve the MPC database name. In this dataset, we assume it is provided by rdfs:label.
  ?measurement rdfs:label ?mpcName .

  # Ensure the measurement is mapped to an external endpoint, which must be of type s223:ExternalReference.
  ?measurement s223:mapsTo ?extEndpoint .
  ?extEndpoint a s223:ExternalReference .

  # Link the measurement to a water-to-water heat pump equipment. Here we assume that the Brick Schema is used to
  # model equipment with type brick:WaterToWaterHeatPump and the measurement point is connected via the brick:hasPoint relationship.
  ?equipment a brick:WaterToWaterHeatPump .
  ?equipment brick:hasPoint ?measurement .
}
",True,False,False,7,7,0,2,0.0,10012,13750,23762,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_003,6,LLM_4,Which read-only ALC and MPC endpoints deliver the measurement data for water-to-water heat pumps?,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
SELECT DISTINCT ?target ?prop ?label ?qty ?ref ?alc_endpoint ?mpc_endpoint where {
?target a s223:WatertoWaterHeatPump .
?target s223:contains ?prop .
?prop rdfs:label ?label .
?prop s223:observes ?qty .
?qty s223:hasExternalReference ?ref .
?ref ref:endpoint ?alc_endpoint .
?ref ref:mpc_db_name ?mpc_endpoint .
?ref ref:writable ""False"" .
}","PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX unit: <http://qudt.org/vocab/unit/>

# This query looks for measurement endpoints that deliver data for water‐to‐water heat pumps.
# In improved models water‐to‐water heat pumps may be explicitly typed (s223:WaterToWaterHeatPump)
# or can be inferred from equipment having a water‐based medium and a label that indicates a ""heat pump"".
# Additionally, we require that the measurement (observable) property is marked as read‐only
# (using an explicit property s223:access with value s223:ReadOnly).
# Finally, the endpoint must be of type ALC (ref:APIReference) or MPC (s223:ExternalReference) and
# its source (given by ref:source) must include the substring ALC or MPC (case insensitive).

SELECT DISTINCT ?endpoint ?source
WHERE {
  {
    # Option 1: Equipment explicitly typed as WaterToWaterHeatPump
    ?hp a s223:WaterToWaterHeatPump ;
        s223:hasMedium ?medium ;
        s223:hasProperty ?obs .
    FILTER(?medium IN (s223:Fluid-Water, s223:Water-HotWater))
    ?obs s223:access s223:ReadOnly .
    ?obs s223:mapsTo ?endpoint .
  }
  UNION
  {
    # Option 2: Equipment of type s223:Equipment whose label contains 'heat pump'
    ?hp a s223:Equipment ;
        rdfs:label ?hpLabel ;
        s223:hasMedium ?medium ;
        s223:hasProperty ?obs .
    FILTER(?medium IN (s223:Fluid-Water, s223:Water-HotWater))
    FILTER(regex(?hpLabel, ""heat pump"", ""i""))
    ?obs s223:access s223:ReadOnly .
    ?obs s223:mapsTo ?endpoint .
  }
  
  # Ensure endpoint is of an acceptable type (either APIReference for ALC or ExternalReference for MPC)
  {
    { ?endpoint a ref:APIReference. } UNION { ?endpoint a s223:ExternalReference. }
  }
  
  # The endpoint must provide its source and the source string includes ALC or MPC
  ?endpoint ref:source ?source .
  FILTER(regex(?source, ""ALC|MPC"", ""i""))
}
",False,False,False,7,7,0,0,0.0,5965,10538,16503,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_003,7,LLM_5,Where can I access the read-only operational data endpoints for our water-to-water heat pumps?,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
SELECT DISTINCT ?target ?prop ?label ?qty ?ref ?alc_endpoint ?mpc_endpoint where {
?target a s223:WatertoWaterHeatPump .
?target s223:contains ?prop .
?prop rdfs:label ?label .
?prop s223:observes ?qty .
?qty s223:hasExternalReference ?ref .
?ref ref:endpoint ?alc_endpoint .
?ref ref:mpc_db_name ?mpc_endpoint .
?ref ref:writable ""False"" .
}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ref: <https://brickschema.org/schema/Brick/>

# This query attempts to retrieve the read‐only operational data endpoints for water‐to‐water
# heat pumps. It assumes that water‐to‐water heat pumps are modeled explicitly in the schema
# with type s223:WaterToWaterHeatPump. In addition, it restricts the equipment to use water-based
# media (either s223:Water-HotWater or s223:Fluid-Water) and then follows the mapping relation to
# an external endpoint. Finally, the endpoint is further constrained to be read-only operational
# by requiring that it is of type s223:ExternalReference and its source is ""ALC SOAP API"".

SELECT DISTINCT ?endpoint
WHERE {
  ?equipment a s223:WaterToWaterHeatPump ;
             s223:hasMedium ?medium ;
             s223:mapsTo ?endpoint .
  FILTER (?medium = s223:Water-HotWater || ?medium = s223:Fluid-Water) .
  ?endpoint a s223:ExternalReference ;
            ref:source ""ALC SOAP API"" .
}
",True,False,False,7,7,0,1,0.0,7666,12011,19677,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_004,1,human,"For each Water-to-Water Heat Pump, what are the related non-writable property labels and ALC and MPC endpoint references?",openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
SELECT DISTINCT ?target ?prop ?label ?alc_endpoint ?mpc_endpoint where {
?target a s223:WatertoWaterHeatPump .
?target s223:hasProperty ?prop .
?prop rdfs:label ?label .
?prop s223:hasExternalReference ?ref .
?ref ref:endpoint ?alc_endpoint .
?ref ref:mpc_db_name ?mpc_endpoint .
?ref ref:writable ""False"" .
}","PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query returns one row per Water-to-Water Heat Pump (using the Brick class ref:WaterToWaterHeatPump). It collects the labels of its non–writable property points (i.e. those attached via ref:hasPoint that are not writable, here filtered by excluding points of type ref:Command), and it aggregates the pump’s associated external endpoint references. An endpoint whose ref:source equals ""ALC SOAP API"" is treated as an ALC endpoint; an external reference of type s223:ExternalReference that does not have that source is treated as an MPC endpoint.

SELECT ?pump
       (GROUP_CONCAT(DISTINCT ?nonWritableLabel; separator="", "") AS ?nonWritableProperties)
       (GROUP_CONCAT(DISTINCT ?alcEndpoint; separator="", "") AS ?alcEndpoints)
       (GROUP_CONCAT(DISTINCT ?mpcEndpoint; separator="", "") AS ?mpcEndpoints)
WHERE {
  # Identify pumps explicitly as Water-to-Water Heat Pumps using the Brick class
  ?pump a ref:WaterToWaterHeatPump .

  # Retrieve property points (labels) that are considered non-writable (i.e. exclude command points)
  OPTIONAL {
    ?pump ref:hasPoint ?pt .
    ?pt rdfs:label ?nonWritableLabel .
    FILTER NOT EXISTS { ?pt a ref:Command } .
  }

  # ALC endpoint references: via an external reference with ref:source ""ALC SOAP API""
  OPTIONAL {
    ?pump ref:hasExternalReference ?alcEndpoint .
    ?alcEndpoint ref:source ""ALC SOAP API"" .
  }

  # MPC endpoint references: external references (typed as s223:ExternalReference) that do not carry the ALC source
  OPTIONAL {
    ?pump ref:hasExternalReference ?mpcEndpoint .
    ?mpcEndpoint a s223:ExternalReference .
    FILTER NOT EXISTS { ?mpcEndpoint ref:source ""ALC SOAP API"" } .
  }
}
GROUP BY ?pump",True,False,False,9,5,0,4,0.0,9663,14374,24037,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_004,2,LLM_1,"For each water-to-water heat pump, what property does it have, what is the property's label, and what are the ALC endpoint and MPC database endpoint of its non-writable external reference?",openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
SELECT DISTINCT ?target ?prop ?label ?alc_endpoint ?mpc_endpoint where {
?target a s223:WatertoWaterHeatPump .
?target s223:hasProperty ?prop .
?prop rdfs:label ?label .
?prop s223:hasExternalReference ?ref .
?ref ref:endpoint ?alc_endpoint .
?ref ref:mpc_db_name ?mpc_endpoint .
?ref ref:writable ""False"" .
}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?heatPump ?property ?propertyLabel ?alcEndpoint ?mpcEndpoint
WHERE {
  # Identify water-to-water heat pumps (assumed to be an asset of type s223:WaterToWaterHeatPump)
  ?heatPump a s223:WaterToWaterHeatPump .
  
  # Obtain the property attached to the heat pump and its label
  ?heatPump s223:hasProperty ?property .
  ?property rdfs:label ?propertyLabel .
  
  # Get the external reference from the heat pump (instead of from its property)
  ?heatPump s223:hasExternalReference ?extRef .
  ?extRef a s223:ExternalReference .
  
  # Only consider non‐writable external references. If the writable flag exists it must be false;
  # if it is missing we assume non‐writable.
  OPTIONAL { ?extRef s223:isWritable ?writable . }
  FILTER (!bound(?writable) || (?writable = false))
  
  # Retrieve the ALC endpoint and MPC database endpoint using the proper predicates
  ?extRef s223:alcEndpoint ?alcEndpoint .
  ?extRef s223:mpcEndpoint ?mpcEndpoint .
}
",True,False,False,9,5,0,5,0.0,8524,11247,19771,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_004,3,LLM_2,"Which external references marked as non-writable are associated with water-to-water heat pump properties, and what are their property labels along with the ALC and MPC endpoints?",openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
SELECT DISTINCT ?target ?prop ?label ?alc_endpoint ?mpc_endpoint where {
?target a s223:WatertoWaterHeatPump .
?target s223:hasProperty ?prop .
?prop rdfs:label ?label .
?prop s223:hasExternalReference ?ref .
?ref ref:endpoint ?alc_endpoint .
?ref ref:mpc_db_name ?mpc_endpoint .
?ref ref:writable ""False"" .
}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

# This query looks for properties that are candidates for water‐to‐water heat pump properties. We use a UNION so that
# a property qualifies either if it explicitly has the water medium (here s223:Water-HotWater) or if it is typed as a
# water‐to‐water heat pump (if such an explicit type exists, e.g. s223:WaterToWaterHeatPump). Adjust these patterns as needed.
#
# In addition, we assume that an external reference is marked as non‐writable with an explicit triple using the
# predicate s223:writable whose value is either the Boolean false or the literal ""false""^^xsd:boolean.
#
# Finally, we attempt to extract endpoint information by checking the ref:source property for case–insensitive tokens
# ""alc"" and ""mpc"". If your data stores these endpoints differently, modify the OPTIONAL blocks accordingly.

SELECT ?extRef ?propLabel ?ALCEndpoint ?MPCEndpoint
WHERE {
  { 
    ?prop s223:hasMedium s223:Water-HotWater .
  } UNION {
    ?prop a s223:WaterToWaterHeatPump .
  }
  
  ?prop rdfs:label ?propLabel ;
        s223:hasExternalReference ?extRef .
  
  ?extRef s223:writable ?writable .
  FILTER(?writable = false || ?writable = ""false""^^xsd:boolean)
  
  OPTIONAL {
    ?extRef ref:source ?srcALC .
    FILTER(CONTAINS(LCASE(?srcALC), ""alc""))
    BIND(?srcALC AS ?ALCEndpoint)
  }
  OPTIONAL {
    ?extRef ref:source ?srcMPC .
    FILTER(CONTAINS(LCASE(?srcMPC), ""mpc""))
    BIND(?srcMPC AS ?MPCEndpoint)
  }
}
",True,False,False,9,5,0,4,0.0,9630,12907,22537,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_004,4,LLM_3,What are the non-writable ALC and MPC endpoints and their related property names for all water-to-water heat pumps?,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
SELECT DISTINCT ?target ?prop ?label ?alc_endpoint ?mpc_endpoint where {
?target a s223:WatertoWaterHeatPump .
?target s223:hasProperty ?prop .
?prop rdfs:label ?label .
?prop s223:hasExternalReference ?ref .
?ref ref:endpoint ?alc_endpoint .
?ref ref:mpc_db_name ?mpc_endpoint .
?ref ref:writable ""False"" .
}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# The following query looks for water‐to‐water heat pump equipment. In this example, since an explicit water‐to‐water heat pump type is not consistently used, we infer such equipment by requiring that it has at least one connection point whose medium is s223:Fluid-Water (typically the source side) and at least one connection point whose medium is s223:Water-HotWater (typically the load side).

# For each such equipment we then retrieve its endpoints (connection points) that have an associated external reference. We assume that the external reference is linked to the endpoint using s223:cnx and that its source is recorded via ref:source with a literal value of either ""ALC SOAP API"" or ""MPC SOAP API"".

# Finally, from each endpoint we obtain its associated property (using s223:hasProperty) and filter out those properties that are writable (i.e. of type s223:QuantifiableActuatableProperty). The query returns the equipment, endpoint, property and its label along with the source as a check.

SELECT DISTINCT ?equipment ?endpoint ?prop ?propLabel ?source
WHERE {
  # Identify water-to-water heat pump equipment (inferred by the presence of both water media connection points)
  ?equipment a s223:Equipment .
  ?equipment s223:hasConnectionPoint ?cp1 .
  ?cp1 s223:hasMedium s223:Fluid-Water .
  ?equipment s223:hasConnectionPoint ?cp2 .
  ?cp2 s223:hasMedium s223:Water-HotWater .
  
  # Consider any connection point (endpoint) of the equipment
  ?equipment s223:hasConnectionPoint ?endpoint .
  
  # Link the endpoint to an external reference whose source is either ALC or MPC
  ?ext a s223:ExternalReference ;
       ref:source ?source ;
       s223:cnx ?endpoint .
  FILTER(?source = ""ALC SOAP API"" || ?source = ""MPC SOAP API"")
  
  # Get the property associated with the endpoint
  ?endpoint s223:hasProperty ?prop .
  OPTIONAL { ?prop rdfs:label ?propLabel . }
  
  # Exclude writable properties (i.e. ones flagged as QuantifiableActuatableProperty)
  FILTER NOT EXISTS { ?prop a s223:QuantifiableActuatableProperty }
}
",True,False,False,9,5,0,5,0.0,9525,15667,25192,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_004,5,LLM_4,Where can I find the read-only control and database addresses for the attributes of water-to-water heat pumps?,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
SELECT DISTINCT ?target ?prop ?label ?alc_endpoint ?mpc_endpoint where {
?target a s223:WatertoWaterHeatPump .
?target s223:hasProperty ?prop .
?prop rdfs:label ?label .
?prop s223:hasExternalReference ?ref .
?ref ref:endpoint ?alc_endpoint .
?ref ref:mpc_db_name ?mpc_endpoint .
?ref ref:writable ""False"" .
}","PREFIX Brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query retrieves the read‐only control and database addresses (if available) for the attributes (points)
# associated with water‐to‐water heat pumps. Here we assume that the dataset uses Brick’s naming conventions,
# with water‐to‐water heat pumps typed as Brick:WaterToWaterHeatPump and point address properties named
# Brick:readOnlyControlAddress and Brick:databaseAddress. Adjust these names as needed to match your data.

SELECT DISTINCT ?pump ?attribute ?readOnlyControlAddress ?databaseAddress
WHERE {
  ?pump a Brick:WaterToWaterHeatPump ;
        Brick:hasPoint ?attribute .

  OPTIONAL { ?attribute Brick:readOnlyControlAddress ?readOnlyControlAddress . }
  OPTIONAL { ?attribute Brick:databaseAddress ?databaseAddress . }
}
",False,False,False,9,5,0,0,0.0,8302,12129,20431,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_004,6,LLM_5,How do I retrieve the non-writable interface endpoints for my water-to-water heat pumps?,openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
SELECT DISTINCT ?target ?prop ?label ?alc_endpoint ?mpc_endpoint where {
?target a s223:WatertoWaterHeatPump .
?target s223:hasProperty ?prop .
?prop rdfs:label ?label .
?prop s223:hasExternalReference ?ref .
?ref ref:endpoint ?alc_endpoint .
?ref ref:mpc_db_name ?mpc_endpoint .
?ref ref:writable ""False"" .
}","PREFIX brick: <https://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?interface ?label
WHERE {
  # Retrieve water-to-water heat pumps using Brick's model
  ?pump a brick:WaterToWaterHeatPump .
  
  # Retrieve the interface endpoints (points) associated with the heat pump
  ?pump brick:hasPoint ?interface .
  OPTIONAL { ?interface rdfs:label ?label }
  
  # Exclude endpoints that are writable. Typically, writable points are modeled as command points
  # in the Brick schema. Here we assume that writable endpoints are typed as brick:AnalogCommand or brick:DiscreteCommand.
  FILTER NOT EXISTS { ?interface a brick:AnalogCommand }
  FILTER NOT EXISTS { ?interface a brick:DiscreteCommand }
}",True,False,False,9,5,0,2,0.0,7921,9314,17235,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_005,1,human,"What volume or heat flow rate properties does each UFT have, including their labels, aspects, values, and units?",openai/o3-mini,"PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT ?uft_label ?uft_prop_label ?uft_prop_aspect ?uft_prop_value ?uft_prop_unit where {
?uft a ex1:UFT .
?uft rdfs:label ?uft_label .

?uft s223:hasProperty ?uft_prop .
?uft_prop rdfs:label ?uft_prop_label .
?uft_prop a s223:QuantifiableObservableProperty .
{ ?uft_prop qudt:hasQuantityKind qudtqk:VolumeFlowRate . }
UNION
{ ?uft_prop qudt:hasQuantityKind qudtqk:HeatFlowRate . }
?uft_prop s223:hasAspect ?uft_prop_aspect .
?uft_prop s223:hasValue ?uft_prop_value .
?uft_prop qudt:hasUnit ?uft_prop_unit .
}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX unit: <http://qudt.org/vocab/unit/>

SELECT ?uft ?uftLabel ?prop ?propLabel ?aspect ?value ?unit
WHERE {
  ?uft s223:hasProperty ?prop .
  OPTIONAL { ?uft rdfs:label ?uftLabel. }
  ?prop rdfs:label ?propLabel .
  FILTER(regex(?propLabel, ""(CFM|FT3[\\s/-]*per[\\s/-]*min|BTU[\\s/-]*(per[\\s/-]*hour))"", ""i""))
  OPTIONAL { ?prop s223:hasAspect ?aspect. }
  OPTIONAL { ?prop qudt:numericValue ?value. }
  OPTIONAL { ?prop qudt:hasUnit ?unit. }
}
ORDER BY ?uft ?prop",True,True,False,197,5,102,7,0.0,12290,12654,24944,0.6634146341463415,0.0,False,0.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_005,2,human,What is the label of each UFT?,openai/o3-mini,"PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT ?uft_label ?uft_prop_label ?uft_prop_aspect ?uft_prop_value ?uft_prop_unit where {
?uft a ex1:UFT .
?uft rdfs:label ?uft_label .

?uft s223:hasProperty ?uft_prop .
?uft_prop rdfs:label ?uft_prop_label .
?uft_prop a s223:QuantifiableObservableProperty .
{ ?uft_prop qudt:hasQuantityKind qudtqk:VolumeFlowRate . }
UNION
{ ?uft_prop qudt:hasQuantityKind qudtqk:HeatFlowRate . }
?uft_prop s223:hasAspect ?uft_prop_aspect .
?uft_prop s223:hasValue ?uft_prop_value .
?uft_prop qudt:hasUnit ?uft_prop_unit .
}","PREFIX brick: <http://brickschema.org/schema/Brick#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>

SELECT ?label
WHERE {
  ?uft a brick:UFT .
  OPTIONAL { ?uft rdfs:label ?rLabel . }
  OPTIONAL { ?uft skos:prefLabel ?sLabel . }
  BIND(COALESCE(?rLabel, ?sLabel) AS ?label) .
  FILTER(BOUND(?label))
}",True,False,False,197,5,0,1,0.0,6649,5607,12256,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_005,3,LLM_1,"For each unitary fan terminal, what is its label, and for each property it has that is a volume flow rate or heat flow rate, what are the property’s label, aspect, value, and unit?",openai/o3-mini,"PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT ?uft_label ?uft_prop_label ?uft_prop_aspect ?uft_prop_value ?uft_prop_unit where {
?uft a ex1:UFT .
?uft rdfs:label ?uft_label .

?uft s223:hasProperty ?uft_prop .
?uft_prop rdfs:label ?uft_prop_label .
?uft_prop a s223:QuantifiableObservableProperty .
{ ?uft_prop qudt:hasQuantityKind qudtqk:VolumeFlowRate . }
UNION
{ ?uft_prop qudt:hasQuantityKind qudtqk:HeatFlowRate . }
?uft_prop s223:hasAspect ?uft_prop_aspect .
?uft_prop s223:hasValue ?uft_prop_value .
?uft_prop qudt:hasUnit ?uft_prop_unit .
}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX sosa: <http://www.w3.org/ns/sosa/>

SELECT ?fanLabel ?propLabel ?aspect ?value ?unit
WHERE {
  # Identify unitary fan terminals using the appropriate class
  ?fan a s223:UnitaryFanTerminal .
  ?fan rdfs:label ?fanLabel .

  # Get the measurement points (properties) of the fan terminal
  ?fan s223:hasPoint ?point .
  ?point rdfs:label ?propLabel .
  ?point s223:hasAspect ?aspect .

  # Ensure that the point has the proper quantity kind, which might be defined via qudt:hasQuantityKind or s223:hasQuantityKind
  { ?point qudt:hasQuantityKind ?qk } UNION { ?point s223:hasQuantityKind ?qk } .
  VALUES ?qk { quantitykind:VolumetricFlowRate quantitykind:HeatFlowRate } 

  # Retrieve the measured value and unit, which may be nested under a result node or attached directly
  OPTIONAL {
    { ?point sosa:hasResult ?result .
      ?result qudt:quantityValue ?value .
      OPTIONAL { ?result qudt:hasUnit ?unit } 
    } UNION {
      ?point s223:hasValue ?value .
      OPTIONAL { ?point qudt:hasUnit ?unit } 
    }
  }
}",True,False,False,197,5,0,5,0.0,8422,9831,18253,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_005,4,LLM_2,"List each unitary fan terminal along with its volume flow rate or heat flow rate measurements, including each measurement’s name, aspect, recorded value, and unit.",openai/o3-mini,"PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT ?uft_label ?uft_prop_label ?uft_prop_aspect ?uft_prop_value ?uft_prop_unit where {
?uft a ex1:UFT .
?uft rdfs:label ?uft_label .

?uft s223:hasProperty ?uft_prop .
?uft_prop rdfs:label ?uft_prop_label .
?uft_prop a s223:QuantifiableObservableProperty .
{ ?uft_prop qudt:hasQuantityKind qudtqk:VolumeFlowRate . }
UNION
{ ?uft_prop qudt:hasQuantityKind qudtqk:HeatFlowRate . }
?uft_prop s223:hasAspect ?uft_prop_aspect .
?uft_prop s223:hasValue ?uft_prop_value .
?uft_prop qudt:hasUnit ?uft_prop_unit .
}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>

# This query retrieves unitary fan terminals along with measurements that represent either a volume flow rate
# or a heat flow rate. To account for variations in how relationships are modeled, the query accepts terminals
# typed as either Brick's Unitary_Fan_Terminal or a s223:Fan, and accepts measurements linked by either
# s223:hasMeasurement or ref:hasMeasurement. In addition, the measurement is required to provide a name (rdfs:label),
# an aspect (s223:hasAspect), a recorded numeric value (s223:recordedValue) and a unit (qudt:hasUnit).
# Finally, the measurement itself must either be typed as bob:Flow (assumed to indicate volume flow rate) or exhibit
# the aspect s223:Role-Heating (indicating a heat flow rate measurement).

SELECT ?terminal ?measurementName ?aspect ?recordedValue ?unit
WHERE {
  # Identify terminal as a unitary fan terminal using two possible class designations
  {
    { ?terminal a ref:Unitary_Fan_Terminal }
    UNION
    { ?terminal a s223:Fan }
  }
  
  # Link the terminal to its measurement using either of two possible properties
  {
    { ?terminal s223:hasMeasurement ?measurement }
    UNION
    { ?terminal ref:hasMeasurement ?measurement }
  }
  
  # Retrieve measurement details
  ?measurement rdfs:label ?measurementName .
  ?measurement s223:hasAspect ?aspect .
  ?measurement s223:recordedValue ?recordedValue .
  ?measurement qudt:hasUnit ?unit .
  
  # Restrict measurement to either be a volume flow rate measurement or a heat flow rate measurement.
  {
    { ?measurement a bob:Flow }
    UNION
    { ?measurement s223:hasAspect s223:Role-Heating }
  }
}
",False,False,False,197,5,0,0,0.0,9711,13450,23161,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_005,5,LLM_3,"Which volume flow and heat flow measurements do unitary fan terminals record, and how are those measurements described and quantified?",openai/o3-mini,"PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT ?uft_label ?uft_prop_label ?uft_prop_aspect ?uft_prop_value ?uft_prop_unit where {
?uft a ex1:UFT .
?uft rdfs:label ?uft_label .

?uft s223:hasProperty ?uft_prop .
?uft_prop rdfs:label ?uft_prop_label .
?uft_prop a s223:QuantifiableObservableProperty .
{ ?uft_prop qudt:hasQuantityKind qudtqk:VolumeFlowRate . }
UNION
{ ?uft_prop qudt:hasQuantityKind qudtqk:HeatFlowRate . }
?uft_prop s223:hasAspect ?uft_prop_aspect .
?uft_prop s223:hasValue ?uft_prop_value .
?uft_prop qudt:hasUnit ?uft_prop_unit .
}","PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX ref: <https://brickschema.org/schema/Brick/>

# This query retrieves measurements recorded by unitary fan terminals. It accepts fan terminals
# identified either as s223:Fan or as ref:Fan. From each fan, the query follows a restricted set
# of relations (s223:cnx, s223:hasProperty, s223:contains) to reach candidate measurement objects.
# Each candidate must provide quantification details via qudt:hasQuantityKind and qudt:hasUnit and
# also specify a medium via s223:hasMedium. Finally, the query applies explicit filters to distinguish
# volume flow measurements (air-based, with quantity kind quantitykind:VolumetricFlowRate) from heat
# flow measurements (water-based, with quantity kind quantitykind:HeatFlowRate).

SELECT DISTINCT ?fan ?measurement ?measurementLabel ?medium ?quantityKind ?unitValue
WHERE {
  # Identify unitary fan terminals (allowing two common RDF types)
  VALUES ?fanType { s223:Fan ref:Fan }
  ?fan a ?fanType .

  # Navigate a refined set of relationships from the fan to measurement objects.
  # The plus sign requires at least one hop over one of these specified properties.
  ?fan (s223:cnx|s223:hasProperty|s223:contains)+ ?measurement .

  # Retrieve an optional human‐readable label for the measurement
  OPTIONAL { ?measurement rdfs:label ?measurementLabel . }

  # Ensure that the measurement provides quantification details
  ?measurement qudt:hasQuantityKind ?quantityKind .
  ?measurement qudt:hasUnit ?unitValue .

  # Get the medium associated with the measurement
  ?measurement s223:hasMedium ?medium .

  # Distinguish measurement types by combining medium and quantity kind. Here,
  # air-based measurements should be for volumetric flow and water-based measurements for heat flow.
  FILTER(
         (?medium = s223:Fluid-Air && ?quantityKind = quantitykind:VolumetricFlowRate)
      || ((?medium = s223:Fluid-Water || ?medium = s223:Water-HotWater) && ?quantityKind = quantitykind:HeatFlowRate)
  )
}
ORDER BY ?fan ?measurement",True,False,False,197,5,0,6,0.0,11656,16093,27749,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_005,6,LLM_4,What volume and heat flow data are available from the fan terminals?,openai/o3-mini,"PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT ?uft_label ?uft_prop_label ?uft_prop_aspect ?uft_prop_value ?uft_prop_unit where {
?uft a ex1:UFT .
?uft rdfs:label ?uft_label .

?uft s223:hasProperty ?uft_prop .
?uft_prop rdfs:label ?uft_prop_label .
?uft_prop a s223:QuantifiableObservableProperty .
{ ?uft_prop qudt:hasQuantityKind qudtqk:VolumeFlowRate . }
UNION
{ ?uft_prop qudt:hasQuantityKind qudtqk:HeatFlowRate . }
?uft_prop s223:hasAspect ?uft_prop_aspect .
?uft_prop s223:hasValue ?uft_prop_value .
?uft_prop qudt:hasUnit ?uft_prop_unit .
}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?fan ?terminal ?measurement ?measurementType ?label
WHERE {
  # Identify fan equipment
  ?fan a s223:Fan .
  
  # Get the fan terminal (connection point) using several possible relationships
  { ?fan ref:hasPoint ?terminal } UNION
  { ?fan s223:hasConnectionPoint ?terminal } UNION
  { ?fan bob:airOutlet ?terminal } .
  
  # Retrieve measurements attached to the terminal; note the relationship direction
  { ?terminal ref:hasMeasurement ?measurement } UNION
  { ?terminal s223:hasMeasurement ?measurement } .
  
  # Now select only volume or heat flow measurements. Many Brick/ASHRAE models use dedicated types
  {
    { ?measurement a ref:Air_Volume_Flow . BIND(""volume"" AS ?measurementType) } 
    UNION
    { ?measurement a bob:Flow . BIND(""volume"" AS ?measurementType) }
  }
  UNION
  {
    { ?measurement a ref:Air_Heat_Flow . BIND(""heat flow"" AS ?measurementType) } 
    UNION
    { ?measurement a s223:HeatFlowMeasurement . BIND(""heat flow"" AS ?measurementType) }
  }
  
  OPTIONAL { ?measurement rdfs:label ?label } 
}
ORDER BY ?fan ?measurementType ?measurement",True,False,False,197,5,0,5,0.0,8521,16347,24868,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_005,7,LLM_5,What performance metrics are provided by unitary fan terminals?,openai/o3-mini,"PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX qudtqk: <http://qudt.org/vocab/quantitykind/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT ?uft_label ?uft_prop_label ?uft_prop_aspect ?uft_prop_value ?uft_prop_unit where {
?uft a ex1:UFT .
?uft rdfs:label ?uft_label .

?uft s223:hasProperty ?uft_prop .
?uft_prop rdfs:label ?uft_prop_label .
?uft_prop a s223:QuantifiableObservableProperty .
{ ?uft_prop qudt:hasQuantityKind qudtqk:VolumeFlowRate . }
UNION
{ ?uft_prop qudt:hasQuantityKind qudtqk:HeatFlowRate . }
?uft_prop s223:hasAspect ?uft_prop_aspect .
?uft_prop s223:hasValue ?uft_prop_value .
?uft_prop qudt:hasUnit ?uft_prop_unit .
}","PREFIX brick: <https://brickschema.org/schema/Brick/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query retrieves performance metric points provided by unitary fan terminals, 
# which are defined as either brick:UnitaryFanTerminal or brick:UnitaryAirTerminal. 
# It navigates from the terminal to its points via brick:hasPoint and filters the points 
# by the ASHRAE types s223:ObservableProperty or s223:QuantifiableObservableProperty.

SELECT DISTINCT ?metric ?metricLabel
WHERE {
  { ?terminal a brick:UnitaryFanTerminal. } 
  UNION
  { ?terminal a brick:UnitaryAirTerminal. }
  ?terminal brick:hasPoint ?metric.
  ?metric a ?metricType.
  FILTER(?metricType IN (s223:ObservableProperty, s223:QuantifiableObservableProperty))
  OPTIONAL { ?metric rdfs:label ?metricLabel. }
}",True,False,False,197,5,0,2,0.0,7558,7991,15549,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_006,1,human,"For each UFT, what is its label, the label of the zone it's indirectly connected to (through a junction and domain space), and the label of the AHU that indirectly supplies it?",openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT distinct ?uft_label ?zone_label ?rtu_label where {
?uft a ex1:UFT .
?uft rdfs:label ?uft_label .
?uft s223:connectedTo ?junction .
?junction s223:connectedTo ?ds .
?ds a s223:DomainSpace .
?zone s223:hasDomainSpace ?ds .
?zone rdfs:label ?zone_label .

?uft s223:connectedFrom ?plenum .
?plenum s223:connected ?rtu .
?rtu a s223:AirHandlingUnit .
?rtu rdfs:label ?rtu_label .
}","PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?uftLabel ?zoneLabel ?ahuLabel
WHERE {
  # Identify the terminal unit (UFT) using the proper Brick type
  ?uft a ref:TerminalUnit ;
       rdfs:label ?uftLabel ;
       s223:cnx ?uftJunction .

  # The terminal unit is connected to a junction (using the Brick class for connection points)
  ?uftJunction a ref:AirConnectionPoint ;
               s223:cnx ?domainSpace .

  # The domain space (modeled here with an ASHRAE 223p class) must explicitly appear and contain a zone
  ?domainSpace a s223:DomainSpace ;
               s223:contains ?zone .

  # The zone is identified using the proper Brick type
  ?zone a ref:Zone ;
        rdfs:label ?zoneLabel .

  # The supplying AHU is identified by its Brick type and joins the domain space via its own junction
  ?ahu a ref:AHU ;
       rdfs:label ?ahuLabel ;
       s223:cnx ?ahuJunction .
  ?ahuJunction a ref:AirConnectionPoint ;
               s223:cnx ?domainSpace .
}
",True,False,False,50,3,0,3,0.0,9416,14796,24212,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_006,2,LLM_1,"What are the labels of each underfloor terminal, the label of the zone whose domain space it is connected to, and the label of the air handling unit supplying it?",openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT distinct ?uft_label ?zone_label ?rtu_label where {
?uft a ex1:UFT .
?uft rdfs:label ?uft_label .
?uft s223:connectedTo ?junction .
?junction s223:connectedTo ?ds .
?ds a s223:DomainSpace .
?zone s223:hasDomainSpace ?ds .
?zone rdfs:label ?zone_label .

?uft s223:connectedFrom ?plenum .
?plenum s223:connected ?rtu .
?rtu a s223:AirHandlingUnit .
?rtu rdfs:label ?rtu_label .
}","PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query assumes that the underfloor terminal, its supplying air‐handling unit (AHU), and the zone that owns the terminal’s domain space are explicitly typed using Brick classes.
# In particular, we assume (i) that an underfloor terminal is modeled as a ref:UnderfloorTerminal, (ii) that its supplying unit is a ref:AirHandlingUnit, and (iii) that the zone is modeled as a ref:Zone.
# In addition, the link from an AHU to a terminal is captured by the ex1:supplyInlet predicate, and the connection from a terminal to its domain space (zone) is captured by the ex1:hasReferenceLocation predicate on the terminal.

SELECT ?terminalLabel ?zoneLabel ?ahuLabel
WHERE {
  ?ahu a ref:AirHandlingUnit ;
       ex1:supplyInlet ?terminal ;
       rdfs:label ?ahuLabel .
        
  ?terminal a ref:UnderfloorTerminal ;
            rdfs:label ?terminalLabel ;
            ex1:hasReferenceLocation ?zone .
            
  ?zone a ref:Zone ;
        rdfs:label ?zoneLabel .
}
ORDER BY ?terminalLabel",True,False,False,50,3,0,3,0.0,9117,18953,28070,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_006,3,LLM_2,"For every underfloor terminal, which zone does it serve and which air handling unit feeds air to it?",openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT distinct ?uft_label ?zone_label ?rtu_label where {
?uft a ex1:UFT .
?uft rdfs:label ?uft_label .
?uft s223:connectedTo ?junction .
?junction s223:connectedTo ?ds .
?ds a s223:DomainSpace .
?zone s223:hasDomainSpace ?ds .
?zone rdfs:label ?zone_label .

?uft s223:connectedFrom ?plenum .
?plenum s223:connected ?rtu .
?rtu a s223:AirHandlingUnit .
?rtu rdfs:label ?rtu_label .
}","PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?terminal ?zone ?ahu
WHERE {
  # Identify underfloor air terminals using the proper Brick class name with correct capitalization
  ?terminal a ref:UnderfloorAirTerminal .
  
  # Get the zone the terminal serves. In Brick this relationship can be modeled in either direction.
  OPTIONAL {
    { ?terminal ref:serves ?zone . } UNION { ?zone ref:servedBy ?terminal . }
  }
  
  # Get the air handling unit that feeds the terminal. Depending on modeling, the relationship might also be inverted.
  OPTIONAL {
    { ?ahu ref:feeds ?terminal . } UNION { ?terminal ref:isFedBy ?ahu . }
  }
}
",True,False,False,50,3,0,3,0.0,7510,8501,16011,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_006,4,LLM_3,"Which underfloor distribution devices serve which thermal zones, and from which air handling units do they receive air?",openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT distinct ?uft_label ?zone_label ?rtu_label where {
?uft a ex1:UFT .
?uft rdfs:label ?uft_label .
?uft s223:connectedTo ?junction .
?junction s223:connectedTo ?ds .
?ds a s223:DomainSpace .
?zone s223:hasDomainSpace ?ds .
?zone rdfs:label ?zone_label .

?uft s223:connectedFrom ?plenum .
?plenum s223:connected ?rtu .
?rtu a s223:AirHandlingUnit .
?rtu rdfs:label ?rtu_label .
}","PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query attempts to capture the three components using explicit type constraints and two alternative patterns
# to accommodate potential variations in property directions in the dataset. It assumes that air handling units,
# underfloor distribution devices, and thermal zones are typed as s223:AirHandlingUnit, s223:UnderfloorDistributionDevice,
# and s223:ThermalZone respectively, and looks for an AHU-to-UFD relation using either the bob:airOutlet
# property (with the AHU as subject) or its inverse via s223:receivesAirFrom on the UFD. Likewise, the
# connection between the UFD and the thermal zone is captured either via the UFD explicitly offering a zone connection
# point (bob:hasZoneConnectionPoint) whose partner connection is linked to the thermal zone via s223:isConnectionPointOf,
# or the reverse pattern. Adjust these patterns as needed to match the exact semantics of your dataset.

SELECT DISTINCT ?ufd ?tz ?ahu
WHERE {
  # Identify air handling units, underfloor distribution devices, and thermal zones by explicit type filters
  ?ahu a s223:AirHandlingUnit .
  ?ufd a s223:UnderfloorDistributionDevice .
  ?tz a s223:ThermalZone .
  
  # Capture the relationship between the AHU and the underfloor distribution device using one of two alternatives
  {
    ?ahu bob:airOutlet ?ufd .
  } UNION {
    ?ufd s223:receivesAirFrom ?ahu .
  }
  
  # Capture the relationship between the underfloor distribution device and the thermal zone using one of two alternatives
  {
    ?ufd bob:hasZoneConnectionPoint ?zone_cp .
    ?tz s223:isConnectionPointOf ?zone_cp .
  } UNION {
    ?tz bob:hasZoneConnectionPoint ?zone_cp .
    ?ufd s223:isConnectionPointOf ?zone_cp .
  }
}
",True,False,False,50,3,0,3,0.0,8474,15516,23990,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_006,5,LLM_4,How are thermal zones linked to air handling units through underfloor terminals?,openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT distinct ?uft_label ?zone_label ?rtu_label where {
?uft a ex1:UFT .
?uft rdfs:label ?uft_label .
?uft s223:connectedTo ?junction .
?junction s223:connectedTo ?ds .
?ds a s223:DomainSpace .
?zone s223:hasDomainSpace ?ds .
?zone rdfs:label ?zone_label .

?uft s223:connectedFrom ?plenum .
?plenum s223:connected ?rtu .
?rtu a s223:AirHandlingUnit .
?rtu rdfs:label ?rtu_label .
}","PREFIX brick: <https://brickschema.org/schema/1.1/Brick#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?zone ?terminal ?ahu
WHERE {
  ?zone a brick:ThermalZone .
  ?terminal a brick:UnderfloorTerminal .
  ?ahu a brick:AirHandlingUnit .
  
  ?zone (s223:cnx|^s223:cnx|s223:connectsAt|^s223:connectsAt|s223:connectsTo|^s223:connectsTo|s223:connectsThrough|^s223:connectsThrough)+ ?terminal .
  ?terminal (s223:cnx|^s223:cnx|s223:connectsAt|^s223:connectsAt|s223:connectsTo|^s223:connectsTo|s223:connectsThrough|^s223:connectsThrough)+ ?ahu .
}
",True,False,False,50,3,0,3,0.0,8605,8299,16904,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_006,6,LLM_5,Which zones are served by which air handling units via the underfloor air distribution system?,openai/o3-mini,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT distinct ?uft_label ?zone_label ?rtu_label where {
?uft a ex1:UFT .
?uft rdfs:label ?uft_label .
?uft s223:connectedTo ?junction .
?junction s223:connectedTo ?ds .
?ds a s223:DomainSpace .
?zone s223:hasDomainSpace ?ds .
?zone rdfs:label ?zone_label .

?uft s223:connectedFrom ?plenum .
?plenum s223:connected ?rtu .
?rtu a s223:AirHandlingUnit .
?rtu rdfs:label ?rtu_label .
}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# This query finds Air Handling Units (AHUs) that serve zones via an Underfloor Air Distribution (UFAD) system.
# It assumes that an AHU is connected to a UFAD plenum or terminal via an intermediate connection point that:
#  (a) is attached to the AHU through bob:hasZoneConnectionPoint,
#  (b) is typed specifically as a bob:UnderfloorAirDistributionZoneConnectionPoint, and
#  (c) further connects to the served zone via bob:connectsTo.

SELECT ?ahu ?ahuLabel ?zone ?zoneLabel
WHERE {
  # Match an AHU that has a connection point intended for UFAD service
  ?ahu bob:hasZoneConnectionPoint ?ufadConnectionPoint .
  
  # Ensure that this connection point is one associated with underfloor air distribution
  ?ufadConnectionPoint a bob:UnderfloorAirDistributionZoneConnectionPoint .
  
  # Traverse from the UFAD connection point to the actual served zone
  ?ufadConnectionPoint bob:connectsTo ?zone .
  
  # Optionally retrieve labels for easier interpretation
  OPTIONAL { ?ahu rdfs:label ?ahuLabel . }
  OPTIONAL { ?zone rdfs:label ?zoneLabel . }
}
",True,False,False,50,3,0,4,0.0,9701,9044,18745,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_007,1,human,"What are the labels of the air temperature sensors (in °F), their quantifiable observable properties, and the domain spaces they’re located in, specifically for sensors placed in HVAC core spaces?",openai/o3-mini,"PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT distinct ?sensor_label ?sensor_prop_label ?ds_label where {
?sensor a s223:Sensor .
?sensor s223:observes ?sensor_prop .
?sensor rdfs:label ?sensor_label .
?sensor_prop a s223:QuantifiableObservableProperty .
?sensor_prop qudt:hasQuantityKind quantitykind:Temperature .
?sensor_prop qudt:hasUnit unit:DEG_F .
?sensor_prop s223:ofMedium s223:Fluid-Air .
?sensor_prop rdfs:label ?sensor_prop_label .

?sensor s223:hasObservationLocation ?ds .
?ds a s223:DomainSpace .
?ds s223:hasDomain s223:Domain-HVAC .
?ds rdfs:label ?ds_label .
?ds a ex1:CoreSpace .
}","PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX unit: <http://qudt.org/vocab/unit/>

SELECT DISTINCT ?sensorLabel ?observablePropertyLabel ?locationLabel
WHERE {
  # Select sensors typed as Brick air temperature sensors
  ?sensor a ref:Air_Temperature_Sensor ;
          rdfs:label ?sensorLabel ;
          # Link the sensor to its measured observable property (the phenomenon it measures)
          ref:observes ?observable .

  # Ensure the observable property is quantifiable; get its label and measurement unit
  ?observable a s223:QuantifiableObservableProperty ;
              rdfs:label ?observablePropertyLabel ;
              qudt:hasUnit ?unit .
  
  # Constrain to Fahrenheit measurements
  FILTER(?unit = unit:FAHRENHEIT)
  
  # Retrieve the domain space (physical location) of the sensor using either Brick or ASHRAE 223p relationships
  { ?sensor ref:hasLocation ?loc .
    ?loc rdfs:label ?locationLabel .
  } UNION {
    ?sensor s223:hasReferenceLocation ?loc .
    ?loc rdfs:label ?locationLabel .
  }
  
  # Broaden the HVAC core space filter: allow variations like ""HVAC Core"" or ""HVAC_Core""
  FILTER(regex(?locationLabel, ""HVAC[_ ]?Core"", ""i""))
}
ORDER BY ?sensorLabel",True,False,False,26,3,0,3,0.0,9206,10918,20124,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_007,2,LLM_1,"What are the labels of the sensors that observe a quantifiable observable property of temperature with unit degrees Fahrenheit on fluid air, and what are the labels of those temperature properties and the domain spaces (with domain HVAC and defined as core spaces) where those sensors have their observation location?",openai/o3-mini,"PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT distinct ?sensor_label ?sensor_prop_label ?ds_label where {
?sensor a s223:Sensor .
?sensor s223:observes ?sensor_prop .
?sensor rdfs:label ?sensor_label .
?sensor_prop a s223:QuantifiableObservableProperty .
?sensor_prop qudt:hasQuantityKind quantitykind:Temperature .
?sensor_prop qudt:hasUnit unit:DEG_F .
?sensor_prop s223:ofMedium s223:Fluid-Air .
?sensor_prop rdfs:label ?sensor_prop_label .

?sensor s223:hasObservationLocation ?ds .
?ds a s223:DomainSpace .
?ds s223:hasDomain s223:Domain-HVAC .
?ds rdfs:label ?ds_label .
?ds a ex1:CoreSpace .
}","PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>

SELECT ?sensorLabel ?tempPropLabel ?spaceLabel
WHERE {
  # Identify sensors based on the Brick Sensor class
  ?sensor a ref:Sensor .
  ?sensor rdfs:label ?sensorLabel .
  
  # The sensor observes a temperature property via an explicit property relationship
  ?sensor s223:hasProperty ?tempProp .
  
  # Ensure the property is a quantifiable observable property
  ?tempProp a s223:QuantifiableObservableProperty .
  ?tempProp rdfs:label ?tempPropLabel .
  
  # Ensure the temperature property is measured in degrees Fahrenheit and on Fluid-Air
  ?tempProp qudt:hasUnit unit:DEG_F .
  ?tempProp s223:hasMedium s223:Fluid-Air .
  
  # Use subclass reasoning to confirm the property is of (or derives from) type temperature
  ?tempProp a ?tempClass .
  ?tempClass rdfs:subClassOf* bob:Temperature .
  
  # Link sensor to its observation location using either of the known predicates
  { ?sensor ref:hasLocation ?space } UNION { ?sensor ex1:hasReferenceLocation ?space }.
  ?space rdfs:label ?spaceLabel .
  
  # Instead of relying on label text, restrict to domain spaces via explicit domain and classification
  ?space s223:hasDomain s223:HVAC .
  ?space s223:hasDefinition s223:Core .
}
",True,False,False,26,3,0,3,0.0,9863,11789,21652,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_007,3,LLM_2,"Which sensors measure air temperature in degrees Fahrenheit, what are the names of the temperature properties they observe, and in which HVAC core spaces are they located?",openai/o3-mini,"PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT distinct ?sensor_label ?sensor_prop_label ?ds_label where {
?sensor a s223:Sensor .
?sensor s223:observes ?sensor_prop .
?sensor rdfs:label ?sensor_label .
?sensor_prop a s223:QuantifiableObservableProperty .
?sensor_prop qudt:hasQuantityKind quantitykind:Temperature .
?sensor_prop qudt:hasUnit unit:DEG_F .
?sensor_prop s223:ofMedium s223:Fluid-Air .
?sensor_prop rdfs:label ?sensor_prop_label .

?sensor s223:hasObservationLocation ?ds .
?ds a s223:DomainSpace .
?ds s223:hasDomain s223:Domain-HVAC .
?ds rdfs:label ?ds_label .
?ds a ex1:CoreSpace .
}","PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?sensor ?tempPropName ?hvacCoreSpaceName
WHERE {
  # Identify sensors that measure air temperature using Brick's Air_Temperature_Sensor class
  ?sensor a ref:Air_Temperature_Sensor .

  # Link sensors to their temperature measuring property via common relationships
  { ?sensor ref:hasPoint ?tempProp . } UNION { ?sensor ref:observes ?tempProp . }
  
  # Retrieve the name/label of the temperature property
  ?tempProp rdfs:label ?tempPropName .

  # Ensure the temperature property is measured in degrees Fahrenheit
  ?tempProp qudt:hasUnit ?unit .
  FILTER(?unit = unit:FA || ?unit = <http://qudt.org/vocab/unit/degF>)

  # Obtain the HVAC core space in which the sensor is located using a bidirectional location relationship
  { ?sensor ref:hasLocation ?hvacCoreSpace . } UNION { ?hvacCoreSpace ref:hasLocation ?sensor . }

  # Constrain the space to be an HVAC core space
  ?hvacCoreSpace a ref:HVAC_Core_Space .
  ?hvacCoreSpace rdfs:label ?hvacCoreSpaceName .
}
",True,False,False,26,3,0,3,0.0,9146,10141,19287,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_007,4,LLM_3,"Which Fahrenheit air temperature sensors are installed in core areas of the HVAC domain, and what are the labels of those sensors, their measurement points, and the spaces?",openai/o3-mini,"PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT distinct ?sensor_label ?sensor_prop_label ?ds_label where {
?sensor a s223:Sensor .
?sensor s223:observes ?sensor_prop .
?sensor rdfs:label ?sensor_label .
?sensor_prop a s223:QuantifiableObservableProperty .
?sensor_prop qudt:hasQuantityKind quantitykind:Temperature .
?sensor_prop qudt:hasUnit unit:DEG_F .
?sensor_prop s223:ofMedium s223:Fluid-Air .
?sensor_prop rdfs:label ?sensor_prop_label .

?sensor s223:hasObservationLocation ?ds .
?ds a s223:DomainSpace .
?ds s223:hasDomain s223:Domain-HVAC .
?ds rdfs:label ?ds_label .
?ds a ex1:CoreSpace .
}","PREFIX brick: <https://brickschema.org/schema/Brick/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?sensor ?sensorLabel ?measurementPointLabel ?spaceLabel
WHERE {
  # Identify Fahrenheit air temperature sensors using the Brick class
  ?sensor a brick:Air_Temperature_Sensor ;
          rdfs:label ?sensorLabel .

  # Get the measurement point via a standard relationship (using Brick's hasPoint or its inverse)
  { ?sensor brick:hasPoint ?mp . }
  UNION
  { ?mp brick:isPointOf ?sensor . }
  ?mp rdfs:label ?measurementPointLabel .

  # Ensure that either the sensor or its measurement point has the Fahrenheit unit defined
  { ?sensor qudt:hasUnit unit:FAHRENHEIT . }
  UNION
  { ?mp qudt:hasUnit unit:FAHRENHEIT . }
  
  # Link the measurement point to a space where it is installed via a standard spatial relation
  ?mp brick:isLocatedIn ?space .
  ?space rdfs:label ?spaceLabel .

  # Filter spaces to ones that are explicitly classified as being part of the HVAC domain (for example, an HVAC zone)
  # Here we assume that spaces in the HVAC domain are typed as brick:HVAC_Zone
  ?space a brick:HVAC_Zone .
}
",True,False,False,26,3,0,4,0.0,8646,10908,19554,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_007,5,LLM_4,"Identify the air temperature sensing devices using Fahrenheit in HVAC core spaces and provide their sensor names, the corresponding measurement labels, and the space names.",openai/o3-mini,"PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT distinct ?sensor_label ?sensor_prop_label ?ds_label where {
?sensor a s223:Sensor .
?sensor s223:observes ?sensor_prop .
?sensor rdfs:label ?sensor_label .
?sensor_prop a s223:QuantifiableObservableProperty .
?sensor_prop qudt:hasQuantityKind quantitykind:Temperature .
?sensor_prop qudt:hasUnit unit:DEG_F .
?sensor_prop s223:ofMedium s223:Fluid-Air .
?sensor_prop rdfs:label ?sensor_prop_label .

?sensor s223:hasObservationLocation ?ds .
?ds a s223:DomainSpace .
?ds s223:hasDomain s223:Domain-HVAC .
?ds rdfs:label ?ds_label .
?ds a ex1:CoreSpace .
}","PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?sensorName ?measurementLabel ?spaceName
WHERE {
  # Identify air temperature sensors using the Brick class
  ?sensor a ref:Air_Temperature_Sensor .

  # Link the sensor to its measurement (using the Brick relationship for measurements)
  ?sensor ref:hasMeasurement ?measurement .
  ?measurement qudt:hasUnit unit:degF .

  # Associate the sensor with a space using the Brick relationship indicating location
  ?sensor ref:isLocatedIn ?space .
  ?space a ref:HVAC_Core_Space .

  # Retrieve labels for sensor, measurement, and space
  ?sensor rdfs:label ?sensorName .
  ?measurement rdfs:label ?measurementLabel .
  ?space rdfs:label ?spaceName .
}",True,False,False,26,3,0,3,0.0,8377,9894,18271,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_007,6,LLM_5,Can you list all sensors monitoring air temperature in Fahrenheit within core HVAC areas along with their measurement point names and the names of their locations?,openai/o3-mini,"PREFIX unit: <http://qudt.org/vocab/unit/>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ex1: <http://data.ashrae.org/standard223/data/lbnl-example-2#>
SELECT distinct ?sensor_label ?sensor_prop_label ?ds_label where {
?sensor a s223:Sensor .
?sensor s223:observes ?sensor_prop .
?sensor rdfs:label ?sensor_label .
?sensor_prop a s223:QuantifiableObservableProperty .
?sensor_prop qudt:hasQuantityKind quantitykind:Temperature .
?sensor_prop qudt:hasUnit unit:DEG_F .
?sensor_prop s223:ofMedium s223:Fluid-Air .
?sensor_prop rdfs:label ?sensor_prop_label .

?sensor s223:hasObservationLocation ?ds .
?ds a s223:DomainSpace .
?ds s223:hasDomain s223:Domain-HVAC .
?ds rdfs:label ?ds_label .
?ds a ex1:CoreSpace .
}","PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX bob: <http://data.ashrae.org/standard223/si-builder#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX unit: <http://qudt.org/vocab/unit/>

# This query is designed to be more flexible in matching sensors for air temperature in Fahrenheit inside core HVAC areas.
# It uses a UNION to allow for sensors modeled either as an Air Temperature Sensor in Brick (as Brick:Air_Temperature_Sensor) or
# as a bob:Temperature. It also allows for the measurement point to be obtained via either ref:hasPoint or ref:hasMeasurementPoint, 
# or, if no separate measurement point exists, the sensor itself is used (via BIND). The unit information is expected on the measurement 
# point (or on the sensor directly) via qudt:hasUnit with the value unit:DEG_F. Finally, the sensor's location is obtained through either 
# s223:isConnectionPointOf or ref:locatedIn, and the location label is loosely filtered for the keywords ""HVAC"" or ""Core"" (case-insensitive).

SELECT ?sensor ?measurementPointName ?locationName
WHERE {
  {
    { ?sensor a <https://brickschema.org/schema/Brick/Air_Temperature_Sensor> . }
    UNION
    { ?sensor a bob:Temperature . }
  }

  # Identify the measurement point and ensure it carries Fahrenheit unit information
  {
    { ?sensor ref:hasPoint ?mp . }
    UNION
    { ?sensor ref:hasMeasurementPoint ?mp . }
    UNION
    { BIND(?sensor AS ?mp) }
  }
  ?mp qudt:hasUnit unit:DEG_F .
  ?mp rdfs:label ?measurementPointName .

  # Link the sensor to its location; allow for different modeling patterns
  {
    { ?sensor s223:isConnectionPointOf ?location . }
    UNION
    { ?sensor ref:locatedIn ?location . }
  }
  ?location rdfs:label ?locationName .

  # Loosely restrict to core HVAC areas by matching location labels that contain either 'HVAC' or 'Core'
  FILTER (regex(?locationName, ""HVAC"", ""i"") || regex(?locationName, ""Core"", ""i""))
}
",True,False,False,26,3,0,3,0.0,9062,12808,21870,0.0,0.0,False,1.0,0.0,ReAct(w100triples),b59,o3-mini
LBNL_003,2,human,"For each Water-to-Water Heat Pump, what are the related property labels and non-writable quantities' ALC and MPC endpoint references?",openai/o3-mini,"PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX s223: <http://data.ashrae.org/standard223#>
SELECT DISTINCT ?target ?prop ?label ?qty ?ref ?alc_endpoint ?mpc_endpoint where {
?target a s223:WatertoWaterHeatPump .
?target s223:contains ?prop .
?prop rdfs:label ?label .
?prop s223:observes ?qty .
?qty s223:hasExternalReference ?ref .
?ref ref:endpoint ?alc_endpoint .
?ref ref:mpc_db_name ?mpc_endpoint .
?ref ref:writable ""False"" .
}","PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ref: <https://brickschema.org/schema/Brick/>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?heatPump ?propertyLabel ?ALC ?MPC
WHERE {
  # Identify water-to-water heat pumps either by a direct type or by having both water media
  {
    ?heatPump a s223:WaterToWaterHeatPump .
  } UNION {
    ?heatPump s223:hasMedium s223:Water-HotWater .
    ?heatPump s223:hasMedium s223:Fluid-Water .
  }
  
  # Retrieve related properties for each heat pump
  ?heatPump s223:hasProperty ?p .
  OPTIONAL { ?p rdfs:label ?propertyLabel . }
  
  # For properties that are quantifiable and non-writable, retrieve ALC and MPC endpoint references
  OPTIONAL {
    ?p a ?qType .
    FILTER(?qType = s223:QuantifiableProperty || ?qType = s223:QuantifiableObservableProperty || ?qType = s223:QuantifiableActuatableProperty)
    ?p ref:writable ?writable .
    FILTER(xsd:boolean(?writable) = false)
    ?p ref:source ?ALC .
    ?p ref:mpc_db_name ?MPC .
  }
}
ORDER BY ?heatPump ?propertyLabel",True,False,False,7,7,0,4,0.0,8846,13988,22834,0.0,0.0,False,,,ReAct(w100triples),b59,o3-mini
